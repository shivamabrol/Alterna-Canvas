import * as i0 from '@angular/core';
import { EventEmitter, Component, Output, Input, ElementRef, Inject, NgModule } from '@angular/core';

//@ts-nocheck
/** @license
 * DayPilot Pro for JavaScript 2022.4.5457 (trial)
 * Copyright 2005 - 2022 Annpoint, s.r.o.
 * Use of this software is subject to license terms.
 * https://www.daypilot.org/
 */
var DayPilot;
(function (DayPilot) {
    class SchedulerPropsAndEvents {
    }
    DayPilot.SchedulerPropsAndEvents = SchedulerPropsAndEvents;
    class SchedulerConfig extends SchedulerPropsAndEvents {
    }
    DayPilot.SchedulerConfig = SchedulerConfig;
    class Scheduler extends SchedulerPropsAndEvents {
    }
    DayPilot.Scheduler = Scheduler;
    class CalendarPropsAndEvents {
    }
    DayPilot.CalendarPropsAndEvents = CalendarPropsAndEvents;
    class CalendarConfig extends CalendarPropsAndEvents {
    }
    DayPilot.CalendarConfig = CalendarConfig;
    class Calendar extends CalendarPropsAndEvents {
    }
    DayPilot.Calendar = Calendar;
    class CalendarColumn {
    }
    DayPilot.CalendarColumn = CalendarColumn;
    class MonthPropsAndEvents {
    }
    DayPilot.MonthPropsAndEvents = MonthPropsAndEvents;
    class MonthConfig extends MonthPropsAndEvents {
    }
    DayPilot.MonthConfig = MonthConfig;
    class Month extends MonthPropsAndEvents {
    }
    DayPilot.Month = Month;
    class KanbanPropsAndEvents {
    }
    DayPilot.KanbanPropsAndEvents = KanbanPropsAndEvents;
    class KanbanConfig extends KanbanPropsAndEvents {
    }
    DayPilot.KanbanConfig = KanbanConfig;
    class Kanban extends KanbanPropsAndEvents {
    }
    DayPilot.Kanban = Kanban;
    class GanttPropsAndEvents {
    }
    DayPilot.GanttPropsAndEvents = GanttPropsAndEvents;
    class GanttConfig extends GanttPropsAndEvents {
    }
    DayPilot.GanttConfig = GanttConfig;
    class Gantt extends GanttPropsAndEvents {
    }
    DayPilot.Gantt = Gantt;
    class QueuePropsAndEvents {
    }
    DayPilot.QueuePropsAndEvents = QueuePropsAndEvents;
    class QueueConfig extends QueuePropsAndEvents {
    }
    DayPilot.QueueConfig = QueueConfig;
    class Queue extends QueuePropsAndEvents {
    }
    DayPilot.Queue = Queue;
    class QueueData {
    }
    DayPilot.QueueData = QueueData;
    class NavigatorPropsAndEvents {
    }
    DayPilot.NavigatorPropsAndEvents = NavigatorPropsAndEvents;
    class NavigatorConfig extends NavigatorPropsAndEvents {
    }
    DayPilot.NavigatorConfig = NavigatorConfig;
    class Navigator extends NavigatorPropsAndEvents {
    }
    DayPilot.Navigator = Navigator;
    class BubblePropsAndEvents {
    }
    DayPilot.BubblePropsAndEvents = BubblePropsAndEvents;
    class BubbleConfig extends BubblePropsAndEvents {
    }
    DayPilot.BubbleConfig = BubbleConfig;
    class Bubble extends BubblePropsAndEvents {
    }
    DayPilot.Bubble = Bubble;
    class Locale {
    }
    DayPilot.Locale = Locale;
    class MenuPropsAndEvents {
    }
    DayPilot.MenuPropsAndEvents = MenuPropsAndEvents;
    class MenuConfig extends MenuPropsAndEvents {
    }
    DayPilot.MenuConfig = MenuConfig;
    class Menu extends MenuPropsAndEvents {
    }
    DayPilot.Menu = Menu;
    class MenuBar {
    }
    DayPilot.MenuBar = MenuBar;
    class Date {
    }
    DayPilot.Date = Date;
    class DateCache {
    }
    class Util {
    }
    DayPilot.Util = Util;
    class ColorUtil {
    }
    DayPilot.ColorUtil = ColorUtil;
    class Duration {
    }
    DayPilot.Duration = Duration;
    class Event {
    }
    DayPilot.Event = Event;
    class Task {
    }
    DayPilot.Task = Task;
    class Card {
    }
    DayPilot.Card = Card;
    class Link {
    }
    DayPilot.Link = Link;
    class Row {
    }
    DayPilot.Row = Row;
    class RenderRow extends Row {
    }
    DayPilot.RenderRow = RenderRow;
    class Selection {
    }
    DayPilot.Selection = Selection;
    class Export {
    }
    DayPilot.Export = Export;
    // modal
    class ModalPropsAndEvents {
    }
    DayPilot.ModalPropsAndEvents = ModalPropsAndEvents;
    class ModalConfig extends ModalPropsAndEvents {
    }
    DayPilot.ModalConfig = ModalConfig;
    class Modal extends ModalPropsAndEvents {
    }
    DayPilot.Modal = Modal;
    class ModalAlertConfig extends ModalConfig {
    }
    DayPilot.ModalAlertConfig = ModalAlertConfig;
    class ModalConfirmConfig extends ModalConfig {
    }
    DayPilot.ModalConfirmConfig = ModalConfirmConfig;
    class ModalPromptConfig extends ModalConfig {
    }
    DayPilot.ModalPromptConfig = ModalPromptConfig;
    class ModalFormConfig extends ModalConfig {
    }
    DayPilot.ModalFormConfig = ModalFormConfig;
})(DayPilot || (DayPilot = {}));
/**
@license
DayPilot Pro for JavaScript 2022.4.5457 (trial)
Copyright (c) 2005 - 2022 Annpoint s.r.o.
https://www.daypilot.org/
Use of this software is subject to license terms.
*/
if ("undefined" == typeof DayPilot)
    var DayPilot = {};
if ("undefined" == typeof DayPilot.Global && (DayPilot.Global = {}), function (DayPilot) {
    function e(e) { var t = DayPilot.Date.Cache.Ticks; if (t[e])
        return DayPilot.Stats.cacheHitsTicks += 1, t[e]; var n, i = new Date(e), a = i.getUTCMilliseconds(); n = 0 === a ? "" : a < 10 ? ".00" + a : a < 100 ? ".0" + a : "." + a; var r = i.getUTCSeconds(); r < 10 && (r = "0" + r); var o = i.getUTCMinutes(); o < 10 && (o = "0" + o); var s = i.getUTCHours(); s < 10 && (s = "0" + s); var l = i.getUTCDate(); l < 10 && (l = "0" + l); var d = i.getUTCMonth() + 1; d < 10 && (d = "0" + d); var c = i.getUTCFullYear(); if (c <= 0)
        throw "The minimum year supported is 1."; c < 10 ? c = "000" + c : c < 100 ? c = "00" + c : c < 1e3 && (c = "0" + c); var u = c + "-" + d + "-" + l + "T" + s + ":" + o + ":" + r + n; return t[e] = u, u; }
    function t(e, t) { return !DayPilot.Util.isNullOrUndefined(e) && (!DayPilot.Util.isNullOrUndefined(t) && e.toLocaleLowerCase() === t.toLocaleLowerCase()); }
    function n(e) { e = Math.min(e, 255), e = Math.max(e, 0); var t = e.toString(16); return e < 16 ? "0" + t : t; }
    if ("undefined" == typeof DayPilot.$) {
        DayPilot.$ = function (e) { return document.getElementById(e); }, DayPilot.isKhtml = navigator && navigator.userAgent && navigator.userAgent.indexOf("KHTML") !== -1, DayPilot.isIE = navigator && navigator.userAgent && (navigator.userAgent.indexOf("MSIE") !== -1 || navigator.userAgent.indexOf("Trident") !== -1), DayPilot.isIEQuirks = DayPilot.isIE && document.compatMode && "BackCompat" === document.compatMode, DayPilot.browser = {}, DayPilot.browser.ff = navigator && navigator.userAgent && navigator.userAgent.indexOf("Firefox") !== -1, DayPilot.browser.chrome = navigator && navigator.userAgent && navigator.userAgent.indexOf("Chrome") !== -1, DayPilot.browser.ie = DayPilot.isIE, DayPilot.browser.edge = navigator && navigator.userAgent && navigator.userAgent.indexOf("Edge") !== -1, DayPilot.browser.webkit = navigator && navigator.userAgent && navigator.userAgent.indexOf("WebKit") !== -1, DayPilot.browser.hover = !window.matchMedia("(any-hover: none)").matches, DayPilot.browser.passiveEvents = !1, function () { try {
            window.addEventListener("test", null, Object.defineProperty({}, "passive", { "get": function () { DayPilot.browser.passiveEvents = !0; } }));
        }
        catch (e) { } }(), DayPilot.libs = {}, DayPilot.libs.angularjs = "object" == typeof angularjs, DayPilot.touch = {}, DayPilot.touch.start = window.navigator.msPointerEnabled ? "MSPointerDown" : "touchstart", DayPilot.touch.move = window.navigator.msPointerEnabled ? "MSPointerMove" : "touchmove", DayPilot.touch.end = window.navigator.msPointerEnabled ? "MSPointerUp" : "touchend", DayPilot.mo2 = function (e, t) { if ("undefined" != typeof t.offsetX) {
            var n = { x: t.offsetX + 1, y: t.offsetY + 1 };
            if (!e)
                return n;
            for (var i = t.srcElement; i && i !== e;)
                "SPAN" !== i.tagName && (n.x += i.offsetLeft, i.offsetTop > 0 && (n.y += i.offsetTop - i.scrollTop)), i = i.offsetParent;
            return i ? n : null;
        } if ("undefined" != typeof t.layerX) {
            var n = { x: t.layerX, y: t.layerY, src: t.target };
            if (!e)
                return n;
            for (var i = t.target; i && "absolute" !== i.style.position && "relative" !== i.style.position;)
                i = i.parentNode, DayPilot.isKhtml && (n.y += i.scrollTop);
            for (; i && i !== e;)
                n.x += i.offsetLeft, n.y += i.offsetTop - i.scrollTop, i = i.offsetParent;
            return i ? n : null;
        } return null; }, DayPilot.mo3 = function (e, t) { var n, i = DayPilot.page(t); if (i)
            if (e) {
                var a = DayPilot.abs(e);
                if (!a)
                    throw new Error("no abs");
                n = { x: i.x - a.x, y: i.y - a.y };
            }
            else
                n = { x: i.x, y: i.y };
        else if (n = DayPilot.mo2(e, t), !n)
            return null; return n.shift = t.shiftKey, n.meta = t.metaKey, n.ctrl = t.ctrlKey, n.alt = t.altKey, n; }, DayPilot.mc = function (e) { return e.pageX || e.pageY ? { x: e.pageX, y: e.pageY } : { x: e.clientX + document.documentElement.scrollLeft, y: e.clientY + document.documentElement.scrollTop }; }, DayPilot.Stats = {}, DayPilot.Stats.eventObjects = 0, DayPilot.Stats.dateObjects = 0, DayPilot.Stats.cacheHitsCtor = 0, DayPilot.Stats.cacheHitsParsing = 0, DayPilot.Stats.cacheHitsTicks = 0, DayPilot.list = function (e, t) { if (e && e.isDayPilotList && !t)
            return e; var n = DayPilot.isArray(e) || "[object NodeList]" === Object.prototype.toString.call(e), i = !n && !DayPilot.Util.isNullOrUndefined(e), a = []; if (a.isDayPilotList = !0, a.clone = function () { var e = DayPilot.list(); return a.forEach(function (t) { e.push(t); }), e; }, a.each = function (e) { if (e) {
            if (a.forEach)
                return void a.forEach(e);
            for (var t = 0; t < this.length; t++)
                e(a[t], t, a);
        } }, a.addProps = function (e) { var t = a.clone(); if (e)
            for (var n in e)
                t[n] = e[n]; return t; }, a.last = function () { return 0 === a.length ? null : a[a.length - 1]; }, a.first = function () { return 0 === a.length ? null : a[0]; }, a.add = function (e) { var t = a.clone(); return t.push(e), t; }, a.map = function (e) { if ("function" != typeof e)
            throw "DayPilot.list().map(f): Function expected"; var t = DayPilot.list(); return a.forEach(function (n, i, a) { t.push(e(n, i, a)); }), t; }, a.filter = function (e) { var t = DayPilot.list(); if ("function" != typeof e)
            throw "DayPilot.list().filter(f): Function expected"; return a.forEach(function (n, i, a) { e(n, i, a) && t.push(n); }), t; }, a.concat = function (e) { if (!e)
            return a; for (var t = a.clone(), n = 0; n < e.length; n++)
            t.push(e[n]); return t; }, a.find || (a.find = function (e) { if ("function" != typeof e)
            throw "DayPilot.list().find(f): Function expected"; for (var t = 0; t < this.length; t++)
            if (e(a[t]))
                return a[t]; }), a.findIndex || (a.findIndex = function (e) { if ("function" != typeof e)
            throw "DayPilot.list().findIndex(f): Function expected"; for (var t = 0; t < this.length; t++)
            if (e(a[t]))
                return t; return -1; }), a.some || (a.some = function (e) { if ("function" != typeof e)
            throw "DayPilot.list().some(f): Function expected"; for (var t = 0; t < this.length; t++)
            if (e(a[t]))
                return !0; return !1; }), a.reduce || (a.reduce = function (e, t) { if ("function" != typeof e)
            throw "DayPilot.list().reduce(f): Function expected"; var n, i = 0; if ("undefined" != typeof t)
            n = t;
        else {
            if (i = 1, 0 === a.length)
                throw "DayPilot.list().reduce(f): No initial value and empty list";
            n = a[0];
        } for (var r = i; r < this.length; r++)
            n = e(n, a[r], r, this); return n; }), a.isEmpty = function () { return 0 === a.length; }, n)
            for (var r = 0; r < e.length; r++)
                a[r] = e[r];
        else
            i && (a[0] = e); return a; }, DayPilot.list.for = function (e, t) { for (var n = DayPilot.list(), i = 0; i < e; i++)
            "function" == typeof t ? n.push(t(i)) : n.push(i); return n; }, DayPilot.line = function (e, t, n, i, a) { a = a || {}; var r = { "x": e, "y": t }, o = { "x": n, "y": i, "deg": DayPilot.deg(e, t, n, i) }, s = !1; if (t < i) {
            var l = t;
            t = i, i = l, l = e, e = n, n = l, s = !0;
        } var d = DayPilot.deg(e, t, n, i), c = { "x": e, "y": t }, u = { "x": n, "y": i }, h = function () { var a = Math.abs(e - n), r = Math.abs(t - i), o = (e + n) / 2; return o - Math.sqrt(a * a + r * r) / 2; }(), f = function () { return (t + i) / 2; }(), v = DayPilot.distance(c, u), p = document.createElement("div"); p.setAttribute("style", "width:" + v + "px;height:0px;-moz-transform:rotate(" + d + "deg);-webkit-transform:rotate(" + d + "deg);-ms-transform:rotate(" + d + "deg);transform:rotate(" + d + "deg);position:absolute;top:" + f + "px;left:" + h + "px;"), a.cssClass && (p.className = a.cssClass); var m = document.createElement("div"); m.appendChild(p); var g, b, d, y, w = !!a.arrow; if (w) {
            var g = o.y - 5, b = o.x - 5, d = d;
            o.y > r.y && (d -= 180);
            var y = document.createElement("div");
            y.style.borderColor = "black", y.style.width = "10px", y.style.height = "10px", y.style.borderRadius = "10px", y.style.position = "absolute", y.style.left = b + "px", y.style.top = g + "px", a.cssClass ? y.className = a.cssClass + "_circle" : y.style.backgroundColor = "black", m.appendChild(y);
        } return m; }, DayPilot.deg = function (e, t, n, i) { var a, r = Math.abs(e - n), o = Math.abs(t - i), s = (e + n) / 2, l = (t + i) / 2, d = Math.sqrt(r * r + o * o), c = s - d / 2, u = l; r = d / 2, a = Math.abs(s - c), o = Math.sqrt(Math.abs(e - c) * Math.abs(e - c) + Math.abs(t - u) * Math.abs(t - u)); var h = (o * o - r * r - a * a) / (2 * r * a); return 180 * Math.acos(h) / Math.PI; }, DayPilot.complete = function (e) { return "complete" === document.readyState ? void e() : (DayPilot.complete.list || (DayPilot.complete.list = [], DayPilot.re(document, "readystatechange", function () { if ("complete" === document.readyState) {
            for (var e = 0; e < DayPilot.complete.list.length; e++) {
                (0, DayPilot.complete.list[e])();
            }
            DayPilot.complete.list = [];
        } })), void DayPilot.complete.list.push(e)); }, DayPilot.page = function (e) { var t = e.changedTouches && e.changedTouches[0] ? e.changedTouches[0] : e; return "undefined" == typeof t.pageX || DayPilot.browser.ie ? "undefined" != typeof e.clientX && document.body && document.documentElement ? { x: e.clientX + document.body.scrollLeft + document.documentElement.scrollLeft, y: e.clientY + document.body.scrollTop + document.documentElement.scrollTop } : null : { x: t.pageX, y: t.pageY }; }, DayPilot.rel = function (e, t) { var n = DayPilot.abs(e), i = DayPilot.abs(t); return { "x": n.x - i.x, "y": n.y - i.y, "w": e.offsetWidth, "h": e.offsetHeight }; }, DayPilot.abs = function (e, t) { if (!e)
            return null; if (e.getBoundingClientRect) {
            var n = DayPilot.absBoundingClientBased(e);
            if (t) {
                var i = DayPilot.absOffsetBased(e, !1), t = DayPilot.absOffsetBased(e, !0);
                n.x += t.x - i.x, n.y += t.y - i.y, n.w = t.w, n.h = t.h;
            }
            return n;
        } return DayPilot.absOffsetBased(e, t); }, DayPilot.absBoundingClientBased = function (e) { var t = e.getBoundingClientRect(); return { x: t.left + window.pageXOffset, y: t.top + window.pageYOffset, w: e.clientWidth, h: e.clientHeight, toString: function () { return "x:" + this.x + " y:" + this.y + " w:" + this.w + " h:" + this.h; } }; }, DayPilot.isArray = function (e) { return "[object Array]" === Object.prototype.toString.call(e); }, DayPilot.absOffsetBased = function (e, t) { for (var n = { x: e.offsetLeft, y: e.offsetTop, w: e.clientWidth, h: e.clientHeight, toString: function () { return "x:" + this.x + " y:" + this.y + " w:" + this.w + " h:" + this.h; } }; DayPilot.op(e);)
            e = DayPilot.op(e), n.x -= e.scrollLeft, n.y -= e.scrollTop, t && (n.x < 0 && (n.w += n.x, n.x = 0), n.y < 0 && (n.h += n.y, n.y = 0), e.scrollLeft > 0 && n.x + n.w > e.clientWidth && (n.w -= n.x + n.w - e.clientWidth), e.scrollTop && n.y + n.h > e.clientHeight && (n.h -= n.y + n.h - e.clientHeight)), n.x += e.offsetLeft, n.y += e.offsetTop; var i = DayPilot.pageOffset(); return n.x += i.x, n.y += i.y, n; }, DayPilot.wd = function () { var e = DayPilot.isIEQuirks, t = document.documentElement.clientHeight; e && (t = document.body.clientHeight); var n = document.documentElement.clientWidth; e && (n = document.body.clientWidth); var i = document.documentElement && document.documentElement.scrollTop || document.body.scrollTop, a = document.documentElement && document.documentElement.scrollLeft || document.body.scrollLeft, r = {}; return r.width = n, r.height = t, r.scrollTop = i, r.scrollLeft = a, r; }, DayPilot.op = function (e) { try {
            return e.offsetParent;
        }
        catch (e) {
            return document.body;
        } }, DayPilot.distance = function (e, t) { return Math.sqrt(Math.pow(e.x - t.x, 2) + Math.pow(e.y - t.y, 2)); }, DayPilot.doc = function () { var e = document.documentElement; return e && e.clientHeight ? e : document.body; }, DayPilot.pageOffset = function () { if ("undefined" != typeof window.pageXOffset)
            return { x: window.pageXOffset, y: window.pageYOffset }; var e = DayPilot.doc(); return { x: e.scrollLeft, y: e.scrollTop }; }, DayPilot.ac = function (e, t) { if (!t)
            var t = []; for (var n = 0; e.children && n < e.children.length; n++)
            t.push(e.children[n]), DayPilot.ac(e.children[n], t); return t; }, DayPilot.indexOf = function (e, t, n) { if (!e || !e.length)
            return -1; for (var i = 0; i < e.length; i++)
            if (n) {
                if (n(e[i], t))
                    return i;
            }
            else if (e[i] === t)
                return i; return -1; }, DayPilot.contains = function (e, t) { if (2 !== arguments.length)
            throw new DayPilot.Exception("DayPilot.contains() requires two arguments."); return !!e && (e === t && !DayPilot.isArray(e) || DayPilot.indexOf(e, t) !== -1); }, DayPilot.rfa = function (e, t) { var n = DayPilot.indexOf(e, t); n !== -1 && e.splice(n, 1); }, DayPilot.sheet = function (e) { e = e || window.document; var t = e.createElement("style"); t.setAttribute("type", "text/css"), t.styleSheet || t.appendChild(e.createTextNode("")), (e.head || e.getElementsByTagName("head")[0]).appendChild(t); var n = !!t.styleSheet, i = {}; return i.rules = [], i.commit = function () { try {
            n && (t.styleSheet.cssText = this.rules.join("\n"));
        }
        catch (e) { } }, i.add = function (e, a, r) { if (n)
            return void this.rules.push(e + "{" + a + "}"); if (t.sheet.insertRule)
            "undefined" == typeof r && (r = t.sheet.cssRules.length), t.sheet.insertRule(e + "{" + a + "}", r);
        else {
            if (!t.sheet.addRule)
                throw "No CSS registration method found";
            t.sheet.addRule(e, a, r);
        } return i; }, i; }, DayPilot.Args = function (e) { var t = this; this.isArgs = !0, this.preventDefault = function () { e && e.preventDefault(), t.preventDefault.value = !0; }; }, DayPilot.Debug = function (e) { var t = this; this.printToBrowserConsole = !1, this.enabled = !1, this.messages = [], this.target = null, this.c = null, this.clear = function () { this.messages = [], t.c && (t.c.innerHTML = ""); }, this.hide = function () { DayPilot.de(t.c), t.c = null; }, this.show = function () { t.c && t.hide(); var n = e.nav.top, i = document.createElement("div"); i.style.position = "absolute", i.style.top = "0px", i.style.bottom = "0px", i.style.left = "0px", i.style.right = "0px", i.style.backgroundColor = "black", i.style.color = "#ccc", i.style.overflow = "auto", i.style.webkitUserSelect = "auto", i.style.MozUserSelect = "all", i.onclick = function () { t.hide(); }; for (var a = 0; a < this.messages.length; a++) {
            var r = t.messages[a], o = r.f();
            i.appendChild(o);
        } this.c = i, n.appendChild(i); }, this.log = function () { if (t.target) {
            for (var e = [], n = 0; n < arguments.length; n++) {
                var i = arguments[n];
                e.push(i);
            }
            var a = e.join(" ");
            t.target.style.whiteSpace = "pre", t.target.innerText += a + "\n";
        } }, this.message = function (e, t) { if (this.enabled) {
            var n = {};
            n.time = new DayPilot.Date, n.level = t || "debug", n.text = DayPilot.Util.escapeHtml(e), n.f = function () { var e = document.createElement("div"); switch (e.innerHTML = n.time + " (" + n.level + "): " + n.text, n.level) {
                case "error":
                    e.style.color = "red";
                    break;
                case "warning":
                    e.style.color = "orange";
                    break;
                case "info":
                    e.style.color = "white";
                    break;
                case "debug":
            } return e; }, this.messages.push(n), this.printToBrowserConsole && "undefined" != typeof console && console.log(n);
        } }; }, DayPilot.re = function (e, t, n) { n && e && e.addEventListener(t, n, !1); }, DayPilot.rePassive = function (e, t, n) { n && e && e.addEventListener(t, n, { "passive": !0 }); }, DayPilot.reNonPassive = function (e, t, n) { n && e && e.addEventListener(t, n, { "passive": !1 }); }, DayPilot.ue = function (e, t, n) { e.removeEventListener(t, n, !1); }, DayPilot.ds = function (e) { return DayPilot.Date.toStringSortable(e); }, DayPilot.gs = function (e, t) { return window.getComputedStyle(e, null).getPropertyValue(t) || ""; }, DayPilot.StyleReader = function (e) { this.get = function (t) { return e ? DayPilot.gs(e, t) : null; }, this.getPx = function (e) { var t = this.get(e); return t.indexOf("px") === -1 ? void 0 : parseInt(t, 10); }, this.getFont = function () { var e = this.get("font-weight"), t = "italic" === this.get("font-style") ? "italic" : ""; return { "family": this.get("font-family"), "size": this.get("font-size"), "style": t + " " + e, "asString": function () { return DayPilot.Util.fontString(this); } }; }, this.getBackColor = function (e) { "undefined" == typeof e && (e = "white"); var t = this.get("background-color"); return DayPilot.Util.isTransparentColor(t) ? e : t; }; }, DayPilot.he = function (e) { var t = e.replace(/&/g, "&amp;"); return t = t.replace(/</g, "&lt;"), t = t.replace(/>/g, "&gt;"), t = t.replace(/"/g, "&quot;"); }, DayPilot.he2 = function (e) { var t = document.createTextNode(e), n = document.createElement("div"); return n.appendChild(t), n.innerHTML; }, DayPilot.us = function (e) { if (e) {
            e.setAttribute("unselectable", "on"), e.style.userSelect = "none", e.style.MozUserSelect = "none", e.style.KhtmlUserSelect = "none", e.style.webkitUserSelect = "none";
            for (var t = 0; t < e.childNodes.length; t++)
                1 === e.childNodes[t].nodeType && DayPilot.us(e.childNodes[t]);
        } }, DayPilot.pu = function (e) { var t, n, i, a = e.attributes; if (a)
            for (n = a.length, t = 0; t < n; t += 1)
                a[t] && (i = a[t].name, "function" == typeof e[i] && (e[i] = null)); if (a = e.childNodes)
            for (n = a.length, t = 0; t < n; t += 1) {
                DayPilot.pu(e.childNodes[t]);
            } }, DayPilot.puc = function (e) { var t, n, i = e.childNodes; if (i) {
            var n = i.length;
            for (t = 0; t < n; t += 1)
                DayPilot.pu(e.childNodes[t]);
        } }, DayPilot.de = function (e) { if (e)
            if (DayPilot.isArray(e))
                for (var t = 0; t < e.length; t++)
                    DayPilot.de(e[t]);
            else
                e.parentNode && e.parentNode.removeChild(e); }, DayPilot.fade = function (e, t, n) { if (e) {
            clearTimeout(e.messageTimeout);
            var i = "none" !== e.style.display, a = t > 0, r = t < 0;
            if (0 !== t) {
                if (a ? e.status = "in" : r && (e.status = "out"), a && !i)
                    e.target = parseFloat(e.style.opacity), e.opacity = 0, e.style.opacity = 0, e.style.display = "";
                else if (r && !e.target)
                    e.target = e.style.opacity;
                else {
                    var o = e.opacity, s = Math.floor(10 * (o + t)) / 10;
                    a && s > e.target && (s = e.target), r && s < 0 && (s = 0);
                    e.opacity = s, e.style.opacity = s;
                }
                a && (e.opacity >= e.target || e.opacity >= 1) || r && e.opacity <= 0 ? (e.target = null, r && (e.style.opacity = e.target, e.opacity = e.target, e.style.display = "none"), n && "function" == typeof n && (e.status = null, n())) : e.messageTimeout = setTimeout(function () { DayPilot.fade(e, t, n); }, 50);
            }
        } }, DayPilot.sw = function (e) { return e ? e.offsetWidth - e.clientWidth : 0; }, DayPilot.swa = function () { var e = document.createElement("div"); e.style.position = "absolute", e.style.top = "-2000px", e.style.left = "-2000px", e.style.width = "200px", e.style.height = "100px", e.style.overflow = "auto"; var t = document.createElement("div"); t.style.width = "300px", t.style.height = "300px", e.appendChild(t), document.body.appendChild(e); var n = DayPilot.sw(e); return document.body.removeChild(e), n; }, DayPilot.sh = function (e) { return e ? e.offsetHeight - e.clientHeight : 0; }, DayPilot.guid = function () { var e = function () { return (65536 * (1 + Math.random()) | 0).toString(16).substring(1); }; return "" + e() + e() + "-" + e() + "-" + e() + "-" + e() + "-" + e() + e() + e(); }, DayPilot.ua = function (e) { if (!DayPilot.isArray(e))
            throw new DayPilot.Exception("DayPilot.ua() - array required"); var t = []; return e.forEach(function (e) { DayPilot.contains(t, e) || t.push(e); }), t; }, DayPilot.am = function () { return "undefined" == typeof angular ? null : (DayPilot.am.cached || (DayPilot.am.cached = angular.module("daypilot", [])), DayPilot.am.cached); }, function () { function e(e, i) { var a = { w: e.offsetWidth, h: e.offsetHeight, x: parseInt(e.style.left), y: parseInt(e.style.top) }; a.height = e.style.height, a.width = e.style.width, a.top = e.style.top, a.left = e.style.left, a.toString = function () { return "w: " + this.w + " h:" + this.h; }; var r = {}; if (r.finished = null, r.vertical = "center", r.horizontal = "center", i)
            for (var o in i)
                r[o] = i[o]; e.style.visibility = "hidden", e.style.display = ""; var s = i.animation || "fast", l = t(s); l.div = e, l.i = 0, l.target = a, l.config = r, n(l); } function t(e) { var t = function () { var e = []; e.time = 10; var t, n = .08; t = .1; for (var i = t; i < 1.2; i += n)
            e.push(i), t = i; n = .03; for (var i = t; i > .8; i -= n)
            e.push(i), t = i; for (var i = t; i <= 1; i += n)
            e.push(i), t = i; return e; }, n = function () { var e = []; e.time = 10; var t, n = .04; t = .1; for (var i = t; i <= 1; i += n)
            e.push(i), t = i; return e; }, i = function () { var e = []; e.time = 10; var t, n = .08; t = .1; for (var i = t; i <= 1; i += n)
            e.push(i), t = i; return e; }, a = { "fast": i, "slow": n, "jump": t }; return a[e] || (e = "fast"), a[e](); } function n(e) { var t, i = e.div, a = e[e.i], r = a * e.target.h; switch (e.config.vertical) {
            case "center":
                t = e.target.y - (r - e.target.h) / 2;
                break;
            case "top":
                t = e.target.y;
                break;
            case "bottom":
                t = e.target.y - (r - e.target.h);
                break;
            default: throw "Unexpected 'vertical' value.";
        } var o, s = a * e.target.w; switch (e.config.horizontal) {
            case "left":
                o = e.target.x;
                break;
            case "center":
                o = e.target.x - (s - e.target.w) / 2;
                break;
            case "right":
                o = e.target.x - (s - e.target.w);
                break;
            default: throw "Unexpected 'horizontal' value.";
        } i.style.height = r + "px", i.style.top = t + "px", i.style.width = s + "px", i.style.left = o + "px", i.style.visibility = "visible", e.i++, e.i < e.length - 1 ? setTimeout(function (e) { return function () { n(e); }; }(e), e.time) : (i.style.width = e.target.width, i.style.height = e.target.height, i.style.top = e.target.top, i.style.left = e.target.left, "function" == typeof e.config.finished && e.config.finished()); } DayPilot.pop = e; }(), DayPilot.Util = {}, DayPilot.Util.addClass = function (e, t) { if (t && e)
            if (DayPilot.isArray(e))
                for (var n = 0; n < e.length; n++)
                    DayPilot.Util.addClass(e[n], t);
            else {
                if (!e.className)
                    return void (e.className = t);
                var i = new RegExp("(^|\\s)" + t + "($|\\s)");
                i.test(e.className) || (e.className = e.className + " " + t);
            } }, DayPilot.Util.normalizeColor = function (e) { function t(e) { return e = e.replace(/[^\d,]/g, "").split(","), "#" + ((1 << 24) + (+e[0] << 16) + (+e[1] << 8) + +e[2]).toString(16).slice(1); } return 0 === e.indexOf("rgb") ? t(e) : e; }, DayPilot.Util.addClassToString = function (e, t) { return e ? new RegExp("(^|\\s)" + t + "($|\\s)").test(e) ? e : e + " " + t : t; }, DayPilot.Util.removeClassFromString = function (e, t) { if (!e)
            return ""; var n = new RegExp("(^|\\s)" + t + "($|\\s)"); return e.replace(n, " ").replace(/^\s\s*/, "").replace(/\s\s*$/, ""); }, DayPilot.Util.removeClass = function (e, t) { if (e)
            if (DayPilot.isArray(e))
                for (var n = 0; n < e.length; n++)
                    DayPilot.Util.removeClass(e[n], t);
            else if (e.className) {
                var i = new RegExp("(^|\\s)" + t + "($|\\s)");
                e.className = e.className.replace(i, " ").replace(/^\s\s*/, "").replace(/\s\s*$/, "");
            } }, DayPilot.Util.props = function (e) { var t = []; for (var n in e)
            t.push(n), t.push(e[n]); return t.join("-"); }, DayPilot.Util.propArray = function (e, t, n) { return DayPilot.list(e).map(function (e) { return e[t] ? e[t] : n; }); }, DayPilot.Util.updatePropsFromArray = function (e, t, n) { for (var i = 0; i < n.length; i++)
            e[i][t] = n[i]; }, DayPilot.Util.copyProps = function (e, t, n) { if (t || (t = {}), !e)
            return t; if ("undefined" == typeof n)
            for (var i in e)
                e.hasOwnProperty(i) && "undefined" != typeof e[i] && (t[i] = e[i]);
        else
            for (var a = 0; a < n.length; a++) {
                var i = n[a];
                "undefined" != typeof e[i] && (t[i] = e[i]);
            } return t; }, DayPilot.Util.ownPropsAsArray = function (e) { var t = []; if (!e)
            return t; for (var n in e)
            if (e.hasOwnProperty(n)) {
                var i = {};
                i.key = n, i.val = e[n], t.push(i);
            } return t; }, DayPilot.Util.firstPropValue = function (e) { for (var t in e)
            return e[t]; }, DayPilot.Util.isOnlyProperty = function (e, t) { if (!e)
            return !1; for (var n in e)
            if (e.hasOwnProperty(n) && n !== t)
                return !1; return !0; }, DayPilot.Util.createArrayCopy = function (e, t) { if (!DayPilot.isArray(e))
            return []; for (var n = [], i = 0; i < e.length; i++) {
            var a = {};
            DayPilot.Util.copyProps(e[i], a, t), n.push(a);
        } return n; }, DayPilot.Util.atLeast = function (e, t) { return Math.max(e, t); }, DayPilot.Util.atMost = function (e, t) { return Math.min(e, t); }, DayPilot.Util.avg = function (e, t) { return (e + t) / 2; }, DayPilot.Util.div = function (e, t, n, i, a) { var r = document.createElement("div"); return (t || n || i || a) && (i < 0 && (t += i, i *= -1), a < 0 && (n += a, a *= -1), r.style.position = "absolute", "number" == typeof t ? r.style.left = t + "px" : "string" == typeof t && (r.style.left = t), "number" == typeof n ? r.style.top = n + "px" : "string" == typeof n && (r.style.top = n), "number" == typeof i ? r.style.width = i + "px" : "string" == typeof i && (r.style.width = i), "number" == typeof a ? r.style.height = a + "px" : "string" == typeof a && (r.style.height = a)), e && e.appendChild(r), r; }, DayPilot.Util.overlaps = function (e, t, n, i) { return !(t <= n || e >= i); }, DayPilot.Util.isMouseEvent = function (e) { return !!navigator.msPointerEnabled && (!!e.pointerType && ("mouse" === e.pointerType || 4 === e.pointerType)); }, DayPilot.Util.mouseButton = function (e) { var t = {}; switch (e.button) {
            case 0:
                t.left = !0;
                break;
            case 1:
                t.middle = !0;
                break;
            case 2: t.right = !0;
        } return t; }, DayPilot.Util.membersPlain = function (e) { var t = DayPilot.Util.members(e, 2), n = function (e) { for (var t = 0; t < e.length; t++) {
            var n = e[t], i = n.name;
            n.obsolete && (i += " (obsolete)"), n.noCssOnly && (i += " (!cssOnly)"), n.aspnet && (i += " (ASP.NET)"), n.mvc && (i += "(MVC)"), e[t] = i;
        } }; return n(t.events), n(t.methods), n(t.properties), t; }, DayPilot.Util.shouldApply = function (e) { if (!e)
            return !1; var t = e.toLowerCase(); return !(t.indexOf("before") >= 0) && (!(t.indexOf("after") >= 0) && ("onrowfilter" !== t && "oneventfilter" !== t)); }, DayPilot.Util.safeApply = function (e, t) { var n = e["$root"]["$$phase"]; "$apply" === n || "$digest" === n ? e["$eval"](t) : e["$apply"](t); }, DayPilot.Util.members = function (e, t) { var n = DayPilot.list(), i = DayPilot.list(), a = DayPilot.list(), r = e && e.members ? e.members.obsolete : [], o = e && e.members ? e.members.noCssOnly : [], s = e && e.members ? e.members.ignore : [], l = e && e.members && e.members.ignoreFilter ? e.members.ignoreFilter : function () { return !1; }; for (var d in e)
            if (0 !== d.indexOf("$") && 0 !== d.indexOf("_") && 0 !== d.indexOf("number") && 0 !== d.indexOf("is") && "v" !== d && !DayPilot.contains(s, d) && !l(d))
                if (0 !== d.indexOf("on"))
                    if ("function" != typeof e[d])
                        if ("object" != typeof e[d])
                            a.push(d);
                        else {
                            var c = e[d];
                            if (0 === t) {
                                a.push(d);
                                continue;
                            }
                            if (c && c.nodeType > 0) {
                                a.push(d);
                                continue;
                            }
                            if (c instanceof DayPilot.Bubble) {
                                a.push(d);
                                continue;
                            }
                            if (c instanceof DayPilot.Date) {
                                a.push(d);
                                continue;
                            }
                            if (c instanceof DayPilot.Menu) {
                                a.push(d);
                                continue;
                            }
                            if (c instanceof DayPilot.Scheduler) {
                                a.push(d);
                                continue;
                            }
                            if (DayPilot.isArray(c)) {
                                a.push(d);
                                continue;
                            }
                            null === c && a.push(d);
                            var u = null;
                            "number" == typeof t && (u = t - 1);
                            for (var h = DayPilot.Util.members(c, u), f = 0; f < h.events.length; f++)
                                n.push(d + "." + h.events[f].name);
                            for (var f = 0; f < h.methods.length; f++)
                                i.push(d + "." + h.methods[f].name);
                            for (var f = 0; f < h.properties.length; f++)
                                a.push(d + "." + h.properties[f].name);
                        }
                    else
                        i.push(d);
                else
                    n.push(d); n.sort(), i.sort(), a.sort(); var v = function (e) { for (var t = 0; t < e.length; t++) {
            var n = e[t], i = {};
            i.name = n, e[t] = i, DayPilot.contains(r, n) && (i.obsolete = !0), DayPilot.contains(o, n) && (i.noCssOnly = !0), n.indexOf("CallBack") !== -1 && (i.aspnet = !0, i.mvc = !0), n.indexOf("PostBack") !== -1 && (i.aspnet = !0), n.indexOf("Notify") !== -1 && (i.aspnet = !0, i.mvc = !0);
        } }; return v(n), v(i), v(a), { "events": n, "methods": i, "properties": a }; }, DayPilot.Util.replaceCharAt = function (e, t, n) { return e.substr(0, t) + n + e.substr(t + n.length); }, DayPilot.Util.evalVariable = function (e, t) { if (t = t || ["object"], null === e || "undefined" == typeof e)
            return null; if (DayPilot.indexOf(t, typeof e) !== -1)
            return e; if ("string" != typeof e)
            throw "Unable to resolve a variable name (not a string)."; if (!/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(e))
            throw "Invalid variable name: " + e; return eval(e); }, DayPilot.Util.evalFunction = function (e) { if (null === e)
            return null; if ("function" == typeof e)
            return e; if ("string" != typeof e)
            throw "Unable to resolve a function (not a string)."; if (!/^\(?function/.test(e))
            throw "Invalid function string"; return eval("(" + e + ")"); }, DayPilot.Util.isNullOrUndefined = function (e) { return null === e || "undefined" == typeof e; }, DayPilot.Util.log = function (e) { window.console && window.console.log && window.console.log(e); }, DayPilot.Util.workerFrom = function (e) { var t = e.toString(), n = t.slice(t.indexOf("{") + 1, t.lastIndexOf("}")), i = new Blob([n]), a = window.URL.createObjectURL(i); return new Worker(a); }, DayPilot.Util.dataUriToBlob = function (e) { if ("string" != typeof e)
            throw "DayPilot.Util.dataUriToBlob(): dataURI string expected"; for (var t = e.split(","), n = t[0], i = t[1], a = n.indexOf("base64") !== -1, r = a ? atob : decodeURI, o = n.split(":")[1].split(";")[0], s = r(i), l = new window.Uint8Array(s.length), d = 0; d < s.length; d++)
            l[d] = s.charCodeAt(d); return new Blob([l], { "type": o }); }, DayPilot.Util.downloadDataUri = function (e, t) { var n = DayPilot.Util.dataUriToBlob(e); DayPilot.Util.downloadBlob(n, t); }, DayPilot.Util.downloadBlob = function (e, t) { var t = t || "download"; if (window.navigator.msSaveBlob)
            window.navigator.msSaveBlob(e, t);
        else {
            var n = window.URL.createObjectURL(e), i = document.createElement("a");
            i.download = t, i.href = n, i.style.display = "none", document.body.appendChild(i), i.click(), setTimeout(function () { document.body.removeChild(i), window.URL.revokeObjectURL(n); });
        } }, DayPilot.Util.monitor = function (e, t, n) { var i = e[t]; e[t] = function () { n.apply(e, arguments), i.apply(e, arguments); }; }, DayPilot.Util.isTransparentColor = function (e) { return "transparent" === e || "rgba(0, 0, 0, 0)" === e; }, DayPilot.Util.stripTags = function (e) { if (DayPilot.Util.isNullOrUndefined(e))
            return e; if ("string" == typeof e)
            return e.replace(/<(?:.|\n)*?>/gm, ""); throw new DayPilot.Exception("Unable to strip tags from a non-string"); }, DayPilot.Util.escapeHtml = function (e) { var t = document.createElement("div"); return t.innerText = e, t.innerHTML; }, DayPilot.Util.escapeTextHtml = function (e, t) { return DayPilot.Util.isNullOrUndefined(t) ? DayPilot.Util.isNullOrUndefined(e) ? "" : DayPilot.Util.escapeHtml(e) : t; }, DayPilot.Util.isSameEvent = function (e, t) { return !(!e || !t) && (e = e instanceof DayPilot.Event ? e.data : e, t = t instanceof DayPilot.Event ? t.data : t, e === t || (!DayPilot.Util.isNullOrUndefined(e.id) && e.id === t.id || !(!DayPilot.Util.isNullOrUndefined(e.id) || DayPilot.Util.isNullOrUndefined(e.recurrentMasterId)) && (e.recurrentMasterId === t.recurrentMasterId && new DayPilot.Date(e.start) === new DayPilot.Date(t.start)))); }, DayPilot.Util.isReactComponent = function (e) { return e && e.$$typeof === ("function" == typeof Symbol && Symbol.for && Symbol.for("react.element") || 60103); }, DayPilot.Util.fontString = function (e) { return (e.style + " " + e.size + " " + e.family).trim(); }, DayPilot.Util.fontHeight = function (e) { var t = DayPilot.Util.fontString(e); if ("number" != typeof DayPilot.Util.fontHeight.cache[t]) {
            var n = document.createElement("div");
            n.style.position = "fixed", n.style.left = "-2000px;", n.style.top = "-2000px", n.style.padding = "0px", n.style.font = t, n.innerText = "X", document.body.appendChild(n), DayPilot.Util.fontHeight.cache[t] = new DayPilot.StyleReader(n).getPx("height"), document.body.removeChild(n);
        } return DayPilot.Util.fontHeight.cache[t]; }, DayPilot.Util.fontHeight.cache = {}, DayPilot.Areas = {}, DayPilot.Areas.attach = function (e, t, n) { var n = n || {}, a = n.areas, r = n.allowed || function () { return !0; }, o = n.offsetX || 0; a = i(t, a), a && DayPilot.isArray(a) && 0 !== a.length && (DayPilot.re(e, "mousemove", function (i) { e.active || e.areasDisabled || !r() || DayPilot.Areas.showAreas(e, t, i, a, { "offsetX": o, "eventDiv": n.eventDiv }); }), DayPilot.re(e, "mouseleave", function (t) { DayPilot.Areas.hideAreas(e, t); }), DayPilot.list(a).forEach(function (i) { if (DayPilot.Areas.isVisible(i)) {
            var a = DayPilot.Areas.createArea(e, t, i, { "offsetX": o, "eventDiv": n.eventDiv });
            e.appendChild(a);
        } })); }, DayPilot.Areas.disable = function (e) { e.areasDisabled = !0, DayPilot.list(e.childNodes).filter(function (e) { return e.isActiveArea && !e.area.start; }).forEach(function (e) { e.j = e.style.display, e.style.display = "none"; }); }, DayPilot.Areas.enable = function (e) { e.areasDisabled = !1, DayPilot.list(e.childNodes).filter(function (e) { return e.isActiveArea && !e.area.start; }).forEach(function (e) { e.j ? e.style.display = e.j : e.style.display = ""; }); }, DayPilot.Areas.remove = function (e) { var t = DayPilot.list(e.childNodes).filter(function (e) { return e.isActiveArea; }); DayPilot.de(t); }, DayPilot.Areas.isVisible = function (e) { var t = e.visibility || e.v || "Visible"; return "Visible" === t || "TouchVisible" === t && !DayPilot.browser.hover; }, DayPilot.Areas.copy = function (e) { return DayPilot.isArray(e) ? e.map(function (e) { return DayPilot.Util.copyProps(e, {}); }) : []; }, DayPilot.Areas.resolvePosition = function (e, t, n, i) { var a = DayPilot.Areas.copy(e), r = t; return a.forEach(function (e) { e.start && (e.left = r.getPixels(new DayPilot.Date(e.start)).left - n), "number" == typeof e.offsetX && (e.left += e.offsetX), e.end && (e.right = n + i - r.getPixels(new DayPilot.Date(e.end)).left); }), a; };
        var i = function (e, t) { return DayPilot.isArray(t) || (t = e.areas, t || (e.cache ? t = e.cache.areas : e.data && (t = e.data.areas))), t; };
        DayPilot.Areas.showAreas = function (e, t, n, i, a) { if (!DayPilot.Global.resizing && !DayPilot.Global.moving && !DayPilot.Global.selecting && !e.active && DayPilot.browser.hover) {
            if (DayPilot.Areas.all && DayPilot.Areas.all.length > 0)
                for (var r = 0; r < DayPilot.Areas.all.length; r++) {
                    var o = DayPilot.Areas.all[r];
                    o !== e && DayPilot.Areas.hideAreas(o, n);
                }
            if (e.active = {}, DayPilot.isArray(i) || (i = t.areas, i || (t.cache ? i = t.cache.areas : t.data && (i = t.data.areas))), i && 0 !== i.length && !(e.areas && e.areas.length > 0)) {
                e.areas = [];
                for (var r = 0; r < i.length; r++) {
                    var s = i[r];
                    if (!DayPilot.Areas.isVisible(s)) {
                        var l = DayPilot.Areas.createArea(e, t, s, a);
                        e.areas.push(l), e.appendChild(l), DayPilot.Areas.all.push(e);
                    }
                }
                e.active.children = DayPilot.ac(e);
            }
        } }, DayPilot.Areas.createArea = function (e, t, n, i) {
            function a(e, t, n) { var i = {}; return i.area = e, i.source = t, i.originalEvent = n, i.preventDefault = function () { i.preventDefault.value = !0; }, "function" == typeof e.onClick && e.onClick(i), i; }
            function r(e, t, n) { DayPilot.Bubble && DayPilot.Bubble.touchPosition(n), e.calendar.bubble && e.calendar.bubble.showEvent(e, !0); }
            function o(e, t, n, i) { DayPilot.Menu && DayPilot.Menu.touchPosition(i); var a = n.contextMenu || n.menu; if (a instanceof DayPilot.Menu || ("string" == typeof a ? a = DayPilot.Util.evalVariable(a) : t.isEvent && t.client.contextMenu() ? a = t.client.contextMenu() : t.isEvent && t.calendar.contextMenu ? a = DayPilot.Util.evalVariable(t.calendar.contextMenu) : t.isRow && t.calendar.contextMenuResource && (a = DayPilot.Util.evalVariable(t.calendar.contextMenuResource))), a && a.show) {
                var r = { "type": "area", "div": e, "e": t, "area": n, "a": d };
                a.show(t, { "initiator": r });
            } }
            var i = i || {}, s = i.offsetX || 0, l = i.eventDiv || e, d = document.createElement("div");
            d.isActiveArea = !0, d.area = n, d.setAttribute("unselectable", "on");
            var c = n.w || n.width, u = n.h || n.height, h = n.cssClass || n.css || n.className;
            if ("undefined" != typeof n.style && d.setAttribute("style", n.style), d.style.position = "absolute", "undefined" != typeof c && (d.style.width = c + "px"), "undefined" != typeof u && (d.style.height = u + "px"), "undefined" != typeof n.right && (d.style.right = n.right + "px"), "undefined" != typeof n.top && (d.style.top = n.top + "px"), "undefined" != typeof n.left && (d.style.left = n.left + s + "px"), "undefined" != typeof n.bottom && (d.style.bottom = n.bottom + "px"), "undefined" != typeof n.html || "undefined" != typeof n.text)
                d.innerHTML = DayPilot.Util.escapeTextHtml(n.text, n.html);
            else if (n.icon) {
                var f = document.createElement("i");
                f.className = n.icon, d.appendChild(f);
            }
            else if (n.image) {
                var v = document.createElement("img");
                v.src = n.image, d.appendChild(v);
            }
            else if (n.symbol) {
                var p = "http://www.w3.org/2000/svg", m = document.createElementNS(p, "svg");
                m.setAttribute("width", "100%"), m.setAttribute("height", "100%");
                var g = document.createElementNS(p, "use");
                g.setAttribute("href", n.symbol), m.appendChild(g), d.appendChild(m);
            }
            if (h && (d.className = h), n.toolTip && d.setAttribute("title", n.toolTip), n.backColor && (d.style.background = n.backColor), n.background && (d.style.background = n.background), n.fontColor && (d.style.color = n.fontColor), n.padding && (d.style.padding = n.padding + "px", d.style.boxSizing = "border-box"), n.verticalAlignment)
                switch (d.style.display = "flex", n.verticalAlignment) {
                    case "center":
                        d.style.alignItems = "center";
                        break;
                    case "top":
                        d.style.alignItems = "flex-start";
                        break;
                    case "bottom": d.style.alignItems = "flex-end";
                }
            if (n.horizontalAlignment)
                switch (d.style.display = "flex", n.horizontalAlignment) {
                    case "right":
                        d.style.justifyContent = "flex-end";
                        break;
                    case "left":
                        d.style.justifyContent = "flex-start";
                        break;
                    case "center": d.style.justifyContent = "center";
                }
            if ("ResizeEnd" === n.action || "ResizeStart" === n.action || "Move" === n.action) {
                if (t.calendar.isCalendar)
                    switch (n.action) {
                        case "ResizeEnd":
                            n.cursor = "s-resize", n.dpBorder = "bottom";
                            break;
                        case "ResizeStart":
                            n.cursor = "n-resize", n.dpBorder = "top";
                            break;
                        case "Move": n.cursor = "move";
                    }
                if (t.calendar.isScheduler || t.calendar.isMonth)
                    switch (n.action) {
                        case "ResizeEnd":
                            n.cursor = "e-resize", n.dpBorder = "right";
                            break;
                        case "ResizeStart":
                            n.cursor = "w-resize", n.dpBorder = "left";
                            break;
                        case "Move": n.cursor = "move";
                    }
                d.onmousemove = function (e, t, n) { return function (i) { t.calendar.internal && t.calendar.internal.dragInProgress && t.calendar.internal.dragInProgress() || (i.cancelBubble = !0, e.style.cursor = n.cursor, n.dpBorder && (e.dpBorder = n.dpBorder)); }; }(l, t, n), d.onmouseout = function (e, t, n) { return function (t) { e.style.cursor = ""; }; }(l, t, n);
            }
            if (("ResizeEnd" === n.action || "ResizeStart" === n.action) && t.isEvent && t.calendar.internal.touch) {
                var b = function (e, t, n) { return function (i) { i.cancelBubble = !0; var a = t.calendar.internal.touch, r = i.touches ? i.touches[0] : i, o = { x: r.pageX, y: r.pageY }; t.calendar.coords = a.relativeCoords(i), a.preventEventTap = !0, t.calendar.isScheduler ? a.startResizing(e, "ResizeEnd" === n.action ? "right" : "left") : t.calendar.isCalendar && a.startResizing(e, "ResizeEnd" === n.action ? "bottom" : "top", o); }; }(l, t, n);
                DayPilot.rePassive(d, DayPilot.touch.start, b);
            }
            if ("ContextMenu" === n.action && t.isEvent && t.calendar.internal.touch) {
                var b = function (e, t, n) { return function (i) { i.cancelBubble = !0, i.preventDefault(), o(e, t, n, i), t.calendar.internal.touch.preventEventTap = !0; }; }(l, t, n), y = function (e, t, n) { return function (e) { e.cancelBubble = !0, e.preventDefault(); }; }(l, t, n);
                DayPilot.reNonPassive(d, DayPilot.touch.start, b), DayPilot.reNonPassive(d, DayPilot.touch.end, y);
            }
            if ("Bubble" === n.action && t.isEvent && t.calendar.internal.touch) {
                var b = function (e, t, n) { return function (e) { e.cancelBubble = !0, e.preventDefault(); var i = a(n, t, e); if (!i.preventDefault.value) {
                    r(t, n, e);
                    t.calendar.internal.touch.preventEventTap = !0, "function" == typeof n.onClicked && n.onClicked(i);
                } }; }(l, t, n), y = function (e, t, n) { return function (e) { e.cancelBubble = !0, e.preventDefault(); }; }(l, t, n);
                DayPilot.reNonPassive(d, DayPilot.touch.start, b), DayPilot.reNonPassive(d, DayPilot.touch.end, y);
            }
            if ("Move" === n.action && t.isEvent && t.calendar.internal.touch) {
                var b = function (e, t, n) { return function (n) { n.cancelBubble = !0; var i = t.calendar.internal.touch, a = n.touches ? n.touches[0] : n, r = { x: a.pageX, y: a.pageY }; t.calendar.coords = i.relativeCoords(n), DayPilot.Global && DayPilot.Global.touch && (DayPilot.Global.touch.active = !0), i.preventEventTap = !0, i.startMoving(e, r); }; }(l, t, n);
                DayPilot.rePassive(d, DayPilot.touch.start, b);
            }
            if ("Move" === n.action && t.isRow && t.calendar.internal.touch, "Bubble" === n.action && t.isEvent ? (d.onmousemove = function (e, t, n) { return function (e) { n.bubble ? n.bubble.showEvent(t, !0) : t.calendar.bubble && t.calendar.bubble.showEvent(t, !0); }; }(e, t, n), d.onmouseout = function (e, t, n) { return function (e) { "undefined" != typeof DayPilot.Bubble && (n.bubble ? n.bubble.hideOnMouseOut() : t.calendar.bubble && t.calendar.bubble.hideOnMouseOut()); }; }(e, t, n)) : "Bubble" === n.action && t.isRow ? (d.onmousemove = function (e, t, n) { return function (e) { n.bubble ? n.bubble.showResource(t, !0) : t.calendar.resourceBubble && t.calendar.resourceBubble.showResource(t, !0); }; }(e, t, n), d.onmouseout = function (e, t, n) { return function (e) { "undefined" != typeof DayPilot.Bubble && (n.bubble ? n.bubble.hideOnMouseOut() : t.calendar.resourceBubble && t.calendar.resourceBubble.hideOnMouseOut()); }; }(e, t, n)) : "Bubble" === n.action && "undefined" != typeof DayPilot.Bubble && n.bubble instanceof DayPilot.Bubble && (d.onmousemove = function (e, t, n) { return function (e) { n.bubble.showHtml(null, null); }; }(e, t, n), d.onmouseout = function (e, t, n) { return function (e) { "undefined" != typeof DayPilot.Bubble && n.bubble && n.bubble.hideOnMouseOut(); }; }(e, t, n)), "HoverMenu" === n.action && (d.onmousemove = function (e, t, n) { return function (e) { var i = n.menu; "string" == typeof i && (i = DayPilot.Util.evalVariable(i)), i && i.show && (i.visible ? i.source && "undefined" != typeof i.source.id && i.source.id !== t.id && i.show(t) : i.show(t), i.cancelHideTimeout()); }; }(e, t, n), d.onmouseout = function (e, t, n) { return function (e) { var t = n.menu; "string" == typeof t && (t = DayPilot.Util.evalVariable(t)), t && t.hideOnMouseOver && t.delayedHide(); }; }(e, t, n)), "JavaScript" === n.action) {
                var b = function (e, t, n) { return function (e) { if (!DayPilot.Util.isMouseEvent(e)) {
                    e.cancelBubble = !0, e.preventDefault();
                    t.calendar.internal.touch;
                    DayPilot.Global && DayPilot.Global.touch && (DayPilot.Global.touch.start = !0);
                } }; }(l, t, n), y = function (e, t, n) { return function (e) { if (!DayPilot.Util.isMouseEvent(e)) {
                    e.cancelBubble = !0, e.preventDefault();
                    t.calendar.internal.touch;
                    DayPilot.Global && DayPilot.Global.touch && (DayPilot.Global.touch.start = !1);
                    var i = n.js;
                    if ("string" == typeof i && (i = DayPilot.Util.evalFunction(n.js)), "function" == typeof i) {
                        var a = n.target || t;
                        i.call(this, a);
                    }
                } }; }(l, t, n);
                DayPilot.reNonPassive(d, DayPilot.touch.start, b), DayPilot.reNonPassive(d, DayPilot.touch.end, y);
            }
            if ("None" === n.action) {
                var b = function (e, t, n) { return function (e) { var i = a(n, t, e); "function" == typeof n.onClicked && n.onClicked(i), e.preventDefault(), e.stopPropagation(); }; }(l, t, n);
                DayPilot.reNonPassive(d, DayPilot.touch.start, b);
            }
            return d.onmousedown = function (e, t, n) { return function (i) { if ("function" == typeof n.onmousedown && n.onmousedown(i), "function" == typeof n.mousedown) {
                var a = {};
                a.area = n, a.div = e, a.originalEvent = i, a.source = t, n.mousedown(a);
            } if ("Move" === n.action && t.isRow) {
                var r = t.$.row;
                (0, t.calendar.internal.rowStartMoving)(r);
            } "undefined" != typeof DayPilot.Bubble && DayPilot.Bubble.hideActive(), "Move" === n.action && (DayPilot.Global.movingAreaData = n.data), "Move" === n.action && t.isEvent && t.calendar.internal && t.calendar.internal.startMoving && t.calendar.internal.startMoving(e, i); "Move" !== n.action && "ResizeEnd" !== n.action && "ResizeStart" !== n.action && n.action && "Default" !== n.action && (i.preventDefault(), i.cancelBubble = !0); }; }(e, t, n), d.onclick = function (e, t, n) { return function (i) { var r = a(n, t, i); if (!r.preventDefault.value) {
                switch (n.action) {
                    case "JavaScript":
                        var s = n.js;
                        if ("string" == typeof s && (s = DayPilot.Util.evalFunction(n.js)), "function" == typeof s) {
                            var l = n.target || t;
                            s.call(this, l);
                        }
                        i.cancelBubble = !0;
                        break;
                    case "ContextMenu":
                        o(e, t, n, i), i.cancelBubble = !0;
                        break;
                    case "CallBack":
                        alert("callback not implemented yet, id: " + n.id), i.cancelBubble = !0;
                        break;
                    case "None": i.cancelBubble = !0;
                }
                "function" == typeof n.onClicked && n.onClicked(r);
            } }; }(e, t, n), "function" == typeof n.onMouseEnter && d.addEventListener("mouseenter", function (e, t, n) { return function (e) { var i = {}; i.area = n, i.source = t, i.originalEvent = e, n.onMouseEnter(i); }; }(e, t, n)), "function" == typeof n.onMouseLeave && d.addEventListener("mouseleave", function (e, t, n) { return function (e) { var i = {}; i.area = n, i.source = t, i.originalEvent = e, n.onMouseLeave(i); }; }(e, t, n)), d;
        }, DayPilot.Areas.all = [], DayPilot.Areas.hideAreas = function (e, t) { if (e && e && e.active) {
            var n = e.active, i = e.areas;
            if (n && n.children && t) {
                var a = t.toElement || t.relatedTarget;
                if (~DayPilot.indexOf(n.children, a))
                    return;
            }
            if (!i || 0 === i.length)
                return void (e.active = null);
            DayPilot.de(i), e.active = null, e.areas = [], DayPilot.rfa(DayPilot.Areas.all, e), n.children = null;
        } }, DayPilot.Areas.hideAll = function (e) { if (DayPilot.Areas.all && 0 !== DayPilot.Areas.all.length)
            for (var t = 0; t < DayPilot.Areas.all.length; t++)
                DayPilot.Areas.hideAreas(DayPilot.Areas.all[t], e); }, DayPilot.Action = function (e, t, n, i) { var a = this; this.calendar = e, this.isAction = !0, this.action = t, this.params = n, this.data = i, this.notify = function () { a.calendar.internal.invokeEvent("Immediate", this.action, this.params, this.data); }, this.auto = function () { a.calendar.internal.invokeEvent("Notify", this.action, this.params, this.data); }, this.queue = function () { a.calendar.queue.add(this); }, this.toJSON = function () { var e = {}; return e.name = this.action, e.params = this.params, e.data = this.data, e; }; }, DayPilot.Selection = function (e, t, n, i) { this.menuType = "selection", this.start = new DayPilot.Date(e), this.end = new DayPilot.Date(t), this.resource = n, this.root = i, this.calendar = i, this.toJSON = function (e) { var t = {}; return t.start = this.start, t.end = this.end, t.resource = this.resource, t; }; }, DayPilot.Link = function (e, t) { this.isLink = !0, this.data = e, this.calendar = t, this.to = function () { return this.data.to; }, this.from = function () { return this.data.from; }, this.type = function () { return this.data.type; }, this.id = function () { return this.data.id; }, this.toJSON = function () { var e = {}; return e.from = this.data.from, e.to = this.data.to, e.id = this.data.id, e.type = this.data.type, e; }; }, DayPilot.Event = function (e, t, n) { var i = this; this.calendar = t, this.data = e ? e : {}, this.part = n ? n : {}, "undefined" == typeof this.data.id && (this.data.id = this.data.value); var a = {}, r = ["id", "text", "start", "end", "resource"]; this.isEvent = !0, DayPilot.Stats.eventObjects += 1, this.temp = function () { if (a.dirty)
            return a; for (var e = 0; e < r.length; e++)
            a[r[e]] = i.data[r[e]]; return a.dirty = !0, a; }, this.copy = function () { var e = {}; return DayPilot.Util.copyProps(i.data, e), e; }, this.commit = function () { if (a.dirty) {
            for (var e = 0; e < r.length; e++)
                i.data[r[e]] = a[r[e]];
            "function" == typeof i.data.commitCallback && i.data.commitCallback(), a.dirty = !1;
        } }, this.dirty = function () { return a.dirty; }, this.id = function (e) { return "undefined" == typeof e ? i.data.id : void (this.temp().id = e); }, this.value = function (e) { return "undefined" == typeof e ? i.id() : void i.id(e); }, this.text = function (e) { if ("undefined" == typeof e)
            return i.data.text; this.temp().text = e; var t = DayPilot.Util.escapeHtml(e); this.client.innerHTML(t); }, this.start = function (e) { return "undefined" == typeof e ? new DayPilot.Date(i.data.start) : void (this.temp().start = new DayPilot.Date(e)); }, this.end = function (e) { return "undefined" == typeof e ? t && t.internal.adjustEndNormalize ? t.internal.adjustEndNormalize(new DayPilot.Date(i.data.end)) : new DayPilot.Date(i.data.end) : void (this.temp().end = new DayPilot.Date(e)); }, this.duration = function () { return new DayPilot.Duration(this.start(), this.end()); }, this.rawend = function (e) { if ("undefined" == typeof e)
            return t && t.internal.adjustEndIn ? t.internal.adjustEndIn(new DayPilot.Date(i.data.end)) : new DayPilot.Date(i.data.end); throw new DayPilot.Exception("DayPilot.Event.rawend() is readonly"); }, this.partStart = function () { return new DayPilot.Date(this.part.start); }, this.partEnd = function () { return new DayPilot.Date(this.part.end); }, this.row = function () { return this.resource(); }, this.allday = function () { return "undefined" == typeof val ? i.data.allday : void (this.temp().allday = val); }, this.isAllDay = this.allday, this.resource = function (e) { return "undefined" == typeof e ? i.data.resource : void (this.temp().resource = e); }, this.recurrent = function () { return i.data.recurrent; }, this.recurrentMasterId = function () { return i.data.recurrentMasterId; }, this.useBox = function () { return this.part.box; }, this.staticBubbleHTML = function () { return this.bubbleHtml(); }, this.bubbleHtml = function () { return i.cache ? i.cache.bubbleHtml || i.data.bubbleHtml : i.data.bubbleHtml; }, this.tag = function (e) { if (i.data.tags)
            return i.data.tags[e]; var t = i.data.tag; if (!t)
            return null; if ("undefined" == typeof e)
            return i.data.tag; for (var n = i.calendar.tagFields, a = -1, r = 0; r < n.length; r++)
            e === n[r] && (a = r); if (a === -1)
            throw "Field name not found."; return t[a]; }, this.client = {}, this.client.innerHTML = function (e) { if ("undefined" == typeof e) {
            var t = i.cache || i.data, n = i.calendar && i.calendar.internal && i.calendar.internal.xssTextHtml;
            return n ? n(t.text, t.html) : DayPilot.Util.escapeTextHtml(t.text, t.html);
        } i.data.html = e, i.cache && (i.cache.html = e); }, this.client.html = this.client.innerHTML, this.client.header = function (e) { return "undefined" == typeof e ? i.data.header : void (i.data.header = e); }, this.client.cssClass = function (e) { return "undefined" == typeof e ? i.data.cssClass : void (i.data.cssClass = e); }, this.client.toolTip = function (e) { if ("undefined" == typeof e) {
            var t = null;
            return t = i.cache && "undefined" != typeof i.cache.toolTip ? i.cache.toolTip : "undefined" != typeof i.data.toolTip ? i.data.toolTip : i.data.text;
        } i.data.toolTip = e; }, this.client.backColor = function (e) { return "undefined" == typeof e ? i.cache && "undefined" != typeof i.cache.backColor ? i.cache.backColor : "undefined" != typeof i.data.backColor ? i.data.backColor : i.calendar.eventBackColor : void (i.data.backColor = e); }, this.client.borderColor = function (e) { return "undefined" == typeof e ? i.cache && "undefined" != typeof i.cache.borderColor ? i.cache.borderColor : "undefined" != typeof i.data.borderColor ? i.data.borderColor : i.calendar.eventBorderColor : void (i.data.borderColor = e); }, this.client.barColor = function (e) { return "undefined" == typeof e ? i.cache && "undefined" != typeof i.cache.barColor ? i.cache.barColor : "undefined" != typeof i.data.barColor ? i.data.barColor : i.calendar.durationBarColor : void (i.data.barColor = e); }, this.client.barVisible = function (e) { return "undefined" == typeof e ? i.cache && "undefined" != typeof i.cache.barHidden ? !i.cache.barHidden : i.calendar.durationBarVisible && !i.data.barHidden : void (i.data.barHidden = !e); }, this.client.contextMenu = function (e) { if ("undefined" == typeof e) {
            if (i.oContextMenu)
                return i.oContextMenu;
            var t = i.cache ? i.cache.contextMenu : i.data.contextMenu;
            return t ? DayPilot.Util.evalVariable(t) : null;
        } i.oContextMenu = e; }, this.client.moveEnabled = function (e) { return "undefined" == typeof e ? i.cache && "undefined" != typeof i.cache.moveDisabled ? !i.cache.moveDisabled : "Disabled" !== i.calendar.eventMoveHandling && !i.data.moveDisabled : void (i.data.moveDisabled = !e); }, this.client.resizeEnabled = function (e) { return "undefined" == typeof e ? "Milestone" !== i.data.type && (i.cache && "undefined" != typeof i.cache.resizeDisabled ? !i.cache.resizeDisabled : "Disabled" !== i.calendar.eventResizeHandling && !i.data.resizeDisabled) : void (i.data.resizeDisabled = !e); }, this.client.rightClickEnabled = function (e) { return "undefined" == typeof e ? i.cache && "undefined" != typeof i.cache.rightClickDisabled ? !i.cache.rightClickDisabled : "Disabled" !== i.calendar.eventRightClickHandling && !i.data.rightClickDisabled : void (i.data.rightClickDisabled = !e); }, this.client.clickEnabled = function (e) { return "undefined" == typeof e ? i.cache && "undefined" != typeof i.cache.clickDisabled ? !i.cache.clickDisabled : "Disabled" !== i.calendar.eventClickHandling && !i.data.clickDisabled : void (i.data.clickDisabled = !e); }, this.client.deleteEnabled = function (e) { return "undefined" == typeof e ? i.cache && "undefined" != typeof i.cache.deleteDisabled ? !i.cache.deleteDisabled : "Disabled" !== i.calendar.eventDeleteHandling && !i.data.deleteDisabled : void (i.data.deleteDisabled = !e); }, this.client.doubleClickEnabled = function (e) { return "undefined" == typeof e ? i.cache && "undefined" != typeof i.cache.doubleClickDisabled ? !i.cache.doubleClickDisabled : "Disabled" !== i.calendar.eventDoubleClickHandling && !i.data.doubleClickDisabled : void (i.data.doubleClickDisabled = !e); }, this.client.deleteClickEnabled = function (e) { return "undefined" == typeof e ? i.cache && "undefined" != typeof i.cache.deleteDisabled ? !i.cache.deleteDisabled : "Disabled" !== i.calendar.eventDeleteHandling && !i.data.deleteDisabled : void (i.data.deleteDisabled = !e); }, this.toJSON = function (e) { var t = {}; if (t.value = this.id(), t.id = this.id(), t.text = this.text(), t.start = this.start().toJSON(), t.end = this.end().toJSON(), t.resource = this.resource(), t.isAllDay = !1, t.recurrentMasterId = this.recurrentMasterId(), t.join = this.data.join, t.tag = {}, i.data.tags)
            for (var n in i.data.tags)
                i.data.tags.hasOwnProperty(n) && (t.tag[n] = "" + i.data.tags[n]);
        else if (i.calendar && i.calendar.tagFields)
            for (var a = i.calendar.tagFields, r = 0; r < a.length; r++)
                t.tag[a[r]] = this.tag(a[r]); return t; }; }, DayPilot.Task = function (e, t) { if (!e)
            throw "Trying to initialize DayPilot.Task with null data parameter"; var n = this, i = null; if (e instanceof DayPilot.Event)
            i = e, this.data = e.data.task;
        else {
            if (e instanceof DayPilot.Task)
                return e;
            e.isTaskWrapper ? this.data = e.data : this.data = e;
        } var a = {}, r = ["id", "text", "start", "end", "complete", "type"]; this.isTask = !0, this.calendar = t, this.temp = function () { if (a.dirty)
            return a; for (var e = 0; e < r.length; e++)
            a[r[e]] = n.data[r[e]]; return a.dirty = !0, a; }, this.copy = function () { var e = {}; return DayPilot.Util.copyProps(n.data, e), e; }, this.commit = function () { if (a.dirty) {
            for (var e = 0; e < r.length; e++)
                n.data[r[e]] = a[r[e]];
            a.dirty = !1;
        } }, this.dirty = function () { return a.dirty; }, this.id = function (e) { return "undefined" == typeof e ? n.data.id : void (this.temp().id = e); }, this.text = function (e) { if ("undefined" == typeof e)
            return n.data.text; this.temp().text = e; var t = DayPilot.Util.escapeHtml(e); this.client.innerHTML(t); }, this.start = function (e) { return "undefined" == typeof e ? new DayPilot.Date(n.data.start) : void (this.temp().start = new DayPilot.Date(e)); }, this.duration = function () { return new DayPilot.Duration(this.start(), this.end()); }, this.end = function (e) { return "undefined" == typeof e ? t && "Date" === t.eventEndSpec ? new DayPilot.Date(n.data.end).getDatePart().addDays(1) : new DayPilot.Date(n.data.end) : void (this.temp().end = new DayPilot.Date(e)); }, this.type = function (e) { return "undefined" == typeof e ? i ? i.data.type || "Task" : n.data.type : void (this.temp().type = e); }, this.complete = function (e) { return "undefined" == typeof e ? n.data.complete ? n.data.complete : 0 : void (this.temp().complete = e); }, this.children = function () { var e = []; e.add = function (e) { var t = new DayPilot.Task(e); this.data.children || (this.data.children = []), this.children.push(t.data); }; for (var n = 0; this.data.children && n < this.data.children.length; n++)
            e.push(new DayPilot.Task(this.data.children[n], t)); return e; }, this.toJSON = function (e) { var t = {}; return t.id = this.id(), t.text = this.text(), t.start = this.start().toJSON(), t.end = this.end().toJSON(), t.type = this.type(), t.tags = {}, DayPilot.Util.copyProps(this.data.tags, t.tags), t; }, this.row = {}; var o = this.row; o.expanded = function (e) { return "undefined" == typeof e ? !n.data.row || !n.data.row.collapsed : (n.data.row || (n.data.row = {}), !!n.data.row.collapsed != !e && t.internal.rowObjectForTaskData(n.data).toggle(), n.data.row.collapsed = !e, void 0); }, o.expand = function () { o.expanded(!0); }, o.collapse = function () { o.expanded(!1); }, o.toggle = function () { o.expanded(!o.expanded()); }; }, DayPilot.request = function (e, t, n, i) { var a = DayPilot.createXmlHttp(); a && (a.open("POST", e, !0), a.setRequestHeader("Content-type", "text/plain"), a.onreadystatechange = function () { if (4 === a.readyState)
            return 200 !== a.status && 304 !== a.status ? void (i ? i(a) : window.console && console.log("HTTP error " + a.status)) : void t(a); }, 4 !== a.readyState && ("object" == typeof n && (n = JSON.stringify(n)), a.send(n))); }, DayPilot.ajax = function (e) { if (!e)
            throw new DayPilot.Exception("Parameter object required."); if ("string" != typeof e.url)
            throw new DayPilot.Exception("The parameter object must have 'url' property."); var t = DayPilot.createXmlHttp(); if (!t)
            throw new DayPilot.Exception("Unable to create XMLHttpRequest object"); var n = "object" == typeof e.data, i = e.data, a = e.method || (e.data ? "POST" : "GET"), r = e.success || function () { }, o = e.error || function () { }, s = e.url, l = e.contentType || (n ? "application/json" : "text/plain"), d = e.headers || {}; t.open(a, s, !0), t.setRequestHeader("Content-type", l), DayPilot.Util.ownPropsAsArray(d).forEach(function (e) { t.setRequestHeader(e.key, e.val); }), t.onreadystatechange = function () { if (4 === t.readyState)
            if (200 === t.status || 201 === t.status || 204 === t.status || 304 === t.status) {
                var e = {};
                e.request = t, t.responseText && (e.data = JSON.parse(t.responseText)), r(e);
            }
            else if (o) {
                var e = {};
                e.request = t, o(e);
            }
            else
                window.console && console.log("HTTP error " + t.status); }, 4 !== t.readyState && (n && (i = JSON.stringify(i)), t.send(i)); }, DayPilot.createXmlHttp = function () { return new XMLHttpRequest; }, DayPilot.Http = {}, DayPilot.Http.ajax = function (e) { DayPilot.ajax(e); }, DayPilot.Http.get = function (e, t) { return t = t || {}, new Promise(function (n, i) { var a = {}; a.url = e, a.method = "GET", a.success = function (e) { n(e); }, a.error = function (e) { i(e); }, a.contentType = t.contentType, a.headers = t.headers, DayPilot.ajax(a); }); }, DayPilot.Http.post = function (e, t, n) { return n = n || {}, new Promise(function (i, a) { var r = {}; r.url = e, r.method = "POST", r.data = t, r.success = function (e) { i(e); }, r.error = function (e) { a(e); }, r.contentType = n.contentType, r.headers = n.headers, DayPilot.ajax(r); }); }, DayPilot.Http.put = function (e, t, n) { return n = n || {}, new Promise(function (i, a) { var r = {}; r.url = e, r.method = "PUT", r.data = t, r.success = function (e) { i(e); }, r.error = function (e) { a(e); }, r.contentType = n.contentType, r.headers = n.headers, DayPilot.ajax(r); }); }, DayPilot.Http.delete = function (e, t) { return t = t || {}, new Promise(function (n, i) { var a = {}; a.url = e, a.method = "DELETE", a.success = function (e) { n(e); }, a.error = function (e) { i(e); }, a.contentType = t.contentType, a.headers = t.headers, DayPilot.ajax(a); }); }, DayPilot.Http.patch = function (e, t, n) { return n = n || {}, new Promise(function (i, a) { var r = {}; r.url = e, r.method = "PATCH", r.data = t, r.success = function (e) { i(e); }, r.error = function (e) { a(e); }, r.contentType = n.contentType, r.headers = n.headers, DayPilot.ajax(r); }); }, DayPilot.Duration = function (e) { var t = this, n = 864e5, i = 36e5, a = 6e4, r = 1e3; if (2 === arguments.length) {
            var o = arguments[0], s = arguments[1];
            if (!(o instanceof DayPilot.Date) && "string" != typeof o)
                throw "DayPilot.Duration(): Invalid start argument, DayPilot.Date expected";
            if (!(s instanceof DayPilot.Date) && "string" != typeof s)
                throw "DayPilot.Duration(): Invalid end argument, DayPilot.Date expected";
            "string" == typeof o && (o = new DayPilot.Date(o)), "string" == typeof s && (s = new DayPilot.Date(s)), e = s.getTime() - o.getTime();
        } return this.ticks = e || 0, DayPilot.Date.Cache.DurationCtor["" + e] ? DayPilot.Date.Cache.DurationCtor["" + e] : (DayPilot.Date.Cache.DurationCtor["" + e] = this, this.toString = function (e) { if (!e)
            return t.days() + "." + t.hours() + ":" + t.minutes() + ":" + t.seconds() + "." + t.milliseconds(); var n = t.minutes(); n = (n < 10 ? "0" : "") + n; var i = e; return i = i.replace("mm", n), i = i.replace("m", t.minutes()), i = i.replace("H", t.hours()), i = i.replace("h", t.hours()), i = i.replace("d", t.days()), i = i.replace("s", t.seconds()); }, this.totalHours = function () { return t.ticks / i; }, this.totalDays = function () { return t.ticks / n; }, this.totalMinutes = function () { return t.ticks / a; }, this.totalSeconds = function () { return t.ticks / r; }, this.totalMilliseconds = function () { return t.ticks; }, this.days = function () { return Math.floor(t.totalDays()); }, this.hours = function () { var e = t.ticks - t.days() * n; return Math.floor(e / i); }, this.minutes = function () { var e = t.ticks - Math.floor(t.totalHours()) * i; return Math.floor(e / a); }, this.seconds = function () { var e = t.ticks - Math.floor(t.totalMinutes()) * a; return Math.floor(e / r); }, this.milliseconds = function () { return t.ticks % r; }, void (this.add = function (e) { return new DayPilot.Duration(t.ticks + e.ticks); })); }, DayPilot.Duration.ofWeeks = function (e) { return new DayPilot.Duration(1e3 * e * 60 * 60 * 24 * 7); }, DayPilot.Duration.ofDays = function (e) { return new DayPilot.Duration(1e3 * e * 60 * 60 * 24); }, DayPilot.Duration.ofHours = function (e) { return new DayPilot.Duration(1e3 * e * 60 * 60); }, DayPilot.Duration.ofMinutes = function (e) { return new DayPilot.Duration(1e3 * e * 60); }, DayPilot.Duration.ofSeconds = function (e) { return new DayPilot.Duration(1e3 * e); }, DayPilot.Duration.weeks = function (e) { return DayPilot.Duration.ofWeeks(e); }, DayPilot.Duration.days = function (e) { return DayPilot.Duration.ofDays(e); }, DayPilot.Duration.hours = function (e) { return DayPilot.Duration.ofHours(e); }, DayPilot.Duration.minutes = function (e) { return DayPilot.Duration.ofMinutes(e); }, DayPilot.Duration.seconds = function (e) { return DayPilot.Duration.ofSeconds(e); }, DayPilot.TimeSpan = function () { throw "Please use DayPilot.Duration class instead of DayPilot.TimeSpan."; };
        try {
            DayPilot.TimeSpan.prototype = Object.create(DayPilot.Duration.prototype);
        }
        catch (e) { }
        DayPilot.Date = function (t, n) { if (t instanceof DayPilot.Date)
            return t; var i; DayPilot.Util.isNullOrUndefined(t) && (i = DayPilot.DateUtil.fromLocal().getTime(), t = i); var a = DayPilot.Date.Cache.Ctor; if (a[t])
            return DayPilot.Stats.cacheHitsCtor += 1, a[t]; var r = !1; if ("string" == typeof t) {
            try {
                i = DayPilot.DateUtil.fromStringSortable(t, n).getTime();
            }
            catch (e) {
                throw new DayPilot.Exception("DayPilot.Date - Unable to parse ISO8601 date/time string: " + t);
            }
            r = !0;
        }
        else if ("number" == typeof t) {
            if (isNaN(t))
                throw "Cannot create DayPilot.Date from NaN";
            i = t;
        }
        else {
            if (!(t instanceof Date))
                throw "Unrecognized parameter: use Date, number or string in ISO 8601 format";
            i = n ? DayPilot.DateUtil.fromLocal(t).getTime() : t.getTime();
        } var o = e(i); return a[o] ? a[o] : (a[o] = this, a[i] = this, r && o !== t && DayPilot.DateUtil.hasTzSpec(t) && (a[t] = this), Object.defineProperty ? (Object.defineProperty(this, "ticks", { get: function () { return i; } }), Object.defineProperty(this, "value", { "value": o, "writable": !1, "enumerable": !0 })) : (this.ticks = i, this.value = o), DayPilot.Date.Config.legacyShowD && (this.d = new Date(i)), void (DayPilot.Stats.dateObjects += 1)); }, DayPilot.Date.Config = {}, DayPilot.Date.Config.legacyShowD = !1, DayPilot.Date.Cache = {}, DayPilot.Date.Cache.Parsing = {}, DayPilot.Date.Cache.Ctor = {}, DayPilot.Date.Cache.Ticks = {}, DayPilot.Date.Cache.DurationCtor = {}, DayPilot.Date.Cache.clear = function () { DayPilot.Date.Cache.Parsing = {}, DayPilot.Date.Cache.Ctor = {}, DayPilot.Date.Cache.Ticks = {}, DayPilot.Date.Cache.DurationCtor = {}; }, DayPilot.Date.prototype.addDays = function (e) { return e ? new DayPilot.Date(this.ticks + 24 * e * 60 * 60 * 1e3) : this; }, DayPilot.Date.prototype.addHours = function (e) { return e ? this.addTime(60 * e * 60 * 1e3) : this; }, DayPilot.Date.prototype.addMilliseconds = function (e) { return e ? this.addTime(e) : this; }, DayPilot.Date.prototype.addMinutes = function (e) { return e ? this.addTime(60 * e * 1e3) : this; }, DayPilot.Date.prototype.addMonths = function (e) { if (!e)
            return this; var t = new Date(this.ticks), n = t.getUTCFullYear(), i = t.getUTCMonth() + 1; if (e > 0) {
            for (; e >= 12;)
                e -= 12, n++;
            e > 12 - i ? (n++, i = e - (12 - i)) : i += e;
        }
        else {
            for (; e <= -12;)
                e += 12, n--;
            i + e <= 0 ? (n--, i = 12 + i + e) : i += e;
        } var a = new Date(t.getTime()); a.setUTCDate(1), a.setUTCFullYear(n), a.setUTCMonth(i - 1); var r = new DayPilot.Date(a).daysInMonth(); return a.setUTCDate(Math.min(r, t.getUTCDate())), new DayPilot.Date(a); }, DayPilot.Date.prototype.addSeconds = function (e) { return e ? this.addTime(1e3 * e) : this; }, DayPilot.Date.prototype.addTime = function (e) { return e ? (e instanceof DayPilot.Duration && (e = e.ticks), new DayPilot.Date(this.ticks + e)) : this; }, DayPilot.Date.prototype.addYears = function (e) { var t = new Date(this.ticks), n = new Date(this.ticks), i = this.getYear() + e, a = this.getMonth(); n.setUTCDate(1), n.setUTCFullYear(i), n.setUTCMonth(a); var r = new DayPilot.Date(n).daysInMonth(); return n.setUTCDate(Math.min(r, t.getUTCDate())), new DayPilot.Date(n); }, DayPilot.Date.prototype.dayOfWeek = function () { return new Date(this.ticks).getUTCDay(); }, DayPilot.Date.prototype.dayOfWeekISO = function () { return new Date(this.ticks).getUTCDay() || 7; }, DayPilot.Date.prototype.getDayOfWeek = function () { return new Date(this.ticks).getUTCDay(); }, DayPilot.Date.prototype.getDayOfYear = function () { var e = this.firstDayOfYear(); return DayPilot.DateUtil.daysDiff(e, this) + 1; }, DayPilot.Date.prototype.daysInMonth = function () { var e = new Date(this.ticks), t = e.getUTCMonth() + 1, n = e.getUTCFullYear(), i = [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31]; return 2 !== t ? i[t - 1] : n % 4 !== 0 ? i[1] : n % 100 === 0 && n % 400 !== 0 ? i[1] : i[1] + 1; }, DayPilot.Date.prototype.daysInYear = function () { var e = this.getYear(); return e % 4 !== 0 ? 365 : e % 100 === 0 && e % 400 !== 0 ? 365 : 366; }, DayPilot.Date.prototype.dayOfYear = function () { return Math.ceil((this.getDatePart().getTime() - this.firstDayOfYear().getTime()) / 864e5) + 1; }, DayPilot.Date.prototype.equals = function (e) { if (null === e)
            return !1; if (e instanceof DayPilot.Date)
            return this === e; throw "The parameter must be a DayPilot.Date object (DayPilot.Date.equals())"; }, DayPilot.Date.prototype.firstDayOfMonth = function () { var e = new Date; return e.setUTCFullYear(this.getYear(), this.getMonth(), 1), e.setUTCHours(0), e.setUTCMinutes(0), e.setUTCSeconds(0), e.setUTCMilliseconds(0), new DayPilot.Date(e); }, DayPilot.Date.prototype.firstDayOfYear = function () { var e = this.getYear(), t = new Date; return t.setUTCFullYear(e, 0, 1), t.setUTCHours(0), t.setUTCMinutes(0), t.setUTCSeconds(0), t.setUTCMilliseconds(0), new DayPilot.Date(t); }, DayPilot.Date.prototype.firstDayOfWeek = function (e) { var t = this; if (e instanceof DayPilot.Locale)
            e = e.weekStarts;
        else if ("string" == typeof e && DayPilot.Locale.find(e)) {
            var n = DayPilot.Locale.find(e);
            e = n.weekStarts;
        }
        else
            e = e || 0; for (var i = t.dayOfWeek(); i !== e;)
            t = t.addDays(-1), i = t.dayOfWeek(); return new DayPilot.Date(t); }, DayPilot.Date.prototype.getDay = function () { return new Date(this.ticks).getUTCDate(); }, DayPilot.Date.prototype.getDatePart = function () { var e = new Date(this.ticks); return e.setUTCHours(0), e.setUTCMinutes(0), e.setUTCSeconds(0), e.setUTCMilliseconds(0), new DayPilot.Date(e); }, DayPilot.Date.prototype.getYear = function () { return new Date(this.ticks).getUTCFullYear(); }, DayPilot.Date.prototype.getHours = function () { return new Date(this.ticks).getUTCHours(); }, DayPilot.Date.prototype.getMilliseconds = function () { return new Date(this.ticks).getUTCMilliseconds(); }, DayPilot.Date.prototype.getMinutes = function () { return new Date(this.ticks).getUTCMinutes(); }, DayPilot.Date.prototype.getMonth = function () { return new Date(this.ticks).getUTCMonth(); }, DayPilot.Date.prototype.getSeconds = function () { return new Date(this.ticks).getUTCSeconds(); }, DayPilot.Date.prototype.getTotalTicks = function () { return this.getTime(); }, DayPilot.Date.prototype.getTime = function () { return this.ticks; }, DayPilot.Date.prototype.getTimePart = function () { var e = this.getDatePart(); return DayPilot.DateUtil.diff(this, e); }, DayPilot.Date.prototype.lastDayOfMonth = function () { var e = new Date(this.firstDayOfMonth().getTime()), t = this.daysInMonth(); return e.setUTCDate(t), new DayPilot.Date(e); }, DayPilot.Date.prototype.weekNumber = function () { var e = this.firstDayOfYear(), t = (this.getTime() - e.getTime()) / 864e5; return Math.ceil((t + e.dayOfWeek() + 1) / 7); }, DayPilot.Date.prototype.weekNumberISO = function () { var e = !1, t = this.dayOfYear(), n = this.firstDayOfYear().dayOfWeek(), i = this.firstDayOfYear().addYears(1).addDays(-1).dayOfWeek(); 0 === n && (n = 7), 0 === i && (i = 7); var a = 8 - n; 4 !== n && 4 !== i || (e = !0); var r = Math.ceil((t - a) / 7), o = r; return a >= 4 && (o += 1), o > 52 && !e && (o = 1), 0 === o && (o = this.firstDayOfYear().addDays(-1).weekNumberISO()), o; }, DayPilot.Date.prototype.toDateLocal = function () { var e = new Date(this.ticks), t = new Date; return t.setFullYear(e.getUTCFullYear(), e.getUTCMonth(), e.getUTCDate()), t.setHours(e.getUTCHours()), t.setMinutes(e.getUTCMinutes()), t.setSeconds(e.getUTCSeconds()), t.setMilliseconds(e.getUTCMilliseconds()), t; }, DayPilot.Date.prototype.toDate = function () { return new Date(this.ticks); }, DayPilot.Date.prototype.toJSON = function () { return this.value; }, DayPilot.Date.prototype.toString = function (e, t) { return e ? new r(e, t).print(this) : this.toStringSortable(); }, DayPilot.Date.prototype.toStringSortable = function () { return e(this.ticks); }, DayPilot.Date.parse = function (e, t, n) { return new r(t, n).parse(e); };
        var a = 0;
        DayPilot.Date.today = function () { return new DayPilot.Date(DayPilot.DateUtil.localToday(), !0); }, DayPilot.Date.now = function () { return new DayPilot.Date; }, DayPilot.Date.fromYearMonthDay = function (e, t, n) { t = t || 1, n = n || 1; var i = new Date(0); return i.setUTCFullYear(e), i.setUTCMonth(t - 1), i.setUTCDate(n), new DayPilot.Date(i); }, DayPilot.DateUtil = {}, DayPilot.DateUtil.fromStringSortable = function (e, t) { var n = function () { return new DayPilot.Exception("Invalid string format (use '2010-12-31' or '2010-12-31T23:50:00'): '" + e + "'"); }; if (!e)
            throw new DayPilot.Exception("Can't create DayPilot.Date from an empty string"); var i = e.length, a = 10 === i, r = 19 === i, o = i > 19; if (!a && !r && !o)
            throw n(); if (DayPilot.Date.Cache.Parsing[e] && !t)
            return DayPilot.Stats.cacheHitsParsing += 1, DayPilot.Date.Cache.Parsing[e]; var s = e.substring(0, 4); if (isNaN(s))
            throw n(); var l = e.substring(5, 7); if (isNaN(l))
            throw n(); var d = e.substring(8, 10); if (isNaN(d))
            throw n(); var c = new Date(0); if (c.setUTCFullYear(s, l - 1, d), a)
            return DayPilot.Date.Cache.Parsing[e] = c, c; var u = e.substring(11, 13); if (isNaN(u))
            throw n(); var h = e.substring(14, 16); if (isNaN(h))
            throw n(); var f = e.substring(17, 19); if (isNaN(f))
            throw n(); if (c.setUTCHours(u), c.setUTCMinutes(h), c.setUTCSeconds(f), r)
            return DayPilot.Date.Cache.Parsing[e] = c, c; var v = e[19], p = 0; if ("." === v) {
            var m = parseInt(e.substring(20, 23));
            if (isNaN(m))
                throw n();
            c.setUTCMilliseconds(m), p = DayPilot.DateUtil.getTzOffsetMinutes(e.substring(23));
        }
        else
            p = DayPilot.DateUtil.getTzOffsetMinutes(e.substring(19)); var g = new DayPilot.Date(c); return t || (g = g.addMinutes(-p)), c = g.toDate(), DayPilot.Date.Cache.Parsing[e] = c, c; }, DayPilot.DateUtil.getTzOffsetMinutes = function (e) { if (DayPilot.Util.isNullOrUndefined(e) || "" === e)
            return 0; if ("Z" === e)
            return 0; var t = e[0], n = parseInt(e.substring(1, 3)), i = parseInt(e.substring(4)), a = 60 * n + i; if ("-" === t)
            return -a; if ("+" === t)
            return a; throw "Invalid timezone spec: " + e; }, DayPilot.DateUtil.hasTzSpec = function (e) { return !!e.indexOf("+") || !!e.indexOf("-"); }, DayPilot.DateUtil.daysDiff = function (e, t) {
            if (e && t || function () { throw "two parameters required"; }(), e = new DayPilot.Date(e), t = new DayPilot.Date(t), e.getTime() > t.getTime())
                return null;
            for (var n = 0, i = e.getDatePart(), a = t.getDatePart(); i < a;)
                i = i.addDays(1),
                    n++;
            return n;
        }, DayPilot.DateUtil.daysSpan = function (e, t) { if (e && t || function () { throw "two parameters required"; }(), e = new DayPilot.Date(e), t = new DayPilot.Date(t), e === t)
            return 0; var n = DayPilot.DateUtil.daysDiff(e, t); return t == t.getDatePart() && n--, n; }, DayPilot.DateUtil.diff = function (e, t) { if (!(e && t && e.getTime && t.getTime))
            throw "Both compared objects must be Date objects (DayPilot.Date.diff)."; return e.getTime() - t.getTime(); }, DayPilot.DateUtil.fromLocal = function (e) { e || (e = new Date); var t = new Date; return t.setUTCFullYear(e.getFullYear(), e.getMonth(), e.getDate()), t.setUTCHours(e.getHours()), t.setUTCMinutes(e.getMinutes()), t.setUTCSeconds(e.getSeconds()), t.setUTCMilliseconds(e.getMilliseconds()), t; }, DayPilot.DateUtil.localToday = function () { var e = new Date; return e.setHours(0), e.setMinutes(0), e.setSeconds(0), e.setMilliseconds(0), e; }, DayPilot.DateUtil.hours = function (e, t) { var n = e.getUTCMinutes(); n < 10 && (n = "0" + n); var i = e.getUTCHours(); if (t) {
            var a = i < 12, i = i % 12;
            0 === i && (i = 12);
            return i + ":" + n + " " + (a ? "AM" : "PM");
        } return i + ":" + n; }, DayPilot.DateUtil.max = function (e, t) { return e.getTime() > t.getTime() ? e : t; }, DayPilot.DateUtil.min = function (e, t) { return e.getTime() < t.getTime() ? e : t; };
        var r = function (e, n) { "string" == typeof n && (n = DayPilot.Locale.find(n)); var n = n || DayPilot.Locale.US, i = [{ "seq": "yyyy", "expr": "[0-9]{4,4}", "str": function (e) { return e.getYear(); } }, { "seq": "yy", "expr": "[0-9]{2,2}", "str": function (e) { return e.getYear() % 100; }, "transform": function (e) { return parseInt(e) + 2e3; } }, { "seq": "mm", "expr": "[0-9]{2,2}", "str": function (e) { var t = e.getMinutes(); return t < 10 ? "0" + t : t; } }, { "seq": "m", "expr": "[0-9]{1,2}", "str": function (e) { return e.getMinutes(); } }, { "seq": "HH", "expr": "[0-9]{2,2}", "str": function (e) { var t = e.getHours(); return t < 10 ? "0" + t : t; } }, { "seq": "H", "expr": "[0-9]{1,2}", "str": function (e) { return e.getHours(); } }, { "seq": "hh", "expr": "[0-9]{2,2}", "str": function (e) { var t = e.getHours(), t = t % 12; 0 === t && (t = 12); var n = t; return n < 10 ? "0" + n : n; } }, { "seq": "h", "expr": "[0-9]{1,2}", "str": function (e) { var t = e.getHours(), t = t % 12; return 0 === t && (t = 12), t; } }, { "seq": "ss", "expr": "[0-9]{2,2}", "str": function (e) { var t = e.getSeconds(); return t < 10 ? "0" + t : t; } }, { "seq": "s", "expr": "[0-9]{1,2}", "str": function (e) { return e.getSeconds(); } }, { "seq": "MMMM", "expr": "[^\\s0-9]*", "str": function (e) { return n.monthNames[e.getMonth()]; }, "transform": function (e) { var i = DayPilot.indexOf(n.monthNames, e, t); return i < 0 ? null : i + 1; } }, { "seq": "MMM", "expr": "[^\\s0-9]*", "str": function (e) { return n.monthNamesShort[e.getMonth()]; }, "transform": function (e) { var i = DayPilot.indexOf(n.monthNamesShort, e, t); return i < 0 ? null : i + 1; } }, { "seq": "MM", "expr": "[0-9]{2,2}", "str": function (e) { var t = e.getMonth() + 1; return t < 10 ? "0" + t : t; } }, { "seq": "M", "expr": "[0-9]{1,2}", "str": function (e) { return e.getMonth() + 1; } }, { "seq": "dddd", "expr": "[^\\s0-9]*", "str": function (e) { return n.dayNames[e.getDayOfWeek()]; } }, { "seq": "ddd", "expr": "[^\\s0-9]*", "str": function (e) { return n.dayNamesShort[e.getDayOfWeek()]; } }, { "seq": "dd", "expr": "[0-9]{2,2}", "str": function (e) { var t = e.getDay(); return t < 10 ? "0" + t : t; } }, { "seq": "%d", "expr": "[0-9]{1,2}", "str": function (e) { return e.getDay(); } }, { "seq": "d", "expr": "[0-9]{1,2}", "str": function (e) { return e.getDay(); } }, { "seq": "tt", "expr": "(AM|PM|am|pm)", "str": function (e) { return e.getHours() < 12 ? "AM" : "PM"; }, "transform": function (e) { return e.toUpperCase(); } }], a = function (e) { return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g, "\\$&"); }; this.init = function () { this.year = this.findSequence("yyyy") || this.findSequence("yy"), this.month = this.findSequence("MMMM") || this.findSequence("MMM") || this.findSequence("MM") || this.findSequence("M"), this.day = this.findSequence("dd") || this.findSequence("d"), this.hours = this.findSequence("HH") || this.findSequence("H"), this.minutes = this.findSequence("mm") || this.findSequence("m"), this.seconds = this.findSequence("ss") || this.findSequence("s"), this.ampm = this.findSequence("tt"), this.hours12 = this.findSequence("hh") || this.findSequence("h"); }, this.findSequence = function (t) { function n(e) { return parseInt(e); } return e.indexOf(t) === -1 ? null : { "findValue": function (r) { for (var o = a(e), s = null, l = 0; l < i.length; l++) {
                var d = (i[l].length, t === i[l].seq), c = i[l].expr;
                d && (c = "(" + c + ")", s = i[l].transform), o = o.replace(i[l].seq, c);
            } o = "^" + o + "$"; try {
                var u = new RegExp(o), h = u.exec(r);
                return h ? (s = s || n)(h[1]) : null;
            }
            catch (e) {
                throw "unable to create regex from: " + o;
            } } }; }, this.print = function (t) { for (var n = function (e) { for (var t = 0; t < i.length; t++)
            if (i[t] && i[t].seq === e)
                return i[t]; return null; }, a = e.length <= 0, r = 0, o = []; !a;) {
            var s = e.substring(r), l = /%?(.)\1*/.exec(s);
            if (l && l.length > 0) {
                var d = l[0], c = n(d);
                c ? o.push(c) : o.push(d), r += d.length, a = e.length <= r;
            }
            else
                a = !0;
        } for (var u = 0; u < o.length; u++) {
            var h = o[u];
            "string" != typeof h && (o[u] = h.str(t));
        } return o.join(""); }, this.parse = function (e) { var t = this.year.findValue(e); if (!t)
            return null; var n = this.month.findValue(e); if (DayPilot.Util.isNullOrUndefined(n))
            return null; if (n > 12 || n < 1)
            return null; var i = this.day.findValue(e), a = DayPilot.Date.fromYearMonthDay(t, n).daysInMonth(); if (i < 1 || i > a)
            return null; var r = this.hours ? this.hours.findValue(e) : 0, o = this.minutes ? this.minutes.findValue(e) : 0, s = this.seconds ? this.seconds.findValue(e) : 0, l = this.ampm ? this.ampm.findValue(e) : null; if (this.ampm && this.hours12) {
            var d = this.hours12.findValue(e);
            if (d < 1 || d > 12)
                return null;
            r = "PM" === l ? 12 === d ? 12 : d + 12 : 12 === d ? 0 : d;
        } if (r < 0 || r > 23)
            return null; if (o < 0 || o > 59)
            return null; if (s < 0 || s > 59)
            return null; var c = new Date; return c.setUTCFullYear(t, n - 1, i), c.setUTCHours(r), c.setUTCMinutes(o), c.setUTCSeconds(s), c.setUTCMilliseconds(0), new DayPilot.Date(c); }, this.init(); };
        DayPilot.ColorUtil = {}, DayPilot.ColorUtil.hexToRgb = function (e) { if (!/^#[0-9a-f]{6}$/i.test(e))
            throw new DayPilot.Exception("Invalid color, only full hex color string accepted, eg. '#ffaaff'."); return e = e.replace("#", ""), { r: parseInt(e.substring(0, 2), 16), g: parseInt(e.substring(2, 4), 16), b: parseInt(e.substring(4, 6), 16) }; }, DayPilot.ColorUtil.rgbToHex = function (e) { return "#" + n(e.r) + n(e.g) + n(e.b); }, DayPilot.ColorUtil.adjustLuminance = function (e, t) { return { r: e.r + t, g: e.g + t, b: e.b + t }; }, DayPilot.ColorUtil.darker = function (e, t) { var n = DayPilot.ColorUtil.hexToRgb(e); "number" != typeof t && (t = 1); var i = 17, a = Math.round(t * i), r = DayPilot.ColorUtil.adjustLuminance(n, -a); return DayPilot.ColorUtil.rgbToHex(r); }, DayPilot.ColorUtil.lighter = function (e, t) { return "number" != typeof t && (t = 1), DayPilot.ColorUtil.darker(e, -t); }, DayPilot.Canvas = function (e, t, n, i, a) { function r(e, t, n) { for (var i = t.split(" "), a = [], r = i[0], o = 1; o < i.length; o++) {
            var s = i[o];
            e.measureText(r + " " + s).width < n ? r += " " + s : (a.push(r), r = s);
        } return a.push(r), a; } var i = i || 1, s = document.createElement("canvas"); s.width = e * i, s.height = t * i; var l = s.getContext("2d"); l.scale(i, i), this.defaultFileName = "image.png", "image/jpeg" === n && (this.defaultFileName = "image.jpg", a = a || .92), this.groupStart = function (e) { }, this.groupEnd = function () { }, this.fillRect = function (e, t) { l.save(), l.strokeStyle = "rgb(0,0,0,0)", l.fillStyle = t, l.fillRect(e.x, e.y, e.w, e.h), l.restore(); }, this.rect = function (e, t) { l.save(), l.strokeStyle = t, l.beginPath(), l.rect(e.x + .5, e.y + .5, e.w - 1, e.h - 1), l.stroke(), l.restore(); }, this.diamond = function (e, t) { l.save(), l.strokeStyle = "rgb(0,0,0,0)", l.fillStyle = t, l.beginPath(), l.moveTo(e.x + e.w / 2, e.y + .5), l.lineTo(e.x + e.w - .5, e.y + e.h / 2), l.lineTo(e.x + e.w / 2, e.y + e.h - .5), l.lineTo(e.x + .5, e.y + e.h / 2), l.closePath(), l.fill(), l.restore(); }, this.triangle = function (e, t, n) { for (n = n || 0; n < 0;)
            n += 360; for (; n >= 360;)
            n -= 360; switch (l.save(), l.strokeStyle = "rgb(0,0,0,0)", l.fillStyle = t, l.beginPath(), n) {
            case 0:
                l.moveTo(e.x + e.w / 3, e.y + .5), l.lineTo(e.x + e.w + .5, e.y + e.h / 2), l.lineTo(e.x + e.w / 3, e.y + e.h - .5);
                break;
            case 90:
                l.moveTo(e.x - .5, e.y + e.h / 3), l.lineTo(e.x + e.w + .5, e.y + e.h / 3), l.lineTo(e.x + e.w / 2, e.y + e.h + .5);
                break;
            case 180:
                l.moveTo(e.x + 2 * e.w / 3, e.y + .5), l.lineTo(e.x + 2 * e.w / 3, e.y + e.h), l.lineTo(e.x, e.y + e.h / 2);
                break;
            case 270:
                l.moveTo(e.x + e.w / 2, e.y + e.w / 2 + .5), l.lineTo(e.x + e.w - .5, e.y + 2 * e.h / 3), l.lineTo(e.x, e.y + 2 * e.h / 3);
                break;
            default: throw new DayPilot.Exception("Unsupported rotation angle");
        } l.closePath(), l.fill(), l.restore(); }, this.upperLeftCorner = function (e, t) { l.save(), l.strokeStyle = "rgb(0,0,0,0)", l.fillStyle = t, l.beginPath(), l.moveTo(e.x, e.y), l.lineTo(e.x + e.w, e.y), l.lineTo(e.x, e.y + e.h), l.closePath(), l.fill(), l.restore(); }, this.upperRightCorner = function (e, t) { l.save(), l.strokeStyle = "rgb(0,0,0,0)", l.fillStyle = t, l.beginPath(), l.moveTo(e.x, e.y), l.lineTo(e.x + e.w, e.y), l.lineTo(e.x + e.w, e.y + e.h), l.closePath(), l.fill(), l.restore(); }, this.textWidth = function (e, t) { l.save(), l.font = t.style + " " + t.size + " " + t.family; var n = l.measureText(e).width + 1; return l.restore(), n; }, this.text = function (e, t, n, i, a, o, s) { if (t) {
            if ("number" == typeof t && (t = "" + t), "string" != typeof t)
                throw "String expected, supplied: " + typeof t;
            a = a || "left", o = o || 0, i = i || "#000", s = s || "top", l.save();
            var d = DayPilot.Util.fontHeight(n), c = DayPilot.browser.ff ? 3 : 0;
            c += .2 * d, c += DayPilot.browser.chrome ? 1 : 0, c += DayPilot.browser.ie ? 1 : 0, l.beginPath(), l.rect(e.x + .5 + o, e.y + .5 + o, e.w - 1 - o, e.h - 1 - o), l.clip(), l.fillStyle = i, l.font = n.style + " " + n.size + " " + n.family, l.textBaseline = "top", l.textAlign = a;
            var u = e.x;
            switch (a) {
                case "left":
                    u += o;
                    break;
                case "center":
                    u += e.w / 2;
                    break;
                case "right": u += e.w - o;
            }
            var h = 1.2 * d, f = t.split("\n"), v = [];
            DayPilot.list(f).forEach(function (t) { var n = r(l, t, e.w); DayPilot.list(n).forEach(function (e) { v.push(e); }); });
            var p = h - d, m = h * v.length - p, g = e.h - 2 * o, b = e.y + o;
            switch (s) {
                case "top":
                    b += c;
                    break;
                case "center":
                    b += (g - m) / 2 + .1 * d;
                    break;
                case "bottom": b += g - m;
            }
            for (var y = 0; y < v.length; y++) {
                var w = v[y];
                l.fillText(w, u, b), b += h;
            }
            l.restore();
        } }, this.line = function (e, t, n, i, a) { l.save(), l.lineWidth = 1, l.strokeStyle = a, l.beginPath(), l.moveTo(e + .5, t + .5), l.lineTo(n + .5, i + .5), l.stroke(), l.restore(); }, this.image = function (e, t) { if (t) {
            if ("string" == typeof t) {
                var n = t, t = document.createElement("img");
                if (0 !== n.indexOf("data:"), !0)
                    return t.onload = function () { l.save(), l.drawImage(t, e.x, e.y), l.restore(); }, void (t.src = n);
                t.src = n;
            }
            l.save(), l.drawImage(t, e.x, e.y), l.restore();
        } }, this.symbol = function (e, t, n) { var i = "http://www.w3.org/2000/svg", a = document.createElementNS(i, "svg"), r = this; n = n || {}; var s = n.color; new o(t).k().then(function (t) { if (s) {
            var n = document.createElementNS(i, "style");
            n.innerHTML = "svg { color: " + s + "; }", a.appendChild(n);
        } a.setAttribute("viewBox", t.getAttribute("viewBox")), a.setAttribute("width", e.w), a.setAttribute("height", e.h); var o = document.createElementNS(i, "g"); o.innerHTML = t.innerHTML, a.appendChild(o); var l = (new XMLSerializer).serializeToString(a), d = "data:image/svg+xml;base64," + btoa(l); r.image(e, d); }); }, this.getWidth = function () { return s.width; }, this.getHeight = function () { return s.height; }, this.getElement = function () { return s; }, this.getSource = function () { return "<img src='" + s.toDataURL(n, a) + "' />"; }, this.getDataUri = function () { return s.toDataURL(n, a); }, this.getDefaultFileName = function () { return this.defaultFileName; }, this.getBlob = function () { return s.msToBlob ? s.msToBlob() : DayPilot.Util.dataUriToBlob(this.getDataUri()); }; }, DayPilot.Svg = function (e, t) { function n(e, t) { var n = document.createElementNS(a, "clipPath"); n.id = "clip" + DayPilot.guid(); var i = document.createElementNS(a, "rect"); i.setAttribute("x", 0), i.setAttribute("y", 0), i.setAttribute("width", e), i.setAttribute("height", t), n.appendChild(i), s.defs.appendChild(n); var o = document.createElementNS(a, "g"); o.setAttribute("clip-path", "url(#" + n.id + ")"), r.appendChild(o), r = o; } function i(e, t) { var n = null; if (e) {
            if ("string" == typeof e) {
                if (0 === e.indexOf("data:")) {
                    var i = {};
                    i.dataUri = e, t(i);
                }
                n = e;
            }
            else
                n = e.src;
            var e = document.createElement("img");
            e.onload = function () { var e = document.createElement("canvas"); e.width = this.naturalWidth, e.height = this.naturalHeight, e.getContext("2d").drawImage(this, 0, 0); var n = {}; n.dataUri = e.toDataURL("image/png"), t(n); }, e.src = n;
        } } var a = "http://www.w3.org/2000/svg", r = document.createElementNS(a, "svg"), s = this; this.l = r, this.groups = [], r.outerHTML && r.setAttribute("xmlns", a), r.setAttribute("viewBox", "0 0 " + e + " " + t); var l = document.createElementNS(a, "defs"); r.appendChild(l), s.defs = l, n(e, t), this.defaultFileName = "image.svg", this.groupStart = function (e) { var t = document.createElementNS(a, "g"); for (var n in e)
            t.setAttribute("data-" + n, e[n]); r = t, this.group && this.groups.push(this.group), this.group = t; }, this.groupEnd = function () { if (!this.group)
            throw new DayPilot.Exception("SVG export = group not open"); var e = this.group; this.group = this.groups.pop(), r = this.group, r || (r = this.l), r.appendChild(e); }, this.fillRect = function (e, t) { var n = document.createElementNS(a, "rect"); n.setAttribute("x", e.x), n.setAttribute("y", e.y), n.setAttribute("width", e.w), n.setAttribute("height", e.h), n.setAttribute("fill", t), r.appendChild(n); }, this.diamond = function (e, t) { var n = document.createElementNS(a, "path"), i = ""; i += "M " + (e.x + e.w / 2) + " " + e.y, i += " ", i += "L " + (e.x + e.w) + " " + (e.y + e.h / 2), i += " ", i += "L " + (e.x + e.w / 2) + " " + (e.y + e.h), i += " ", i += "L " + e.x + " " + (e.y + e.h / 2), i += " Z", n.setAttribute("d", i), n.setAttribute("fill", t), r.appendChild(n); }, this.triangle = function (e, t, n) { var i = document.createElementNS(a, "path"), o = ""; o += "M " + (e.x + e.w / 3) + " " + e.y, o += " ", o += "L " + (e.x + e.w) + " " + (e.y + e.h / 2), o += " ", o += "L " + (e.x + e.w / 3) + " " + (e.y + e.h), o += " Z", i.setAttribute("d", o), i.setAttribute("fill", t), "number" == typeof n && i.setAttribute("transform", "rotate(" + n + "," + (e.x + e.w / 2) + "," + (e.y + e.h / 2) + ")"), r.appendChild(i); }, this.upperLeftCorner = function (e, t) { var n = document.createElementNS(a, "path"), i = ""; i += "M " + e.x + " " + e.y, i += " ", i += "L " + (e.x + e.w) + " " + e.y, i += " ", i += "L " + e.x + " " + (e.y + e.h), i += " Z", n.setAttribute("d", i), n.setAttribute("fill", t), r.appendChild(n); }, this.upperRightCorner = function (e, t) { var n = document.createElementNS(a, "path"), i = ""; i += "M " + e.x + " " + e.y, i += " ", i += "L " + (e.x + e.w) + " " + e.y, i += " ", i += "L " + (e.x + e.w) + " " + (e.y + e.h), i += " Z", n.setAttribute("d", i), n.setAttribute("fill", t), r.appendChild(n); }, this.rect = function (e, t) { var n = document.createElementNS(a, "rect"); n.setAttribute("x", e.x + .5), n.setAttribute("y", e.y + .5), n.setAttribute("width", e.w - 1), n.setAttribute("height", e.h - 1), n.setAttribute("stroke", t), n.setAttribute("stroke-width", "1"), n.setAttribute("fill", "transparent"), r.appendChild(n); }, this.text = function (e, t, n, i, o, l, d) { function c(e, t, o) { var s = document.createElementNS(a, "text"); s.setAttribute("fill", i), s.setAttribute("font-family", n.family), s.setAttribute("font-size", n.size), s.setAttribute("font-style", u), s.setAttribute("font-weight", h), s.setAttribute("x", t), s.setAttribute("y", o), s.setAttribute("dy", "0.8em"), s.setAttribute("text-anchor", p), s.setAttribute("clip-path", "url(#" + m.id + ")"); var l = document.createTextNode(e); s.appendChild(l), r.appendChild(s); } if (t) {
            if ("number" == typeof t && (t = "" + t), "string" != typeof t)
                throw "String expected, supplied: " + typeof t;
            o = o || "left", l = l || 0, d = d || "top";
            var u = n.style;
            u.indexOf("italic") !== -1 && (u = "bold");
            var h = n.style;
            if (n.style)
                var f = 3;
            var v = e.x, p = "start";
            switch (o) {
                case "center":
                    v += e.w / 2, p = "middle";
                    break;
                case "right": v += e.w, p = "end";
            }
            var m = document.createElementNS(a, "clipPath");
            m.id = "clip" + DayPilot.guid();
            var g = document.createElementNS(a, "rect");
            g.setAttribute("x", e.x), g.setAttribute("y", e.y), g.setAttribute("width", e.w), g.setAttribute("height", e.h), m.appendChild(g), s.defs.appendChild(m);
            var b = DayPilot.Util.fontHeight(n), y = 1.2 * b, w = t.split("\n"), x = y - b, k = y * w.length - x, C = e.h - 2 * l, D = e.y + l;
            switch (d) {
                case "top":
                    D += f;
                    break;
                case "center":
                    D += (C - k) / 2 + .1 * b;
                    break;
                case "bottom": D += C - k;
            }
            for (var S = 0; S < w.length; S++) {
                c(w[S], v + l, D), D += y;
            }
        } }, this.line = function (e, t, n, i, o) { var s = document.createElementNS(a, "line"); s.setAttribute("x1", e + .5), s.setAttribute("y1", t + .5), s.setAttribute("x2", n + .5), s.setAttribute("y2", i + .5), s.setAttribute("stroke", o), r.appendChild(s); }, this.image = function (e, t) { function n(t) { var n = document.createElementNS(a, "image"); n.setAttribute("href", t.dataUri), n.setAttribute("x", e.x), n.setAttribute("y", e.y), n.setAttribute("width", e.w), n.setAttribute("height", e.h), o.appendChild(n); } var o = document.createElementNS(a, "g"); r.appendChild(o), i(t, n); }, this.symbol = function (e, t, n) { var i = "http://www.w3.org/2000/svg", a = document.createElementNS(i, "symbol"), s = this; n = n || {}; var l = n.color; new o(t).k().then(function (t) { if (l) {
            var n = document.createElementNS(i, "style");
            n.innerHTML = "svg { color: " + l + "; }", a.appendChild(n);
        } var o = DayPilot.guid(); a.setAttribute("viewBox", t.getAttribute("viewBox")), a.setAttribute("width", e.w), a.setAttribute("height", e.h), a.setAttribute("id", o); var d = document.createElementNS(i, "g"); d.innerHTML = t.innerHTML, a.appendChild(d), s.l.appendChild(a); var c = document.createElementNS(i, "use"); c.setAttribute("href", "#" + o), c.setAttribute("x", e.x), c.setAttribute("y", e.y), r.appendChild(c); }); }, this.m = {}, this.textWidth = function (e, t) { var n = "#" + e + "#" + JSON.stringify(t), i = this.m[n]; if ("number" == typeof i)
            return i; var a = "http://www.w3.org/2000/svg", r = document.createElementNS(a, "svg"); r.style.position = "absolute", r.style.left = "-10000px", r.style.width = "100px", r.outerHTML && r.setAttribute("xmlns", a), r.setAttribute("viewBox", "0 0 100 100"); var o = document.createElementNS(a, "text"); o.setAttribute("font-family", t.family), o.setAttribute("font-size", t.size), o.setAttribute("font-style", t.style), o.setAttribute("x", 0), o.setAttribute("y", 0), o.setAttribute("dy", "1em"); var s = document.createTextNode(e); o.appendChild(s), r.appendChild(o), document.body.appendChild(r); var l = o.getComputedTextLength(); return this.m[n] = l, document.body.removeChild(r), l; }, this.getWidth = function () { return e; }, this.getHeight = function () { return t; }, this.getElement = function () { return this.l; }, this.getSource = function () { if (this.l.outerHTML)
            return this.l.outerHTML; var e = document.createElement("div"), t = this.l.cloneNode(!0); return e.appendChild(t), e.innerHTML; }, this.getDataUri = function () { return "data:application/octet-stream," + encodeURIComponent(this.getSource()); }, this.getDefaultFileName = function () { return this.defaultFileName; }, this.getBlob = function () { return new Blob([this.getSource()]); }; }, DayPilot.Excel = function () { var e = this, t = null, n = null, i = null, a = {}; a.xmlns = "urn:schemas-microsoft-com:office:spreadsheet", a.o = "urn:schemas-microsoft-com:office:office", a.x = "urn:schemas-microsoft-com:office:excel", a.ss = "urn:schemas-microsoft-com:office:spreadsheet", a.html = "http://www.w3.org/TR/REC-html40", this.init = function () { t = document.implementation.createDocument(a.xmlns, "Workbook", null), t.documentElement.setAttribute("xmlns:o", a.o), t.documentElement.setAttribute("xmlns:x", a.x), t.documentElement.setAttribute("xmlns:ss", a.ss), t.documentElement.setAttribute("xmlns:html", a.html); var r = t.createElement("x:ExcelWorkbook"); t.documentElement.appendChild(r), n = t.createElement("ss:Styles"), t.documentElement.appendChild(n), i = e.styles.create(), i.setId("Default"), i.setName("Normal"); }, this.worksheets = [], this.worksheets.create = function (t) { var n = e.el(a.ss, "Worksheet"), i = new r(n); return i.setName(t), this.push(i), i; }, this.styles = [], this.styles.create = function (e) { var i = t.createElement("ss:Style"); n.appendChild(i); var a = new o(i); return this.push(a), a; }, this.styles.getDefault = function () { return i; }, this.el = function (e, n) { var i = t.createElementNS(e, n); return t.documentElement.appendChild(i), i; }, this.getSource = function () { return '<?xml version="1.0"?>' + (new XMLSerializer).serializeToString(t); }, this.getDataUri = function () { return "data:application/vnd.ms-excel," + encodeURIComponent(this.getSource()); }, this.getElement = function () { return t; }, this.getDefaultFileName = function () { return "spreadsheet.xls"; }, this.getBlob = function () { return new Blob([this.getSource()]); }; var r = function (e) { var n = t.createElement("Table"); e.appendChild(n); var i = t.createElement("x:WorksheetOptions"); e.appendChild(i), this.rows = [], this.setName = function (t) { e.setAttribute("ss:Name", t); }, this.cell = function (e, i) { for (; i >= this.rows.length;) {
            var r = t.createElement("Row");
            n.appendChild(r), this.rows.push(new a(r));
        } return this.rows[i].cell(e); }, this.enableGridlines = function (e) { var n = DayPilot.list(i.childNodes).find(function (e) { return "x:DoNotDisplayGridlines" === e.tagName; }); if (!n && !e) {
            var a = t.createElement("x:DoNotDisplayGridlines");
            i.appendChild(a);
        } n && e && i.removeChild(n); }; var a = function (e) { this.cells = [], this.getElement = function () { return e; }, this.cell = function (i) { for (; i >= this.cells.length;) {
            var a = t.createElement("Cell");
            e.appendChild(a), this.cells.push(new n(a));
        } return this.cells[i]; }; var n = function (e) { this.setText = function (n) { var i = t.createElement("Data"); i.setAttribute("ss:Type", "String"); var a = t.createTextNode(n); for (i.appendChild(a); e.firstChild;)
            e.removeChild(e.firstChild); return e.appendChild(i), this; }, this.setColspan = function (t) { return t > 1 ? e.setAttribute("ss:MergeAcross", t - 1) : e.removeAttribute("ss:MergeAcross"), this; }, this.setRowspan = function (t) { return t > 1 ? e.setAttribute("ss:MergeDown", t - 1) : e.removeAttribute("ss:MergeDown"), this; }, this.setStyle = function (t) { if (!(t instanceof o))
            throw "Invalid argument, Style expected"; return e.setAttribute("ss:StyleID", t.getId()), this; }; }; }; }, o = function (e) { var n = DayPilot.guid(); e.setAttribute("ss:ID", n); var i = t.createElement("ss:Alignment"); e.appendChild(i); var a = t.createElement("ss:Interior"); e.appendChild(a); var r = t.createElement("ss:Borders"); e.appendChild(r), this.setHorizontalAlignment = function (e) { i.setAttribute("ss:Horizontal", e); }, this.setVerticalAlignment = function (e) { i.setAttribute("ss:Vertical", e); }, this.setBackColor = function (e) { var t = DayPilot.Util.normalizeColor(e); a.setAttribute("ss:Color", t), a.setAttribute("ss:Pattern", "Solid"); }, this.setBorderColor = function (e) { function n(e, n) { var i = t.createElement("ss:Border"); return i.setAttribute("ss:Position", e), i.setAttribute("ss:LineStyle", "Continuous"), i.setAttribute("ss:Color", DayPilot.Util.normalizeColor(n)), i; } this.clearBorders(); var i = n("Left", e); r.appendChild(i); var a = n("Right", e); r.appendChild(a); var o = n("Top", e); r.appendChild(o); var s = n("Bottom", e); r.appendChild(s); }, this.clearBorders = function () { for (; r.firstChild;)
            r.removeChild(r.firstChild); }, this.getId = function () { return n; }, this.setId = function (t) { n = t, e.setAttribute("ss:ID", n); }, this.setName = function (t) { e.setAttribute("ss:Name", t); }; }; this.init(); }, DayPilot.Export = function (e) { this.toElement = function () { return e.getElement(); }, this.dimensions = function () { return { "width": e.getWidth(), "height": e.getHeight() }; }, this.toHtml = function () { return e.getSource(); }, this.toDataUri = function () { return e.getDataUri(); }, this.toBlob = function () { return e.getBlob(); }, this.print = function (t) { t = t || {}, t.orientation = t.orientation || "portrait"; var n = document.createElement("iframe"); n.setAttribute("width", 0), n.setAttribute("height", 0), n.setAttribute("frameborder", 0), n.setAttribute("src", "about:blank"), n.onload = function () { var i = n.contentWindow.document; if (i.body.appendChild(e.getElement()), "landscape" === t.orientation) {
            var a = DayPilot.sheet(i);
            a.add("@page", "size: landscape;"), a.commit();
        } n.contentWindow.document.execCommand("print", !1, null) || (n.contentWindow.focus(), n.contentWindow.print()), setTimeout(function () { document.body.removeChild(n); }, 10); }, document.body.appendChild(n); }, this.download = function (t) { var t = t || e.getDefaultFileName(), n = e.getBlob(); DayPilot.Util.downloadBlob(n, t); }; }, DayPilot.Exception = function (e) { return new Error(e); }, DayPilot.Locale = function (e, t) { if (this.id = e, this.dayNames = ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"], this.dayNamesShort = ["Su", "Mo", "Tu", "We", "Th", "Fr", "Sa"], this.monthNames = ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"], this.monthNamesShort = ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"], this.datePattern = "M/d/yyyy", this.timePattern = "H:mm", this.dateTimePattern = "M/d/yyyy H:mm", this.timeFormat = "Clock12Hours", this.weekStarts = 0, t)
            for (var n in t)
                this[n] = t[n]; }, DayPilot.Locale.all = {}, DayPilot.Locale.find = function (e) { if (!e)
            return null; var t = e.toLowerCase(); return t.length > 2 && (t = DayPilot.Util.replaceCharAt(t, 2, "-")), DayPilot.Locale.all[t]; }, DayPilot.Locale.register = function (e) { DayPilot.Locale.all[e.id] = e; }, DayPilot.Locale.register(new DayPilot.Locale("ca-es", { "dayNames": ["diumenge", "dilluns", "dimarts", "dimecres", "dijous", "divendres", "dissabte"], "dayNamesShort": ["dg", "dl", "dt", "dc", "dj", "dv", "ds"], "monthNames": ["gener", "febrer", "març", "abril", "maig", "juny", "juliol", "agost", "setembre", "octubre", "novembre", "desembre", ""], "monthNamesShort": ["gen.", "febr.", "març", "abr.", "maig", "juny", "jul.", "ag.", "set.", "oct.", "nov.", "des.", ""], "timePattern": "H:mm", "datePattern": "dd/MM/yyyy", "dateTimePattern": "dd/MM/yyyy H:mm", "timeFormat": "Clock24Hours", "weekStarts": 1 })), DayPilot.Locale.register(new DayPilot.Locale("cs-cz", { "dayNames": ["neděle", "pondělí", "úterý", "středa", "čtvrtek", "pátek", "sobota"], "dayNamesShort": ["ne", "po", "út", "st", "čt", "pá", "so"], "monthNames": ["leden", "únor", "březen", "duben", "květen", "červen", "červenec", "srpen", "září", "říjen", "listopad", "prosinec", ""], "monthNamesShort": ["I", "II", "III", "IV", "V", "VI", "VII", "VIII", "IX", "X", "XI", "XII", ""], "timePattern": "H:mm", "datePattern": "d. M. yyyy", "dateTimePattern": "d. M. yyyy H:mm", "timeFormat": "Clock24Hours", "weekStarts": 1 })), DayPilot.Locale.register(new DayPilot.Locale("da-dk", { "dayNames": ["søndag", "mandag", "tirsdag", "onsdag", "torsdag", "fredag", "lørdag"], "dayNamesShort": ["sø", "ma", "ti", "on", "to", "fr", "lø"], "monthNames": ["januar", "februar", "marts", "april", "maj", "juni", "juli", "august", "september", "oktober", "november", "december", ""], "monthNamesShort": ["jan", "feb", "mar", "apr", "maj", "jun", "jul", "aug", "sep", "okt", "nov", "dec", ""], "timePattern": "HH:mm", "datePattern": "dd-MM-yyyy", "dateTimePattern": "dd-MM-yyyy HH:mm", "timeFormat": "Clock24Hours", "weekStarts": 1 })), DayPilot.Locale.register(new DayPilot.Locale("de-at", { "dayNames": ["Sonntag", "Montag", "Dienstag", "Mittwoch", "Donnerstag", "Freitag", "Samstag"], "dayNamesShort": ["So", "Mo", "Di", "Mi", "Do", "Fr", "Sa"], "monthNames": ["Jänner", "Februar", "März", "April", "Mai", "Juni", "Juli", "August", "September", "Oktober", "November", "Dezember", ""], "monthNamesShort": ["Jän", "Feb", "Mär", "Apr", "Mai", "Jun", "Jul", "Aug", "Sep", "Okt", "Nov", "Dez", ""], "timePattern": "HH:mm", "datePattern": "dd.MM.yyyy", "dateTimePattern": "dd.MM.yyyy HH:mm", "timeFormat": "Clock24Hours", "weekStarts": 1 })), DayPilot.Locale.register(new DayPilot.Locale("de-ch", { "dayNames": ["Sonntag", "Montag", "Dienstag", "Mittwoch", "Donnerstag", "Freitag", "Samstag"], "dayNamesShort": ["So", "Mo", "Di", "Mi", "Do", "Fr", "Sa"], "monthNames": ["Januar", "Februar", "März", "April", "Mai", "Juni", "Juli", "August", "September", "Oktober", "November", "Dezember", ""], "monthNamesShort": ["Jan", "Feb", "Mrz", "Apr", "Mai", "Jun", "Jul", "Aug", "Sep", "Okt", "Nov", "Dez", ""], "timePattern": "HH:mm", "datePattern": "dd.MM.yyyy", "dateTimePattern": "dd.MM.yyyy HH:mm", "timeFormat": "Clock24Hours", "weekStarts": 1 })), DayPilot.Locale.register(new DayPilot.Locale("de-de", { "dayNames": ["Sonntag", "Montag", "Dienstag", "Mittwoch", "Donnerstag", "Freitag", "Samstag"], "dayNamesShort": ["So", "Mo", "Di", "Mi", "Do", "Fr", "Sa"], "monthNames": ["Januar", "Februar", "März", "April", "Mai", "Juni", "Juli", "August", "September", "Oktober", "November", "Dezember", ""], "monthNamesShort": ["Jan", "Feb", "Mrz", "Apr", "Mai", "Jun", "Jul", "Aug", "Sep", "Okt", "Nov", "Dez", ""], "timePattern": "HH:mm", "datePattern": "dd.MM.yyyy", "dateTimePattern": "dd.MM.yyyy HH:mm", "timeFormat": "Clock24Hours", "weekStarts": 1 })), DayPilot.Locale.register(new DayPilot.Locale("de-lu", { "dayNames": ["Sonntag", "Montag", "Dienstag", "Mittwoch", "Donnerstag", "Freitag", "Samstag"], "dayNamesShort": ["So", "Mo", "Di", "Mi", "Do", "Fr", "Sa"], "monthNames": ["Januar", "Februar", "März", "April", "Mai", "Juni", "Juli", "August", "September", "Oktober", "November", "Dezember", ""], "monthNamesShort": ["Jan", "Feb", "Mrz", "Apr", "Mai", "Jun", "Jul", "Aug", "Sep", "Okt", "Nov", "Dez", ""], "timePattern": "HH:mm", "datePattern": "dd.MM.yyyy", "dateTimePattern": "dd.MM.yyyy HH:mm", "timeFormat": "Clock24Hours", "weekStarts": 1 })), DayPilot.Locale.register(new DayPilot.Locale("en-au", { "dayNames": ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"], "dayNamesShort": ["Su", "Mo", "Tu", "We", "Th", "Fr", "Sa"], "monthNames": ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December", ""], "monthNamesShort": ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec", ""], "timePattern": "h:mm tt", "datePattern": "d/MM/yyyy", "dateTimePattern": "d/MM/yyyy h:mm tt", "timeFormat": "Clock12Hours", "weekStarts": 1 })), DayPilot.Locale.register(new DayPilot.Locale("en-ca", { "dayNames": ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"], "dayNamesShort": ["Su", "Mo", "Tu", "We", "Th", "Fr", "Sa"], "monthNames": ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December", ""], "monthNamesShort": ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec", ""], "timePattern": "h:mm tt", "datePattern": "yyyy-MM-dd", "dateTimePattern": "yyyy-MM-dd h:mm tt", "timeFormat": "Clock12Hours", "weekStarts": 0 })), DayPilot.Locale.register(new DayPilot.Locale("en-gb", { "dayNames": ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"], "dayNamesShort": ["Su", "Mo", "Tu", "We", "Th", "Fr", "Sa"], "monthNames": ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December", ""], "monthNamesShort": ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec", ""], "timePattern": "HH:mm", "datePattern": "dd/MM/yyyy", "dateTimePattern": "dd/MM/yyyy HH:mm", "timeFormat": "Clock24Hours", "weekStarts": 1 })), DayPilot.Locale.register(new DayPilot.Locale("en-us", { "dayNames": ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"], "dayNamesShort": ["Su", "Mo", "Tu", "We", "Th", "Fr", "Sa"], "monthNames": ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December", ""], "monthNamesShort": ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec", ""], "timePattern": "h:mm tt", "datePattern": "M/d/yyyy", "dateTimePattern": "M/d/yyyy h:mm tt", "timeFormat": "Clock12Hours", "weekStarts": 0 })), DayPilot.Locale.register(new DayPilot.Locale("es-es", { "dayNames": ["domingo", "lunes", "martes", "miércoles", "jueves", "viernes", "sábado"], "dayNamesShort": ["D", "L", "M", "X", "J", "V", "S"], "monthNames": ["enero", "febrero", "marzo", "abril", "mayo", "junio", "julio", "agosto", "septiembre", "octubre", "noviembre", "diciembre", ""], "monthNamesShort": ["ene.", "feb.", "mar.", "abr.", "may.", "jun.", "jul.", "ago.", "sep.", "oct.", "nov.", "dic.", ""], "timePattern": "H:mm", "datePattern": "dd/MM/yyyy", "dateTimePattern": "dd/MM/yyyy H:mm", "timeFormat": "Clock24Hours", "weekStarts": 1 })), DayPilot.Locale.register(new DayPilot.Locale("es-mx", { "dayNames": ["domingo", "lunes", "martes", "miércoles", "jueves", "viernes", "sábado"], "dayNamesShort": ["do.", "lu.", "ma.", "mi.", "ju.", "vi.", "sá."], "monthNames": ["enero", "febrero", "marzo", "abril", "mayo", "junio", "julio", "agosto", "septiembre", "octubre", "noviembre", "diciembre", ""], "monthNamesShort": ["ene.", "feb.", "mar.", "abr.", "may.", "jun.", "jul.", "ago.", "sep.", "oct.", "nov.", "dic.", ""], "timePattern": "hh:mm tt", "datePattern": "dd/MM/yyyy", "dateTimePattern": "dd/MM/yyyy hh:mm tt", "timeFormat": "Clock12Hours", "weekStarts": 0 })), DayPilot.Locale.register(new DayPilot.Locale("eu-es", { "dayNames": ["igandea", "astelehena", "asteartea", "asteazkena", "osteguna", "ostirala", "larunbata"], "dayNamesShort": ["ig", "al", "as", "az", "og", "or", "lr"], "monthNames": ["urtarrila", "otsaila", "martxoa", "apirila", "maiatza", "ekaina", "uztaila", "abuztua", "iraila", "urria", "azaroa", "abendua", ""], "monthNamesShort": ["urt.", "ots.", "mar.", "api.", "mai.", "eka.", "uzt.", "abu.", "ira.", "urr.", "aza.", "abe.", ""], "timePattern": "H:mm", "datePattern": "yyyy/MM/dd", "dateTimePattern": "yyyy/MM/dd H:mm", "timeFormat": "Clock24Hours", "weekStarts": 1 })), DayPilot.Locale.register(new DayPilot.Locale("fi-fi", { "dayNames": ["sunnuntai", "maanantai", "tiistai", "keskiviikko", "torstai", "perjantai", "lauantai"], "dayNamesShort": ["su", "ma", "ti", "ke", "to", "pe", "la"], "monthNames": ["tammikuu", "helmikuu", "maaliskuu", "huhtikuu", "toukokuu", "kesäkuu", "heinäkuu", "elokuu", "syyskuu", "lokakuu", "marraskuu", "joulukuu", ""], "monthNamesShort": ["tammi", "helmi", "maalis", "huhti", "touko", "kesä", "heinä", "elo", "syys", "loka", "marras", "joulu", ""], "timePattern": "H:mm", "datePattern": "d.M.yyyy", "dateTimePattern": "d.M.yyyy H:mm", "timeFormat": "Clock24Hours", "weekStarts": 1 })), DayPilot.Locale.register(new DayPilot.Locale("fr-be", { "dayNames": ["dimanche", "lundi", "mardi", "mercredi", "jeudi", "vendredi", "samedi"], "dayNamesShort": ["di", "lu", "ma", "me", "je", "ve", "sa"], "monthNames": ["janvier", "février", "mars", "avril", "mai", "juin", "juillet", "août", "septembre", "octobre", "novembre", "décembre", ""], "monthNamesShort": ["janv.", "févr.", "mars", "avr.", "mai", "juin", "juil.", "août", "sept.", "oct.", "nov.", "déc.", ""],
            "timePattern": "HH:mm", "datePattern": "dd-MM-yy", "dateTimePattern": "dd-MM-yy HH:mm", "timeFormat": "Clock24Hours", "weekStarts": 1 })), DayPilot.Locale.register(new DayPilot.Locale("fr-ca", { "dayNames": ["dimanche", "lundi", "mardi", "mercredi", "jeudi", "vendredi", "samedi"], "dayNamesShort": ["di", "lu", "ma", "me", "je", "ve", "sa"], "monthNames": ["janvier", "février", "mars", "avril", "mai", "juin", "juillet", "août", "septembre", "octobre", "novembre", "décembre", ""], "monthNamesShort": ["janv.", "févr.", "mars", "avr.", "mai", "juin", "juil.", "août", "sept.", "oct.", "nov.", "déc.", ""], "timePattern": "HH:mm", "datePattern": "yyyy-MM-dd", "dateTimePattern": "yyyy-MM-dd HH:mm", "timeFormat": "Clock24Hours", "weekStarts": 0 })), DayPilot.Locale.register(new DayPilot.Locale("fr-ch", { "dayNames": ["dimanche", "lundi", "mardi", "mercredi", "jeudi", "vendredi", "samedi"], "dayNamesShort": ["di", "lu", "ma", "me", "je", "ve", "sa"], "monthNames": ["janvier", "février", "mars", "avril", "mai", "juin", "juillet", "août", "septembre", "octobre", "novembre", "décembre", ""], "monthNamesShort": ["janv.", "févr.", "mars", "avr.", "mai", "juin", "juil.", "août", "sept.", "oct.", "nov.", "déc.", ""], "timePattern": "HH:mm", "datePattern": "dd.MM.yyyy", "dateTimePattern": "dd.MM.yyyy HH:mm", "timeFormat": "Clock24Hours", "weekStarts": 1 })), DayPilot.Locale.register(new DayPilot.Locale("fr-fr", { "dayNames": ["dimanche", "lundi", "mardi", "mercredi", "jeudi", "vendredi", "samedi"], "dayNamesShort": ["di", "lu", "ma", "me", "je", "ve", "sa"], "monthNames": ["janvier", "février", "mars", "avril", "mai", "juin", "juillet", "août", "septembre", "octobre", "novembre", "décembre", ""], "monthNamesShort": ["janv.", "févr.", "mars", "avr.", "mai", "juin", "juil.", "août", "sept.", "oct.", "nov.", "déc.", ""], "timePattern": "HH:mm", "datePattern": "dd/MM/yyyy", "dateTimePattern": "dd/MM/yyyy HH:mm", "timeFormat": "Clock24Hours", "weekStarts": 1 })), DayPilot.Locale.register(new DayPilot.Locale("fr-lu", { "dayNames": ["dimanche", "lundi", "mardi", "mercredi", "jeudi", "vendredi", "samedi"], "dayNamesShort": ["di", "lu", "ma", "me", "je", "ve", "sa"], "monthNames": ["janvier", "février", "mars", "avril", "mai", "juin", "juillet", "août", "septembre", "octobre", "novembre", "décembre", ""], "monthNamesShort": ["janv.", "févr.", "mars", "avr.", "mai", "juin", "juil.", "août", "sept.", "oct.", "nov.", "déc.", ""], "timePattern": "HH:mm", "datePattern": "dd/MM/yyyy", "dateTimePattern": "dd/MM/yyyy HH:mm", "timeFormat": "Clock24Hours", "weekStarts": 1 })), DayPilot.Locale.register(new DayPilot.Locale("gl-es", { "dayNames": ["domingo", "luns", "martes", "mércores", "xoves", "venres", "sábado"], "dayNamesShort": ["do", "lu", "ma", "mé", "xo", "ve", "sá"], "monthNames": ["xaneiro", "febreiro", "marzo", "abril", "maio", "xuño", "xullo", "agosto", "setembro", "outubro", "novembro", "decembro", ""], "monthNamesShort": ["xan", "feb", "mar", "abr", "maio", "xuño", "xul", "ago", "set", "out", "nov", "dec", ""], "timePattern": "H:mm", "datePattern": "dd/MM/yyyy", "dateTimePattern": "dd/MM/yyyy H:mm", "timeFormat": "Clock24Hours", "weekStarts": 1 })), DayPilot.Locale.register(new DayPilot.Locale("it-it", { "dayNames": ["domenica", "lunedì", "martedì", "mercoledì", "giovedì", "venerdì", "sabato"], "dayNamesShort": ["do", "lu", "ma", "me", "gi", "ve", "sa"], "monthNames": ["gennaio", "febbraio", "marzo", "aprile", "maggio", "giugno", "luglio", "agosto", "settembre", "ottobre", "novembre", "dicembre", ""], "monthNamesShort": ["gen", "feb", "mar", "apr", "mag", "giu", "lug", "ago", "set", "ott", "nov", "dic", ""], "timePattern": "HH:mm", "datePattern": "dd/MM/yyyy", "dateTimePattern": "dd/MM/yyyy HH:mm", "timeFormat": "Clock24Hours", "weekStarts": 1 })), DayPilot.Locale.register(new DayPilot.Locale("it-ch", { "dayNames": ["domenica", "lunedì", "martedì", "mercoledì", "giovedì", "venerdì", "sabato"], "dayNamesShort": ["do", "lu", "ma", "me", "gi", "ve", "sa"], "monthNames": ["gennaio", "febbraio", "marzo", "aprile", "maggio", "giugno", "luglio", "agosto", "settembre", "ottobre", "novembre", "dicembre", ""], "monthNamesShort": ["gen", "feb", "mar", "apr", "mag", "giu", "lug", "ago", "set", "ott", "nov", "dic", ""], "timePattern": "HH:mm", "datePattern": "dd.MM.yyyy", "dateTimePattern": "dd.MM.yyyy HH:mm", "timeFormat": "Clock24Hours", "weekStarts": 1 })), DayPilot.Locale.register(new DayPilot.Locale("ja-jp", { "dayNames": ["日曜日", "月曜日", "火曜日", "水曜日", "木曜日", "金曜日", "土曜日"], "dayNamesShort": ["日", "月", "火", "水", "木", "金", "土"], "monthNames": ["1月", "2月", "3月", "4月", "5月", "6月", "7月", "8月", "9月", "10月", "11月", "12月", ""], "monthNamesShort": ["1", "2", "3", "4", "5", "6", "7", "8", "9", "10", "11", "12", ""], "timePattern": "H:mm", "datePattern": "yyyy/MM/dd", "dateTimePattern": "yyyy/MM/dd H:mm", "timeFormat": "Clock24Hours", "weekStarts": 0 })), DayPilot.Locale.register(new DayPilot.Locale("ko-kr", { "dayNames": ["일요일", "월요일", "화요일", "수요일", "목요일", "금요일", "토요일"], "dayNamesShort": ["일", "월", "화", "수", "목", "금", "토"], "monthNames": ["1월", "2월", "3월", "4월", "5월", "6월", "7월", "8월", "9월", "10월", "11월", "12월", ""], "monthNamesShort": ["1", "2", "3", "4", "5", "6", "7", "8", "9", "10", "11", "12", ""], "timePattern": "tt h:mm", "datePattern": "yyyy-MM-dd", "dateTimePattern": "yyyy-MM-dd tt h:mm", "timeFormat": "Clock12Hours", "weekStarts": 0 })), DayPilot.Locale.register(new DayPilot.Locale("nb-no", { "dayNames": ["søndag", "mandag", "tirsdag", "onsdag", "torsdag", "fredag", "lørdag"], "dayNamesShort": ["sø", "ma", "ti", "on", "to", "fr", "lø"], "monthNames": ["januar", "februar", "mars", "april", "mai", "juni", "juli", "august", "september", "oktober", "november", "desember", ""], "monthNamesShort": ["jan", "feb", "mar", "apr", "mai", "jun", "jul", "aug", "sep", "okt", "nov", "des", ""], "timePattern": "HH:mm", "datePattern": "dd.MM.yyyy", "dateTimePattern": "dd.MM.yyyy HH:mm", "timeFormat": "Clock24Hours", "weekStarts": 1 })), DayPilot.Locale.register(new DayPilot.Locale("nl-nl", { "dayNames": ["zondag", "maandag", "dinsdag", "woensdag", "donderdag", "vrijdag", "zaterdag"], "dayNamesShort": ["zo", "ma", "di", "wo", "do", "vr", "za"], "monthNames": ["januari", "februari", "maart", "april", "mei", "juni", "juli", "augustus", "september", "oktober", "november", "december", ""], "monthNamesShort": ["jan", "feb", "mrt", "apr", "mei", "jun", "jul", "aug", "sep", "okt", "nov", "dec", ""], "timePattern": "HH:mm", "datePattern": "d-M-yyyy", "dateTimePattern": "d-M-yyyy HH:mm", "timeFormat": "Clock24Hours", "weekStarts": 1 })), DayPilot.Locale.register(new DayPilot.Locale("nl-be", { "dayNames": ["zondag", "maandag", "dinsdag", "woensdag", "donderdag", "vrijdag", "zaterdag"], "dayNamesShort": ["zo", "ma", "di", "wo", "do", "vr", "za"], "monthNames": ["januari", "februari", "maart", "april", "mei", "juni", "juli", "augustus", "september", "oktober", "november", "december", ""], "monthNamesShort": ["jan", "feb", "mrt", "apr", "mei", "jun", "jul", "aug", "sep", "okt", "nov", "dec", ""], "timePattern": "H:mm", "datePattern": "d/MM/yyyy", "dateTimePattern": "d/MM/yyyy H:mm", "timeFormat": "Clock24Hours", "weekStarts": 1 })), DayPilot.Locale.register(new DayPilot.Locale("nn-no", { "dayNames": ["søndag", "måndag", "tysdag", "onsdag", "torsdag", "fredag", "laurdag"], "dayNamesShort": ["sø", "må", "ty", "on", "to", "fr", "la"], "monthNames": ["januar", "februar", "mars", "april", "mai", "juni", "juli", "august", "september", "oktober", "november", "desember", ""], "monthNamesShort": ["jan", "feb", "mar", "apr", "mai", "jun", "jul", "aug", "sep", "okt", "nov", "des", ""], "timePattern": "HH:mm", "datePattern": "dd.MM.yyyy", "dateTimePattern": "dd.MM.yyyy HH:mm", "timeFormat": "Clock24Hours", "weekStarts": 1 })), DayPilot.Locale.register(new DayPilot.Locale("pt-br", { "dayNames": ["domingo", "segunda-feira", "terça-feira", "quarta-feira", "quinta-feira", "sexta-feira", "sábado"], "dayNamesShort": ["D", "S", "T", "Q", "Q", "S", "S"], "monthNames": ["janeiro", "fevereiro", "março", "abril", "maio", "junho", "julho", "agosto", "setembro", "outubro", "novembro", "dezembro", ""], "monthNamesShort": ["jan", "fev", "mar", "abr", "mai", "jun", "jul", "ago", "set", "out", "nov", "dez", ""], "timePattern": "HH:mm", "datePattern": "dd/MM/yyyy", "dateTimePattern": "dd/MM/yyyy HH:mm", "timeFormat": "Clock24Hours", "weekStarts": 0 })), DayPilot.Locale.register(new DayPilot.Locale("pl-pl", { "dayNames": ["niedziela", "poniedziałek", "wtorek", "środa", "czwartek", "piątek", "sobota"], "dayNamesShort": ["N", "Pn", "Wt", "Śr", "Cz", "Pt", "So"], "monthNames": ["styczeń", "luty", "marzec", "kwiecień", "maj", "czerwiec", "lipiec", "sierpień", "wrzesień", "październik", "listopad", "grudzień", ""], "monthNamesShort": ["sty", "lut", "mar", "kwi", "maj", "cze", "lip", "sie", "wrz", "paź", "lis", "gru", ""], "timePattern": "HH:mm", "datePattern": "yyyy-MM-dd", "dateTimePattern": "yyyy-MM-dd HH:mm", "timeFormat": "Clock24Hours", "weekStarts": 1 })), DayPilot.Locale.register(new DayPilot.Locale("pt-pt", { "dayNames": ["domingo", "segunda-feira", "terça-feira", "quarta-feira", "quinta-feira", "sexta-feira", "sábado"], "dayNamesShort": ["D", "S", "T", "Q", "Q", "S", "S"], "monthNames": ["janeiro", "fevereiro", "março", "abril", "maio", "junho", "julho", "agosto", "setembro", "outubro", "novembro", "dezembro", ""], "monthNamesShort": ["jan", "fev", "mar", "abr", "mai", "jun", "jul", "ago", "set", "out", "nov", "dez", ""], "timePattern": "HH:mm", "datePattern": "dd/MM/yyyy", "dateTimePattern": "dd/MM/yyyy HH:mm", "timeFormat": "Clock24Hours", "weekStarts": 0 })), DayPilot.Locale.register(new DayPilot.Locale("ro-ro", { "dayNames": ["duminică", "luni", "marți", "miercuri", "joi", "vineri", "sâmbătă"], "dayNamesShort": ["D", "L", "Ma", "Mi", "J", "V", "S"], "monthNames": ["ianuarie", "februarie", "martie", "aprilie", "mai", "iunie", "iulie", "august", "septembrie", "octombrie", "noiembrie", "decembrie", ""], "monthNamesShort": ["ian.", "feb.", "mar.", "apr.", "mai.", "iun.", "iul.", "aug.", "sep.", "oct.", "nov.", "dec.", ""], "timePattern": "H:mm", "datePattern": "dd.MM.yyyy", "dateTimePattern": "dd.MM.yyyy H:mm", "timeFormat": "Clock24Hours", "weekStarts": 1 })), DayPilot.Locale.register(new DayPilot.Locale("ru-ru", { "dayNames": ["воскресенье", "понедельник", "вторник", "среда", "четверг", "пятница", "суббота"], "dayNamesShort": ["Вс", "Пн", "Вт", "Ср", "Чт", "Пт", "Сб"], "monthNames": ["Январь", "Февраль", "Март", "Апрель", "Май", "Июнь", "Июль", "Август", "Сентябрь", "Октябрь", "Ноябрь", "Декабрь", ""], "monthNamesShort": ["янв", "фев", "мар", "апр", "май", "июн", "июл", "авг", "сен", "окт", "ноя", "дек", ""], "timePattern": "H:mm", "datePattern": "dd.MM.yyyy", "dateTimePattern": "dd.MM.yyyy H:mm", "timeFormat": "Clock24Hours", "weekStarts": 1 })), DayPilot.Locale.register(new DayPilot.Locale("sk-sk", { "dayNames": ["nedeľa", "pondelok", "utorok", "streda", "štvrtok", "piatok", "sobota"], "dayNamesShort": ["ne", "po", "ut", "st", "št", "pi", "so"], "monthNames": ["január", "február", "marec", "apríl", "máj", "jún", "júl", "august", "september", "október", "november", "december", ""], "monthNamesShort": ["1", "2", "3", "4", "5", "6", "7", "8", "9", "10", "11", "12", ""], "timePattern": "H:mm", "datePattern": "d.M.yyyy", "dateTimePattern": "d.M.yyyy H:mm", "timeFormat": "Clock24Hours", "weekStarts": 1 })), DayPilot.Locale.register(new DayPilot.Locale("sv-se", { "dayNames": ["söndag", "måndag", "tisdag", "onsdag", "torsdag", "fredag", "lördag"], "dayNamesShort": ["sö", "må", "ti", "on", "to", "fr", "lö"], "monthNames": ["januari", "februari", "mars", "april", "maj", "juni", "juli", "augusti", "september", "oktober", "november", "december", ""], "monthNamesShort": ["jan", "feb", "mar", "apr", "maj", "jun", "jul", "aug", "sep", "okt", "nov", "dec", ""], "timePattern": "HH:mm", "datePattern": "yyyy-MM-dd", "dateTimePattern": "yyyy-MM-dd HH:mm", "timeFormat": "Clock24Hours", "weekStarts": 1 })), DayPilot.Locale.register(new DayPilot.Locale("tr-tr", { "dayNames": ["Pazar", "Pazartesi", "Salı", "Çarşamba", "Perşembe", "Cuma", "Cumartesi"], "dayNamesShort": ["Pz", "Pt", "Sa", "Ça", "Pe", "Cu", "Ct"], "monthNames": ["Ocak", "Şubat", "Mart", "Nisan", "Mayıs", "Haziran", "Temmuz", "Ağustos", "Eylül", "Ekim", "Kasım", "Aralık", ""], "monthNamesShort": ["Oca", "Şub", "Mar", "Nis", "May", "Haz", "Tem", "Ağu", "Eyl", "Eki", "Kas", "Ara", ""], "timePattern": "HH:mm", "datePattern": "d.M.yyyy", "dateTimePattern": "d.M.yyyy HH:mm", "timeFormat": "Clock24Hours", "weekStarts": 1 })), DayPilot.Locale.register(new DayPilot.Locale("uk-ua", { "dayNames": ["неділя", "понеділок", "вівторок", "середа", "четвер", "п'ятниця", "субота"], "dayNamesShort": ["Нд", "Пн", "Вт", "Ср", "Чт", "Пт", "Сб"], "monthNames": ["січень", "лютий", "березень", "квітень", "травень", "червень", "липень", "серпень", "вересень", "жовтень", "листопад", "грудень", ""], "monthNamesShort": ["Січ", "Лют", "Бер", "Кві", "Тра", "Чер", "Лип", "Сер", "Вер", "Жов", "Лис", "Гру", ""], "timePattern": "H:mm", "datePattern": "dd.MM.yyyy", "dateTimePattern": "dd.MM.yyyy H:mm", "timeFormat": "Clock24Hours", "weekStarts": 1 })), DayPilot.Locale.register(new DayPilot.Locale("zh-cn", { "dayNames": ["星期日", "星期一", "星期二", "星期三", "星期四", "星期五", "星期六"], "dayNamesShort": ["日", "一", "二", "三", "四", "五", "六"], "monthNames": ["一月", "二月", "三月", "四月", "五月", "六月", "七月", "八月", "九月", "十月", "十一月", "十二月", ""], "monthNamesShort": ["1月", "2月", "3月", "4月", "5月", "6月", "7月", "8月", "9月", "10月", "11月", "12月", ""], "timePattern": "H:mm", "datePattern": "yyyy/M/d", "dateTimePattern": "yyyy/M/d H:mm", "timeFormat": "Clock24Hours", "weekStarts": 1 })), DayPilot.Locale.US = DayPilot.Locale.find("en-us"), DayPilot.Switcher = function (e) { function t(e, t, i) { var a = {}; a.start = e, a.end = t, a.day = i, a.target = n.active.control, a.preventDefault = function () { this.preventDefault.value = !0; }; var r = n.t; r && r.start === a.start && r.end === a.end && r.day === a.day && r.target === a.target || (n.t = a, "function" == typeof n.onChange && (n.onChange(a), a.preventDefault.value) || "function" == typeof n.onTimeRangeSelect && (n.onTimeRangeSelect(a), a.preventDefault.value) || (n.active.sendNavigate(n.day), "function" == typeof n.onChanged && n.onChanged(a), "function" == typeof n.onTimeRangeSelected && n.onTimeRangeSelected(a))); } var n = this; this.views = [], this.triggers = [], this.navigator = {}, this.selectedClass = null, this.active = null, this.day = DayPilot.Date.today(), this.onChange = null, this.onChanged = null, this.navigator.updateMode = function (e) { var t = n.navigator.control; t && (t.selectMode = e, t.select(n.day)); }, this.addView = function (e, t) { var i; if ("string" == typeof e) {
            if (i = document.getElementById(e), !i)
                throw "Element not found: " + e;
        }
        else
            i = e; var a = i, r = {}; return r.isView = !0, r.id = a.id, r.control = a, r.options = t || {}, r.hide = function () { a.hide ? a.hide() : a.nav && a.nav.top ? a.nav.top.style.display = "none" : a.style.display = "none"; }, r.sendNavigate = function (e) { (function () { return !!a.backendUrl || !("function" != typeof WebForm_DoCallback || !a.uniqueID); })() ? a.commandCallBack && a.commandCallBack("navigate", { "day": e }) : (a.startDate = e, a.update()); }, r.show = function () { n.n(), a.show ? a.show() : a.nav && a.nav.top ? a.nav.top.style.display = "" : a.style.display = ""; }, r.selectMode = function () { if (r.options.navigatorSelectMode)
            return r.options.navigatorSelectMode; if (a.isCalendar)
            switch (a.viewType) {
                case "Day": return "day";
                case "Week": return "week";
                case "WorkWeek": return "week";
                default: return "day";
            }
        else if (a.isMonth)
            switch (a.viewType) {
                case "Month": return "month";
                case "Weeks": return "week";
                default: return "day";
            } return "day"; }, this.views.push(r), r; }, this.addTrigger = function (e, t) { var i; if ("string" == typeof e) {
            if (i = document.getElementById(e), !i)
                throw "Element not found: " + e;
        }
        else
            i = e; var a = this.p(t); a || (a = this.addView(t)); var r = {}; return r.isTrigger = !0, r.element = i, r.id = i.id, r.view = a, r.onClick = function (e) { n.show(r), n.q(r), e && (e.preventDefault ? e.preventDefault() : e.returnValue = !1); }, DayPilot.re(i, "click", r.onClick), this.triggers.push(r), r; }, this.addButton = this.addTrigger, this.select = function (e) { var t = this.s(e); t ? t.onClick() : this.triggers.length > 0 && this.triggers[0].onClick(); }, this.s = function (e) { for (var t = 0; t < this.triggers.length; t++) {
            var n = this.triggers[t];
            if (n.id === e)
                return n;
        } return null; }, this.q = function (e) { if (this.selectedClass) {
            for (var t = 0; t < this.triggers.length; t++) {
                var n = this.triggers[t];
                DayPilot.Util.removeClass(n.element, this.selectedClass);
            }
            DayPilot.Util.addClass(e.element, this.selectedClass);
        } }, this.addNavigator = function (e) { n.navigator.control = e, e.timeRangeSelectedHandling = "JavaScript", e.onTimeRangeSelected = function () { var i, a, r; if (1 === e.api)
            i = arguments[0], a = arguments[1], r = arguments[2];
        else {
            var o = arguments[0];
            i = o.start, a = o.end, r = o.day;
        } n.day = r, t(i, a, r); }; }, this.show = function (e) { var i, a; if (e.isTrigger)
            a = e, i = a.view;
        else if (i = e.isView ? e : this.p(e), this.active === i)
            return; if (n.onSelect) {
            var r = {};
            r.source = a ? a.element : null, r.target = i.control, n.onSelect(r);
        } this.active = i, i.show(); var o = i.selectMode(); n.navigator.updateMode(o), t(n.navigator.control.selectionStart, n.navigator.control.selectionEnd.addDays(1), n.navigator.control.selectionDay); }, this.p = function (e) { for (var t = 0; t < this.views.length; t++)
            if (this.views[t].control === e)
                return this.views[t]; return null; }, this.n = function () { for (var e = 0; e < this.views.length; e++)
            this.views[e].hide(); }, this.events = {}, this.events.load = function (e, t, i) { if (!n.active || !n.active.control)
            throw "DayPilot.Switcher.events.load(): Active view not found"; n.active.control.events.load(e, t, i); }, this.t = null, this.u = function () { if (e)
            for (var t in e)
                "triggers" === t ? DayPilot.list(e.triggers).forEach(function (e) { n.addTrigger(e.id, e.view); }) : "navigator" === t ? n.addNavigator(e.navigator) : n[t] = e[t]; }, this.u(); }, function () {
            if (!DayPilot.Global.defaultCss) {
                var e = DayPilot.sheet();
                e.add(".bubble_default_main", "cursor: default; font-family: -apple-system,system-ui,BlinkMacSystemFont,'Segoe UI',Roboto,'Helvetica Neue',Arial,sans-serif; font-size: 13px;"), e.add(".bubble_default_main_inner", 'border-radius: 5px; padding: 4px;color: #666;background: #eeeeee; background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");border: 1px solid #ccc;-moz-border-radius: 5px;-webkit-border-radius: 5px;border-radius: 5px;-moz-box-shadow:0px 2px 3px rgba(000,000,000,0.3),inset 0px 0px 2px rgba(255,255,255,0.8);-webkit-box-shadow:0px 2px 3px rgba(000,000,000,0.3),inset 0px 0px 2px rgba(255,255,255,0.8);box-shadow:0px 2px 3px rgba(000,000,000,0.3),inset 0px 0px 2px rgba(255,255,255,0.8);'), e.add(".calendar_default_main", "border: 1px solid #c0c0c0; font-family: -apple-system,system-ui,BlinkMacSystemFont,'Segoe UI',Roboto,'Helvetica Neue',Arial,sans-serif; font-size: 13px;"), e.add(".calendar_default_main *, .calendar_default_main *:before, .calendar_default_main *:after", "box-sizing: content-box;"), e.add(".calendar_default_rowheader_inner,.calendar_default_cornerright_inner,.calendar_default_corner_inner,.calendar_default_colheader_inner,.calendar_default_alldayheader_inner", "color: #333;background: #f3f3f3;"), e.add(".calendar_default_colheader_back", "background: #f3f3f3; border-bottom: 1px solid red;"), e.add(".calendar_default_colheader_back_inner", "position: absolute; inset: 0; border-bottom: 1px solid #c0c0c0;"), e.add(".calendar_default_cornerright_inner", "position: absolute;top: 0px;left: 0px;bottom: 0px;right: 0px; border-bottom: 1px solid #c0c0c0;"), e.add(".calendar_default_direction_rtl .calendar_default_cornerright_inner", "border-right: 1px solid #c0c0c0;"), e.add(".calendar_default_rowheader_inner", "font-size: 16pt;text-align: right; position: absolute;top: 0px;left: 0px;bottom: 0px;right: 0px;border-right: 1px solid #c0c0c0;border-bottom: 1px solid #c0c0c0; padding: 3px;"), e.add(".calendar_default_direction_rtl .calendar_default_rowheader_inner", "border-right: none;"), e.add(".calendar_default_corner_inner", "position: absolute;top: 0px;left: 0px;bottom: 0px;right: 0px;border-right: 1px solid #c0c0c0;border-bottom: 1px solid #c0c0c0;"), e.add(".calendar_default_direction_rtl .calendar_default_corner_inner", "border-right: none;"), e.add(".calendar_default_rowheader_minutes", "font-size:10px;vertical-align: super;padding-left: 2px;padding-right: 2px;"), e.add(".calendar_default_colheader_inner", "position: absolute;top: 0px;left: 0px;bottom: 0px;right: 0px;border-right: 1px solid #c0c0c0;border-bottom: 1px solid #c0c0c0; display: flex; align-items: center; justify-content: center;"), e.add(".calendar_default_cell_inner", "position: absolute;top: 0px;left: 0px;bottom: 0px;right: 0px;border-right: 1px solid #ddd;border-bottom: 1px solid #ddd; background: #f9f9f9;"), e.add(".calendar_default_cell_business .calendar_default_cell_inner", "background: #fff"), e.add(".calendar_default_alldayheader_inner", "text-align: center;position: absolute;top: 0px;left: 0px;bottom: 0px;right: 0px;border-right: 1px solid #c0c0c0;border-bottom: 1px solid #c0c0c0;"), e.add(".calendar_default_message", "opacity: 0.9; padding: 10px; color: #ffffff;background: #ffa216;"), e.add(".calendar_default_alldayevent_inner,.calendar_default_event_inner", "color: #333; border: 1px solid #999;"), e.add(".calendar_default_event_bar", "top: 0px;bottom: 0px;left: 0px;width: 6px;background-color: #9dc8e8;"), e.add(".calendar_default_event_bar_inner", "position: absolute;width: 6px;background-color: #1066a8;"), e.add(".calendar_default_alldayevent_inner,.calendar_default_event_inner", 'background: #fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");'), e.add(".calendar_default_selected .calendar_default_event_inner", "background: #ddd;"), e.add(".calendar_default_alldayevent_inner", "position: absolute;top: 2px;bottom: 2px;left: 2px;right: 2px;overflow:hidden;padding: 4px;margin-right: 1px; display: flex; align-items: center;"), e.add(".calendar_default_event_withheader .calendar_default_event_inner", "padding-top: 15px;"), e.add(".calendar_default_event", "cursor: default;"), e.add(".calendar_default_event_inner", "position: absolute;overflow: hidden;top: 0px;bottom: 0px;left: 0px;right: 0px;padding: 2px 2px 2px 8px;"), e.add(".calendar_default_shadow_inner", "position:absolute;top:0px;left:0px;right:0px;bottom:0px;background-color: #666666; opacity: 0.5;"), e.add(".calendar_default_event_delete", "background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALCAYAAACprHcmAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAI5JREFUKFNtkLERgCAMRbmzdK8s4gAUlhYOYEHJEJYOYOEwDmGBPxC4kOPfvePy84MGR0RJ2N1A8H3N6DATwSQ57m2ql8NBG+AEM7D+UW+wjdfUPgerYNgB5gOLRHqhcasg84C2QxPMtrUhSqQIhg7ypy9VM2EUZPI/4rQ7rGxqo9sadTegw+UdjeDLAKUfhbaQUVPIfJYAAAAASUVORK5CYII=) center center no-repeat; opacity: 0.6; cursor: pointer;"), e.add(".calendar_default_event_delete:hover", "opacity: 1;-ms-filter: none;"), e.add(".calendar_default_scroll_up", "background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAB3RJTUUH2wESDiYcrhwCiQAAAAlwSFlzAAAuIwAALiMBeKU/dgAAAARnQU1BAACxjwv8YQUAAACcSURBVHjaY2AgF9wWsTW6yGMlhi7OhC7AyMDQzMnBXIpFHAFuCtuaMTP+P8nA8P/b1x//FfW/HHuF1UQmxv+NUP1c3OxMVVhNvCVi683E8H8LXOY/w9+fTH81tF8fv4NiIpBRj+YoZtZ/LDUoJmKYhsVUpv0MDiyMDP96sIYV0FS2/8z9ICaLlOhvS4b/jC//MzC8xBG0vJeF7GQBlK0xdiUzCtsAAAAASUVORK5CYII=);"), e.add(".calendar_default_scroll_down", "background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAALiMAAC4jAXilP3YAAACqSURBVChTY7wpam3L9J+xmQEP+PGPKZZxP4MDi4zI78uMDIwa2NT+Z2DYovrmiC+TI8OBP/8ZmEqwGvif4e8vxr+FIDkmEKH25vBWBgbG0+iK/zEwLtF+ffwOXCGI8Y+BoRFFIdC030x/WmBiYBNhpgLdswNJ8RSYaSgmgk39z1gPUfj/29ef/9rwhQTDHRHbrbdEbLvRFcGthkkAra/9/uMvhkK8piNLAgCRpTnNn4AEmAAAAABJRU5ErkJggg==);"), e.add(".calendar_default_now", "background-color: red;"), e.add(".calendar_default_now:before", "content: ''; top: -5px; border-width: 5px; border-color: transparent transparent transparent red; border-style: solid; width: 0px; height:0px; position: absolute; -moz-transform: scale(.9999);"), e.add(".calendar_default_shadow_forbidden .calendar_default_shadow_inner", "background-color: #cc4125;"), e.add(".calendar_default_shadow_top", 'box-sizing: border-box; padding:2px;border:1px solid #ccc;background:#fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");'), e.add(".calendar_default_shadow_bottom", 'box-sizing: border-box; padding:2px;border:1px solid #ccc;background:#fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");'), e.add(".calendar_default_crosshair_vertical, .calendar_default_crosshair_horizontal, .calendar_default_crosshair_left, .calendar_default_crosshair_top", "background-color: gray; opacity: 0.2;"), e.add(".calendar_default_loading", "background-color: orange; color: white; padding: 2px;"), e.add(".calendar_default_scroll", "background-color: #f3f3f3;"), e.add(".calendar_default_event_moving_source", "opacity: 0.5;"), e.add(".calendar_default_colmove_handle", "background-repeat: no-repeat; background-position: center center; background-color: #ccc; background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAKCAYAAACT+/8OAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAClJREFUGFdj+P//P4O9vX2Bg4NDP4gNFgBytgPxebgAMsYuQGMz/jMAAFsTZDPYJlDHAAAAAElFTkSuQmCC); cursor: move;"), e.add(".calendar_default_colheader:hover .calendar_default_colheader_splitter", "background-color: #c0c0c0;"), e.add(".calendar_default_colmove_source", "background-color: black; opacity: 0.5;"), e.add(".calendar_default_colmove_position_before", "box-sizing: border-box; border-left: 2px solid #999999;"), e.add(".calendar_default_colmove_position_before:before", "content: ''; border-width: 6px; border-color: transparent #999999 transparent transparent; border-style: solid; width: 0px; height:0px; position: absolute;"), e.add(".calendar_default_colmove_position_after", "box-sizing: border-box; border-right: 2px solid #999999;"), e.add(".calendar_default_colmove_position_after:before", "content: ''; border-width: 6px; border-color: transparent transparent transparent #999999; border-style: solid; width: 0px; height:0px; position: absolute;"), e.add(".calendar_default_colmove_position_child", "box-sizing: border-box; border-bottom: 2px solid #999999;"), e.add(".calendar_default_colmove_position_child:before", "content: ''; border-width: 6px; border-color: #999999 transparent transparent transparent; border-style: solid; width: 0px; height:0px; position: absolute;"), e.add(".calendar_default_colmove_position_forbidden", "border-top: 2px solid red;"), e.add(".calendar_default_colheader .calendar_default_colheader_splitter:hover", "background-color: #999999;"), e.add(".menu_default_main", "user-select:none; font-family: -apple-system,system-ui,BlinkMacSystemFont,'Segoe UI',Roboto,'Helvetica Neue',Arial,sans-serif;font-size: 13px;border: 1px solid #dddddd;background-color: white;padding: 0px;cursor: default;background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAABCAIAAABG0om7AAAAKXRFWHRDcmVhdGlvbiBUaW1lAHBvIDEwIDUgMjAxMCAyMjozMzo1OSArMDEwMGzy7+IAAAAHdElNRQfaBQoUJAesj4VUAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAABGdBTUEAALGPC/xhBQAAABVJREFUeNpj/P//PwO1weMnT2RlZAAYuwX/4oA3BgAAAABJRU5ErkJggg==);background-repeat: repeat-y;xborder-radius: 5px;-moz-box-shadow:0px 2px 3px rgba(000,000,000,0.3),inset 0px 0px 2px rgba(255,255,255,0.8);-webkit-box-shadow:0px 2px 3px rgba(000,000,000,0.3),inset 0px 0px 2px rgba(255,255,255,0.8);box-shadow:0px 2px 3px rgba(000,000,000,0.3),inset 0px 0px 2px rgba(255,255,255,0.8);"), e.add(".menu_default_main, .menu_default_main *, .menu_default_main *:before, .menu_default_main *:after", "box-sizing: content-box;"), e.add(".menu_default_title", "background-color: #f2f2f2;border-bottom: 1px solid gray;padding: 4px 4px 4px 37px;"), e.add(".menu_default_main a", "padding: 2px 2px 2px 35px;color: black;text-decoration: none;cursor: default;"), e.add(".menu_default_main.menu_default_withchildren a", "padding: 2px 35px 2px 35px;"), e.add(".menu_default_main a img", "margin-left: 6px;margin-top: 2px;"), e.add(".menu_default_item_text", "display: block;height: 20px;line-height: 20px; overflow:hidden;padding-left: 2px;padding-right: 20px; white-space: nowrap;"), e.add(".menu_default_main a:hover", "background-color: #f3f3f3;"), e.add(".menu_default_main div div", "border-top: 1px solid #dddddd;margin-top: 2px;margin-bottom: 2px;margin-left: 28px;"), e.add(".menu_default_main a.menu_default_item_disabled", "color: #ccc"), e.add(".menu_default_item_haschildren.menu_default_item_haschildren_active", "background-color: #f3f3f3;"), e.add(".menu_default_item_haschildren a:before", "content: ''; border-width: 5px; border-color: transparent transparent transparent #666; border-style: solid; width: 0px; height:0px; position: absolute; right: 5px; margin-top: 5px;"), e.add(".menu_default_item_icon", "position: absolute; top:0px; left: 0px; padding: 2px 2px 2px 8px;"), e.add(".menu_default_item a i", "height: 20px;line-height: 20px;"), e.add(".menu_default_item .menu_default_item_symbol", "width: 18px; height: 18px; color: #999; margin-left: 6px;margin-top: 2px;"), e.add(".menubar_default_main", "border-bottom: 1px solid #ccc; font-family: -apple-system,system-ui,BlinkMacSystemFont,'Segoe UI',Roboto,'Helvetica Neue',Arial,sans-serif; font-size: 13px; user-select:none;"), e.add(".menubar_default_item", "display: inline-block;  padding: 6px 10px; cursor: default;"), e.add(".menubar_default_item:hover", "background-color: #f2f2f2;"), e.add(".menubar_default_item_active", "background-color: #f2f2f2;"), e.add(".month_default_main", "border: 1px solid #c0c0c0;font-family: -apple-system,system-ui,BlinkMacSystemFont,'Segoe UI',Roboto,'Helvetica Neue',Arial,sans-serif; font-size: 13px;color: #333;"), e.add(".month_default_main *, .month_default_main *:before, .month_default_main *:after", "box-sizing: content-box;"), e.add(".month_default_cell_inner", "border-right: 1px solid #ddd;border-bottom: 1px solid #ddd;position: absolute;top: 0px;left: 0px;bottom: 0px;right: 0px;background-color: #f9f9f9;"), e.add(".month_default_cell_business .month_default_cell_inner", "background-color: #fff;"), e.add(".month_default_cell_header", "text-align: right; padding: 4px; box-sizing: border-box;"), e.add(".month_default_header_inner", "position: absolute;top: 0px;left: 0px;bottom: 0px;right: 0px;border-right: 1px solid #c0c0c0;border-bottom: 1px solid #c0c0c0;cursor: default;color: #333;background: #f3f3f3; overflow:hidden; display: flex; align-items: center; justify-content: center;"), e.add(".month_default_message", "padding: 10px;opacity: 0.9; color: #ffffff;background: #ffa216;"), e.add(".month_default_event_inner", "position: absolute;top: 0px;bottom: 0px;left: 1px;right: 1px;overflow:hidden;padding: 2px;padding-left: 10px;color: #333;background: #fff;background: linear-gradient(to bottom, #ffffff 0%, #eeeeee);border: 1px solid #999;border-radius: 0px;display: flex; align-items: center;"), e.add(".month_default_event_continueright .month_default_event_inner", "border-top-right-radius: 0px;border-bottom-right-radius: 0px;border-right-style: dotted;"), e.add(".month_default_event_continueleft .month_default_event_inner", "border-top-left-radius: 0px;border-bottom-left-radius: 0px;border-left-style: dotted;"), e.add(".month_default_event_bar", "top: 0px;bottom: 0px;left: 0px;width: 6px;"), e.add(".month_default_event_bar_inner", "position: absolute;width: 6px;background-color: #1066a8;"), e.add(".month_default_event_continueleft .month_default_event_bar", "display: none;"), e.add(".month_default_selected .month_default_event_inner", "background: #ddd;"), e.add(".month_default_shadow_inner", "background-color: #666666;opacity: 0.5;height: 100%;"), e.add(".month_default_event_delete", "background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALCAYAAACprHcmAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAI5JREFUKFNtkLERgCAMRbmzdK8s4gAUlhYOYEHJEJYOYOEwDmGBPxC4kOPfvePy84MGR0RJ2N1A8H3N6DATwSQ57m2ql8NBG+AEM7D+UW+wjdfUPgerYNgB5gOLRHqhcasg84C2QxPMtrUhSqQIhg7ypy9VM2EUZPI/4rQ7rGxqo9sadTegw+UdjeDLAKUfhbaQUVPIfJYAAAAASUVORK5CYII=) center center no-repeat; opacity: 0.6; cursor: pointer;"),
                    e.add(".month_default_event_delete:hover", "opacity: 1;-ms-filter: none;"), e.add(".month_default_event_timeleft", "color: #ccc; font-size: 11px; display: flex; align-items: center;"), e.add(".month_default_event_timeright", "color: #ccc; font-size: 11px; display: flex; align-items: center; justify-content: end;"), e.add(".month_default_loading", "background-color: orange; color: white; padding: 2px;"), e.add(".month_default_shadow_forbidden .month_default_shadow_inner", "background-color: #cc4125;"), e.add(".navigator_default_main", "border-left: 1px solid #c0c0c0;border-right: 1px solid #c0c0c0;border-bottom: 1px solid #c0c0c0;background-color: white;color: #000000; box-sizing: content-box;"), e.add(".navigator_default_main *, .navigator_default_main *:before, .navigator_default_main *:after", "box-sizing: content-box;"), e.add(".navigator_default_month", "font-family: -apple-system,system-ui,BlinkMacSystemFont,'Segoe UI',Roboto,'Helvetica Neue',Arial,sans-serif; font-size: 12px;"), e.add(".navigator_default_day", "color: black;"), e.add(".navigator_default_weekend", "background-color: #f0f0f0;"), e.add(".navigator_default_dayheader", "color: black;"), e.add(".navigator_default_line", "border-bottom: 1px solid #c0c0c0;"), e.add(".navigator_default_dayother", "color: gray;"), e.add(".navigator_default_todaybox", "border: 1px solid red;"), e.add(".navigator_default_title, .navigator_default_titleleft, .navigator_default_titleright", "border-top: 1px solid #c0c0c0;border-bottom: 1px solid #c0c0c0;color: #333;background: #f3f3f3;"), e.add(".navigator_default_busy", "font-weight: bold;"), e.add(".navigator_default_cell", "text-align: center;"), e.add(".navigator_default_select .navigator_default_cell_box", "background-color: #FFE794; opacity: 0.5;"), e.add(".navigator_default_title", "text-align: center;"), e.add(".navigator_default_titleleft, .navigator_default_titleright", "text-align: center;"), e.add(".navigator_default_dayheader", "text-align: center;"), e.add(".navigator_default_weeknumber", "text-align: center; color: #999;"), e.add(".navigator_default_cell_text", "cursor: pointer;"), e.add(".scheduler_default_main *, .scheduler_default_main *:before, .scheduler_default_main *:after", "box-sizing: content-box;"), e.add(".scheduler_default_main", "box-sizing: content-box; border: 1px solid #c0c0c0;font-family: -apple-system,system-ui,BlinkMacSystemFont,'Segoe UI',Roboto,'Helvetica Neue',Arial,sans-serif; font-size: 13px;"), e.add(".scheduler_default_selected .scheduler_default_event_inner", "background: #ddd;"), e.add(".scheduler_default_timeheader_scroll", "background: #f3f3f3;"), e.add(".scheduler_default_message", "opacity: 0.9; padding: 10px; color: #ffffff; background: #ffa216;"), e.add(".scheduler_default_timeheadergroup,.scheduler_default_timeheadercol", "color: #333;background: #f3f3f3;"), e.add(".scheduler_default_rowheader,.scheduler_default_corner", "color: #333;background: #f3f3f3;"), e.add(".scheduler_default_rowheader.scheduler_default_rowheader_selected", "background-color: #aaa; background-image: linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent); background-size: 20px 20px;"), e.add(".scheduler_default_rowheader_inner", "position: absolute;left: 0px;right: 0px;top: 0px;bottom: 0px;border-right: 1px solid #e0e0e0;padding: 7px;display: flex; align-items: center;"), e.add(".scheduler_default_timeheadergroup_inner", "position: absolute;left: 0px;right: 0px;top: 0px;bottom: 0px;border-right: 1px solid #c0c0c0;border-bottom: 1px solid #c0c0c0;display: flex; align-items: center; justify-content: center;"), e.add(".scheduler_default_timeheadercol_inner", "position: absolute;left: 0px;right: 0px;top: 0px;bottom: 0px;border-right: 1px solid #c0c0c0;display: flex; align-items: center; justify-content: center;"), e.add(".scheduler_default_timeheader_float", "display: flex; align-items: center; justify-content: center;"), e.add(".scheduler_default_divider, .scheduler_default_splitter", "background-color: #c0c0c0;"), e.add(".scheduler_default_divider_horizontal", "background-color: #c0c0c0;"), e.add(".scheduler_default_matrix_vertical_line", "background-color: #eee;"), e.add(".scheduler_default_matrix_vertical_break", "background-color: #999;"), e.add(".scheduler_default_matrix_horizontal_line", "background-color: #eee;"), e.add(".scheduler_default_resourcedivider", "background-color: #c0c0c0;"), e.add(".scheduler_default_shadow_inner", "background-color: #666666;opacity: 0.5;height: 100%;"), e.add(".scheduler_default_event", "font-size:13px;color:#333;"), e.add(".scheduler_default_event_inner", "position:absolute;top:0px;left:0px;right:0px;bottom:0px;padding:2px 2px 2px 2px;overflow:hidden;border:1px solid #ccc; display: flex; align-items: center;"), e.add(".scheduler_default_event_bar", "top:0px;left:0px;right:0px;height:4px;background-color:#9dc8e8;"), e.add(".scheduler_default_event_bar_inner", "position:absolute;height:4px;background-color:#1066a8;"), e.add(".scheduler_default_event_inner", 'background:#fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");'), e.add(".scheduler_default_event_float", "display: flex; align-items: center;"), e.add(".scheduler_default_event_float_inner", "padding:2px 2px 2px 8px; position: relative;"), e.add(".scheduler_default_event_float_inner:after", 'content:"";border-color: transparent #666 transparent transparent;border-style:solid;border-width:5px;width:0;height:0;position:absolute;top:5px;left:-4px;'), e.add(".scheduler_default_event_focus", "outline: red 2px solid; z-index: 100; opacity: 0.5;"), e.add(".scheduler_default_columnheader_inner", "font-weight: bold;"), e.add(".scheduler_default_columnheader_splitter", "box-sizing: border-box; border-right: 1px solid #c0c0c0;"), e.add(".scheduler_default_columnheader_splitter:hover", "background-color: #c0c0c0;"), e.add(".scheduler_default_columnheader_cell_inner", "position: absolute; left: 0px; right: 0px; top: 0px; bottom: 0px; padding: 2px; display: flex; align-items: center;"), e.add(".scheduler_default_cell", "background-color: #f9f9f9;"), e.add(".scheduler_default_cell.scheduler_default_cell_business", "background-color: #fff;"), e.add(".scheduler_default_cell.scheduler_default_cell_business.scheduler_default_cell_selected,.scheduler_default_cell.scheduler_default_cell_selected", "background-color: #ccc; background-image: linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent); background-size: 20px 20px;"), e.add(".scheduler_default_tree_image_no_children", ""), e.add(".scheduler_default_tree_image_expand", "background-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnPjxwYXRoIGQ9J00gMS41IDAuNSBMIDYuNSA1IEwgMS41IDkuNScgc3R5bGU9J2ZpbGw6bm9uZTtzdHJva2U6Izk5OTk5OTtzdHJva2Utd2lkdGg6MjtzdHJva2UtbGluZWpvaW46cm91bmQ7c3Ryb2tlLWxpbmVjYXA6YnV0dCcgLz48L3N2Zz4=);"), e.add(".scheduler_default_tree_image_collapse", "background-image: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0nMTAnIGhlaWdodD0nMTAnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zyc+PHBhdGggZD0nTSAwLjUgMS41IEwgNSA2LjUgTCA5LjUgMS41JyBzdHlsZT0nZmlsbDpub25lO3N0cm9rZTojOTk5OTk5O3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbGluZWNhcDpidXR0JyAvPjwvc3ZnPg==);"), e.add(".scheduler_default_event_delete", "background: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0nMTInIGhlaWdodD0nMTInIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zyc+PHBhdGggZD0nTSAwLjUgMC41IEwgMTEuNSAxMS41IE0gMC41IDExLjUgTCAxMS41IDAuNScgc3R5bGU9J2ZpbGw6bm9uZTtzdHJva2U6IzQ2NDY0NjtzdHJva2Utd2lkdGg6MztzdHJva2UtbGluZWpvaW46cm91bmQ7c3Ryb2tlLWxpbmVjYXA6YnV0dCcgLz48L3N2Zz4=) no-repeat center center; opacity: 0.6; cursor: pointer;"), e.add(".scheduler_default_event_delete:hover", "opacity: 1;"), e.add(".scheduler_default_rowmove_handle", "background-repeat: no-repeat; background-position: center center; background-color: #ccc; background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAKCAYAAACT+/8OAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAClJREFUGFdj+P//P4O9vX2Bg4NDP4gNFgBytgPxebgAMsYuQGMz/jMAAFsTZDPYJlDHAAAAAElFTkSuQmCC); cursor: move;"), e.add(".scheduler_default_rowmove_source", "background-color: black; opacity: 0.2;"), e.add(".scheduler_default_rowmove_position_before, .scheduler_default_rowmove_position_after", "background-color: #999; height: 2px;"), e.add(".scheduler_default_rowmove_position_child", "margin-left: 10px; background-color: #999; height: 2px;"), e.add(".scheduler_default_rowmove_position_child:before", "content: '+'; color: #999; position: absolute; top: -8px; left: -10px;"), e.add(".scheduler_default_rowmove_position_forbidden", "background-color: red; height: 2px; margin-left: 10px;"), e.add(".scheduler_default_rowmove_position_forbidden:before", "content: 'x'; color: red; position: absolute; top: -8px; left: -10px;"), e.add(".scheduler_default_link_horizontal", "border-bottom-style: solid; border-bottom-color: #cc0000"), e.add(".scheduler_default_link_vertical", "border-right-style: solid; border-right-color: #cc0000"), e.add(".scheduler_default_link_arrow_right:before", "content: ''; border-width: 6px; border-color: transparent transparent transparent #cc0000; border-style: solid; width: 0px; height:0px; position: absolute;"), e.add(".scheduler_default_link_arrow_left:before", "content: ''; border-width: 6px; border-color: transparent #cc0000 transparent transparent; border-style: solid; width: 0px; height:0px; position: absolute;"), e.add(".scheduler_default_link_arrow_down:before", "content: ''; border-width: 6px; border-color: #cc0000 transparent transparent transparent; border-style: solid; width: 0px; height:0px; position: absolute;"), e.add(".scheduler_default_link_arrow_up:before", "content: ''; border-width: 6px; border-color: transparent transparent #cc0000 transparent; border-style: solid; width: 0px; height:0px; position: absolute;"), e.add(".scheduler_default_shadow_overlap .scheduler_default_shadow_inner", "background-color: #cc4125;"), e.add(".scheduler_default_block", "background-color: #808080; opacity: 0.5;"), e.add(".scheduler_default_main .scheduler_default_event_group", "box-sizing: border-box; font-size:13px; color:#666; padding:2px; overflow:hidden; border:1px solid #ccc; background-color: #fff; display: flex; align-items: center; white-space: nowrap;"), e.add(".scheduler_default_main .scheduler_default_header_icon", "box-sizing: border-box; border: 1px solid #c0c0c0; background-color: #f5f5f5; color: #000;"), e.add(".scheduler_default_header_icon:hover", "background-color: #ccc;"), e.add(".scheduler_default_header_icon_hide:before", "content: '\\00AB';"), e.add(".scheduler_default_header_icon_show:before", "content: '\\00BB';"), e.add(".scheduler_default_row_new .scheduler_default_rowheader_inner", "padding-left: 10px; color: #666; cursor: text; background-position: 0px 50%; background-repeat: no-repeat; background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAABUSURBVChTY0ACslAaK2CC0iCQDMSlECYmQFYIAl1AjFUxukIQwKoYm0IQwFCMSyEIaEJpMMClcD4Qp0CYEIBNIUzRPzAPCtAVYlWEDgyAGIdTGBgAbqEJYyjqa3oAAAAASUVORK5CYII=);"), e.add(".scheduler_default_row_new .scheduler_default_rowheader_inner:hover", "background: white; color: white;"), e.add(".scheduler_default_rowheader textarea", "padding: 3px;"), e.add(".scheduler_default_rowheader_scroll", "cursor: default; background: #f3f3f3;"), e.add(".scheduler_default_shadow_forbidden .scheduler_default_shadow_inner", "background-color: #cc4125;"), e.add(".scheduler_default_shadow_invalid .scheduler_default_shadow_inner", "background-color: #cc4125;"), e.add(".scheduler_default_event_moving_source", "opacity: 0.5;"), e.add(".scheduler_default_linkpoint", "background-color: white; border: 1px solid gray; border-radius: 5px;"), e.add(".scheduler_default_linkpoint.scheduler_default_linkpoint_hover", "background-color: black;"), e.add(".scheduler_default_event.scheduler_default_event_version .scheduler_default_event_inner", "overflow:hidden; background-color: #cfdde8;background-image: -webkit-gradient(linear, 0 100%, 100% 0,\tcolor-stop(.25, rgba(255, 255, 255, .2)), color-stop(.25, transparent),\tcolor-stop(.5, transparent), color-stop(.5, rgba(255, 255, 255, .2)), color-stop(.75, rgba(255, 255, 255, .2)), color-stop(.75, transparent), to(transparent));background-image: -webkit-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -moz-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -ms-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -o-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);-webkit-background-size: 20px 20px;-moz-background-size: 20px 20px;background-size: 20px 20px;"), e.add(".scheduler_default_crosshair_vertical, .scheduler_default_crosshair_horizontal, .scheduler_default_crosshair_left, .scheduler_default_crosshair_top", "background-color: gray; opacity: 0.2;"), e.add(".scheduler_default_link_dot", "border-radius: 10px; background-color: #cc0000"), e.add(".scheduler_default_task_milestone .scheduler_default_event_inner", "position:absolute;top:16%;left:16%;right:16%;bottom:16%; background: #38761d; border: 0px none; -webkit-transform: rotate(45deg);-moz-transform: rotate(45deg);-ms-transform: rotate(45deg);-o-transform: rotate(45deg); transform: rotate(45deg); filter: none;"), e.add(".scheduler_default_event_left", "white-space: nowrap; color: #666; cursor: default; display: flex; align-items: center;"), e.add(".scheduler_default_event_right", "white-space: nowrap; color: #666; cursor: default; display: flex; align-items: center;"), e.add(".scheduler_default_main:focus", "outline: none;"), e.add(".scheduler_default_cell_focus", "outline: red 2px solid; outline-offset: -2px; z-index: 100; opacity: 0.5;"), e.add(".scheduler_default_cell_focus.scheduler_default_cell_focus_top", "border-top: 4px solid red;"), e.add(".scheduler_default_cell_focus.scheduler_default_cell_focus_bottom", "border-bottom: 4px solid red;"), e.add(".scheduler_default_selectionrectangle", "background-color: #0000ff; border: 1px solid #000033; opacity: 0.4;"), e.add(".scheduler_default_link_shadow", "border:1px solid black;"), e.add(".scheduler_default_link_shadow_circle", "background-color:black;"), e.add(".scheduler_default_event_move_left", "box-sizing: border-box; padding: 2px; border: 1px solid #ccc; background: #fff; background: linear-gradient(to bottom, #ffffff 0%, #eeeeee); display: flex; align-items: center;"), e.add(".scheduler_default_event_move_right", "box-sizing: border-box; padding: 2px; border: 1px solid #ccc; background: #fff; background: linear-gradient(to bottom, #ffffff 0%, #eeeeee); display: flex; align-items: center;"), e.add(".scheduler_default_link_hover", "box-shadow: 0px 0px 2px 2px rgba(255, 0, 0, 0.3)"), e.add(".scheduler_default_sorticon", "opacity: 0.2;background-position: center center; background-repeat: no-repeat; cursor: pointer;"), e.add(".scheduler_default_sorticon.scheduler_default_sorticon_asc", "background-image: url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAiIGhlaWdodD0iMTAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBvbHlnb24gcG9pbnRzPSI1IDEuNSwgMTAgMTAsIDAgMTAiLz48L3N2Zz4=');"), e.add(".scheduler_default_sorticon.scheduler_default_sorticon_desc", "background-image: url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAiIGhlaWdodD0iMTAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBvbHlnb24gcG9pbnRzPSI1IDguNSwgMCAwLCAxMCAwIi8+PC9zdmc+');"), e.add(".scheduler_default_sorticon.scheduler_default_sorticon_active", "opacity: 1;");
                e.add(".scheduler_default_loading", "background-color: orange; color: white; padding: 2px;");
                e.add(".gantt_default_selected .gantt_default_event_inner", "background: #ddd;"), e.add(".gantt_default_main", "border: 1px solid #c0c0c0;font-family: -apple-system,system-ui,BlinkMacSystemFont,'Segoe UI',Roboto,'Helvetica Neue',Arial,sans-serif; font-size: 13px;"), e.add(".gantt_default_main *, .gantt_default_main *:before, .gantt_default_main *:after", "box-sizing: content-box;"), e.add(".gantt_default_timeheader", "cursor: default;color: #666;"), e.add(".gantt_default_message", "opacity: 0.9;padding: 10px; color: #ffffff;background: #ffa216;"), e.add(".gantt_default_timeheadergroup,.gantt_default_timeheadercol", "color: #333;background: #f3f3f3;"), e.add(".gantt_default_rowheader,.gantt_default_corner", "color: #333;background: #f3f3f3;"), e.add(".gantt_default_rowheader.gantt_default_rowheader_selected", "background-color: #aaa;background-image: -webkit-gradient(linear, 0 100%, 100% 0,color-stop(.25, rgba(255, 255, 255, .2)), color-stop(.25, transparent),\tcolor-stop(.5, transparent), color-stop(.5, rgba(255, 255, 255, .2)), color-stop(.75, rgba(255, 255, 255, .2)), color-stop(.75, transparent), to(transparent));background-image: -webkit-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -moz-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -ms-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -o-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);-webkit-background-size: 20px 20px;-moz-background-size: 20px 20px;background-size: 20px 20px;"), e.add(".gantt_default_rowheader_inner", "position: absolute;left: 0px;right: 0px;top: 0px;bottom: 0px;border-right: 1px solid #e0e0e0;padding: 7px;display: flex; align-items: center;"), e.add(".gantt_default_timeheadergroup_inner", "position: absolute;left: 0px;right: 0px;top: 0px;bottom: 0px;border-right: 1px solid #c0c0c0;border-bottom: 1px solid #c0c0c0;display: flex; align-items: center; justify-content: center;"), e.add(".gantt_default_timeheadercol_inner", "position: absolute;left: 0px;right: 0px;top: 0px;bottom: 0px;border-right: 1px solid #c0c0c0;display: flex; align-items: center; justify-content: center;"), e.add(".gantt_default_timeheader_float", "display: flex; align-items: center; justify-content: center;"), e.add(".gantt_default_divider, .gantt_default_splitter", "background-color: #c0c0c0;"), e.add(".gantt_default_divider_horizontal", "background-color: #c0c0c0;"), e.add(".gantt_default_matrix_vertical_line", "background-color: #eee;"), e.add(".gantt_default_matrix_vertical_break", "background-color: #000;"), e.add(".gantt_default_matrix_horizontal_line", "background-color: #eee;"), e.add(".gantt_default_resourcedivider", "background-color: #c0c0c0;"), e.add(".gantt_default_shadow_inner", "background-color: #666666;opacity: 0.5;height: 100%;"), e.add(".gantt_default_event", "color:#666;"), e.add(".gantt_default_event_inner", "position:absolute;top:0px;left:0px;right:0px;bottom:0px;padding:2px 2px 2px 2px;overflow:hidden;border:1px solid #ccc; display: flex; align-items: center;"), e.add(".gantt_default_event_bar", "top:0px;left:0px;right:0px;height:4px;background-color:#9dc8e8;"), e.add(".gantt_default_event_bar_inner", "position:absolute;height:4px;background-color:#1066a8;"), e.add(".gantt_default_event_inner", 'background:#fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");'), e.add(".gantt_default_event_float_inner", "padding:6px 2px 2px 8px;"), e.add(".gantt_default_event_float_inner:after", 'content:"";border-color: transparent #666 transparent transparent;border-style:solid;border-width:5px;width:0;height:0;position:absolute;top:8px;left:-4px;'), e.add(".gantt_default_columnheader_inner", "font-weight: bold;"), e.add(".gantt_default_columnheader_splitter", "background-color: #666;opacity: 0.5;"), e.add(".gantt_default_columnheader_cell_inner", "position: absolute; left: 0px; right: 0px; top: 0px; bottom: 0px; padding: 2px; display: flex; align-items: center;"), e.add(".gantt_default_cell", "background-color: #f9f9f9;"), e.add(".gantt_default_cell.gantt_default_cell_business", "background-color: #fff;"), e.add(".gantt_default_cell.gantt_default_cell_business.gantt_default_cell_selected,.gantt_default_cell.gantt_default_cell_selected", "background-color: #ccc;background-image: -webkit-gradient(linear, 0 100%, 100% 0,\tcolor-stop(.25, rgba(255, 255, 255, .2)), color-stop(.25, transparent),\tcolor-stop(.5, transparent), color-stop(.5, rgba(255, 255, 255, .2)), color-stop(.75, rgba(255, 255, 255, .2)), color-stop(.75, transparent), to(transparent));background-image: -webkit-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -moz-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -ms-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -o-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);-webkit-background-size: 20px 20px;-moz-background-size: 20px 20px;background-size: 20px 20px;"), e.add(".gantt_default_tree_image_no_children", ""), e.add(".gantt_default_tree_image_expand", "background-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnPjxwYXRoIGQ9J00gMS41IDAuNSBMIDYuNSA1IEwgMS41IDkuNScgc3R5bGU9J2ZpbGw6bm9uZTtzdHJva2U6Izk5OTk5OTtzdHJva2Utd2lkdGg6MjtzdHJva2UtbGluZWpvaW46cm91bmQ7c3Ryb2tlLWxpbmVjYXA6YnV0dCcgLz48L3N2Zz4=);"), e.add(".gantt_default_tree_image_collapse", "background-image: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0nMTAnIGhlaWdodD0nMTAnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zyc+PHBhdGggZD0nTSAwLjUgMS41IEwgNSA2LjUgTCA5LjUgMS41JyBzdHlsZT0nZmlsbDpub25lO3N0cm9rZTojOTk5OTk5O3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbGluZWNhcDpidXR0JyAvPjwvc3ZnPg==);"), e.add(".gantt_default_event_move_left", 'box-sizing: border-box; padding:2px;border:1px solid #ccc;background:#fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");'), e.add(".gantt_default_event_move_right", 'box-sizing: border-box; padding:2px;border:1px solid #ccc;background:#fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");'), e.add(".gantt_default_event_delete", "background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALCAYAAACprHcmAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAI5JREFUKFNtkLERgCAMRbmzdK8s4gAUlhYOYEHJEJYOYOEwDmGBPxC4kOPfvePy84MGR0RJ2N1A8H3N6DATwSQ57m2ql8NBG+AEM7D+UW+wjdfUPgerYNgB5gOLRHqhcasg84C2QxPMtrUhSqQIhg7ypy9VM2EUZPI/4rQ7rGxqo9sadTegw+UdjeDLAKUfhbaQUVPIfJYAAAAASUVORK5CYII=) center center no-repeat; opacity: 0.6; cursor: pointer;"), e.add(".gantt_default_event_delete:hover", "opacity: 1;-ms-filter: none;"), e.add(".gantt_default_rowmove_handle", "background-repeat: no-repeat; background-position: center center; background-color: #ccc; background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAKCAYAAACT+/8OAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAClJREFUGFdj+P//P4O9vX2Bg4NDP4gNFgBytgPxebgAMsYuQGMz/jMAAFsTZDPYJlDHAAAAAElFTkSuQmCC); cursor: move;"), e.add(".gantt_default_rowmove_source", "background-color: black; opacity: 0.2;"), e.add(".gantt_default_rowmove_position_before, .gantt_default_rowmove_position_after", "background-color: #999; height: 2px;"), e.add(".gantt_default_rowmove_position_child", "margin-left: 10px; background-color: #999; height: 2px;"), e.add(".gantt_default_rowmove_position_child:before", "content: '+'; color: #999; position: absolute; top: -8px; left: -10px;"), e.add(".gantt_default_rowmove_position_forbidden", "background-color: red; height: 2px; margin-left: 10px;"), e.add(".gantt_default_rowmove_position_forbidden:before", "content: 'x'; color: red; position: absolute; top: -8px; left: -10px;"), e.add(".gantt_default_task_group .gantt_default_event_inner", "position:absolute;top:5px;left:0px;right:0px;bottom:6px;overflow:hidden; background: #0b5394; filter: none; border: 0px none;"), e.add(".gantt_default_task_group.gantt_default_event:before", "content:''; border-color: transparent transparent transparent #0b5394; border-style: solid; border-width: 6px; position: absolute; bottom: 0px;"), e.add(".gantt_default_task_group.gantt_default_event:after", "content:''; border-color: transparent #0b5394 transparent transparent; border-style: solid; border-width: 6px; position: absolute; bottom: 0px; right: 0px;"), e.add(".gantt_default_task_milestone .gantt_default_event_inner", "position:absolute;top:16%;left:16%;right:16%;bottom:16%; background: #38761d; border: 0px none; -webkit-transform: rotate(45deg);-moz-transform: rotate(45deg);-ms-transform: rotate(45deg);-o-transform: rotate(45deg); transform: rotate(45deg); filter: none;"), e.add(".gantt_default_browser_ie8 .gantt_default_task_milestone .gantt_default_event_inner", "-ms-filter: \"progid:DXImageTransform.Microsoft.Matrix(SizingMethod='auto expand', M11=0.7071067811865476, M12=-0.7071067811865475, M21=0.7071067811865475, M22=0.7071067811865476);\""), e.add(".gantt_default_event_left", "white-space: nowrap; color: #666; cursor: default;  display: flex; align-items: center;"), e.add(".gantt_default_event_right", "white-space: nowrap; color: #666; cursor: default;  display: flex; align-items: center;"), e.add(".gantt_default_link_horizontal", "border-bottom-style: solid; border-bottom-color: #cc0000;"), e.add(".gantt_default_link_vertical", "border-right-style: solid; border-right-color: #cc0000;"), e.add(".gantt_default_link_arrow_right:before", "content: ''; border-width: 6px; border-color: transparent transparent transparent #cc0000; border-style: solid; width: 0px; height:0px; position: absolute;"), e.add(".gantt_default_link_arrow_left:before", "content: ''; border-width: 6px; border-color: transparent #cc0000 transparent transparent; border-style: solid; width: 0px; height:0px; position: absolute;"), e.add(".gantt_default_link_arrow_down:before", "content: ''; border-width: 6px; border-color: #cc0000 transparent transparent transparent; border-style: solid; width: 0px; height:0px; position: absolute;"), e.add(".gantt_default_link_arrow_up:before", "content: ''; border-width: 6px; border-color: transparent transparent #cc0000 transparent; border-style: solid; width: 0px; height:0px; position: absolute;"), e.add(".gantt_default_shadow_overlap .gantt_default_shadow_inner", "background-color: #cc4125;"), e.add(".gantt_default_block", "background-color: gray; opacity: 0.5;"), e.add(".gantt_default_link_hover", "box-shadow: 0px 0px 2px 2px rgba(255, 0, 0, 0.3)"), e.add(".gantt_default_main .gantt_default_header_icon", "box-sizing: border-box; border: 1px solid #aaa; background-color: #f5f5f5; color: #000;"), e.add(".gantt_default_header_icon:hover", "background-color: #ccc;"), e.add(".gantt_default_header_icon_hide:before", "content: '\\00AB';"), e.add(".gantt_default_header_icon_show:before", "content: '\\00BB';"), e.add(".gantt_default_row_new .gantt_default_rowheader_inner", "cursor: text; background-position: 0 50%; background-repeat: no-repeat; background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAABUSURBVChTY0ACslAaK2CC0iCQDMSlECYmQFYIAl1AjFUxukIQwKoYm0IQwFCMSyEIaEJpMMClcD4Qp0CYEIBNIUzRPzAPCtAVYlWEDgyAGIdTGBgAbqEJYyjqa3oAAAAASUVORK5CYII=);"), e.add(".gantt_default_row_new .gantt_default_rowheader_inner:hover", "background: white;"), e.add(".gantt_default_rowheader textarea", "padding: 5px;"), e.add(".gantt_default_rowheader_scroll", "cursor: default; background: #f3f3f3;"), e.add(".gantt_default_shadow_forbidden .gantt_default_shadow_inner", "background-color: #cc4125;"), e.add(".gantt_default_event_moving_source", "opacity: 0.5;"), e.add(".gantt_default_event.gantt_default_event_version .gantt_default_event_inner", "background-color: #cfdde8;background-image: -webkit-gradient(linear, 0 100%, 100% 0,\tcolor-stop(.25, rgba(255, 255, 255, .2)), color-stop(.25, transparent),\tcolor-stop(.5, transparent), color-stop(.5, rgba(255, 255, 255, .2)), color-stop(.75, rgba(255, 255, 255, .2)), color-stop(.75, transparent), to(transparent));background-image: -webkit-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -moz-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -ms-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -o-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);-webkit-background-size: 20px 20px;-moz-background-size: 20px 20px;background-size: 20px 20px;"),
                    e.add(".gantt_default_task_group.gantt_default_event_continueleft.gantt_default_event:before", "border:0;"), e.add(".gantt_default_task_group.gantt_default_event_continueleft.gantt_default_event .gantt_default_event_inner:before", 'content:"";border-color: transparent #fff transparent transparent;border-style:solid;border-width:5px;width:0;height:0;position:absolute;top:2px;left:-4px;'), e.add(".gantt_default_event_continueleft.gantt_default_event .gantt_default_event_inner", "padding-left: 8px;"), e.add(".gantt_default_event_continueleft.gantt_default_event .gantt_default_event_inner:before", 'content:"";border-color: transparent #000 transparent transparent;border-style:solid;border-width:5px;width:0;height:0;position:absolute;top:7px;left:-4px;'), e.add(".gantt_default_task_group.gantt_default_event_continueright.gantt_default_event:after", "border:0;"), e.add(".gantt_default_task_group.gantt_default_event_continueright.gantt_default_event .gantt_default_event_inner:after", 'content:"";border-color: transparent transparent transparent #fff;border-style:solid;border-width:5px;width:0;height:0;position:absolute;top:2px;right:-2px;'), e.add(".gantt_default_event_continueright.gantt_default_event .gantt_default_event_inner", "padding-right: 8px;"), e.add(".gantt_default_event_continueright.gantt_default_event .gantt_default_event_inner:after", 'content:"";border-color: transparent transparent transparent #000;border-style:solid;border-width:5px;width:0;height:0;position:absolute;top:7px;right:-2px;'), e.add(".gantt_default_linkpoint", "background-color: white; border: 1px solid gray; border-radius: 5px;"), e.add(".gantt_default_linkpoint.gantt_default_linkpoint_hover", "background-color: black;"), e.add(".gantt_default_crosshair_vertical, .gantt_default_crosshair_horizontal, .gantt_default_crosshair_left, .gantt_default_crosshair_top", "background-color: gray; opacity: 0.2; "), e.add(".gantt_default_selectionrectangle", "background-color: #0000ff; border: 1px solid #000033; opacity: 0.4;"), e.add(".gantt_default_link_shadow", "border:1px solid black;"), e.add(".gantt_default_link_shadow_circle", "background-color:black;"), e.add(".gantt_default_link_hover", "box-shadow: 0px 0px 2px 2px rgba(255, 0, 0, 0.3)"), e.add(".kanban_default_main *, .kanban_default_main *:before, .kanban_default_main *:after", "box-sizing: content-box;"), e.add(".kanban_default_main", "box-sizing: content-box; border: 1px solid #c0c0c0;font-family: -apple-system,system-ui,BlinkMacSystemFont,'Segoe UI',Roboto,'Helvetica Neue',Arial,sans-serif; font-size: 13px;"), e.add(".kanban_default_selected .kanban_default_event_inner", "background: #ddd;"), e.add(".kanban_default_timeheader", "cursor: default;color: #333;"), e.add(".kanban_default_message", "opacity: 0.9;padding: 10px; color: #ffffff;background: #ffa216;"), e.add(".kanban_default_colheadercell", "color: #333;background: #f3f3f3;"), e.add(".kanban_default_rowheader,.kanban_default_corner", "color: #333;background: #f3f3f3;"), e.add(".kanban_default_rowheader.kanban_default_rowheader_selected", "background-color: #aaa;background-image: -webkit-gradient(linear, 0 100%, 100% 0,color-stop(.25, rgba(255, 255, 255, .2)), color-stop(.25, transparent),\tcolor-stop(.5, transparent), color-stop(.5, rgba(255, 255, 255, .2)), color-stop(.75, rgba(255, 255, 255, .2)), color-stop(.75, transparent), to(transparent));background-image: -webkit-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -moz-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -ms-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -o-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);-webkit-background-size: 20px 20px;-moz-background-size: 20px 20px;background-size: 20px 20px;"), e.add(".kanban_default_rowheader_inner", "position: absolute;left: 0px;right: 0px;top: 0px;bottom: 0px;border-right: 1px solid #f3f3f3;padding: 2px;"), e.add(".kanban_default_colheadercell", "text-align: center;"), e.add(".kanban_default_colheadercell_inner", "position: absolute;left: 0px;right: 0px;top: 0px;bottom: 0px;border-right: 1px solid #c0c0c0;"), e.add(".kanban_default_divider, .kanban_default_splitter", "background-color: #c0c0c0;"), e.add(".kanban_default_divider_horizontal", "background-color: #c0c0c0;"), e.add(".kanban_default_matrix_vertical_line", "background-color: #eee;"), e.add(".kanban_default_matrix_vertical_break", "background-color: #000;"), e.add(".kanban_default_matrix_horizontal_line", "background-color: #eee;"), e.add(".kanban_default_rowheaderdivider", "background-color: #c0c0c0;"), e.add(".kanban_default_shadow_inner", "background-color: #666666;opacity: 0.5;height: 100%;"), e.add(".kanban_default_card", "color:#333;"), e.add(".kanban_default_card_inner", "position:absolute;top:0px;left:0px;right:0px;bottom:0px;padding:5px 2px 2px 2px;overflow:hidden;border:1px solid #ccc;"), e.add(".kanban_default_card_inner", 'background:#fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");'), e.add(".kanban_default_cell", "background-color: #fff;"), e.add(".kanban_default_cell.kanban_default_cell_selected", "background-color: #ccc;background-image: -webkit-gradient(linear, 0 100%, 100% 0,\tcolor-stop(.25, rgba(255, 255, 255, .2)), color-stop(.25, transparent),\tcolor-stop(.5, transparent), color-stop(.5, rgba(255, 255, 255, .2)), color-stop(.75, rgba(255, 255, 255, .2)), color-stop(.75, transparent), to(transparent));background-image: -webkit-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -moz-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -ms-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -o-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);-webkit-background-size: 20px 20px;-moz-background-size: 20px 20px;background-size: 20px 20px;"), e.add(".kanban_default_tree_image_no_children", "background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAIAAABv85FHAAAAKXRFWHRDcmVhdGlvbiBUaW1lAHDhIDMwIEkgMjAwOSAwODo0NjozMSArMDEwMClDkt4AAAAHdElNRQfZAR4HLzEyzsCJAAAACXBIWXMAAA7CAAAOwgEVKEqAAAAABGdBTUEAALGPC/xhBQAAADBJREFUeNpjrK6s5uTl/P75OybJ0NLW8h8bAIozgeSxAaA4E1A7VjmgOL31MeLxHwCeXUT0WkFMKAAAAABJRU5ErkJggg==);"), e.add(".kanban_default_tree_image_expand", "background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAIAAABv85FHAAAAKXRFWHRDcmVhdGlvbiBUaW1lAHDhIDMwIEkgMjAwOSAwODo0NjozMSArMDEwMClDkt4AAAAHdElNRQfZAR4HLyUoFBT0AAAACXBIWXMAAA7CAAAOwgEVKEqAAAAABGdBTUEAALGPC/xhBQAAAFJJREFUeNpjrK6s5uTl/P75OybJ0NLW8h8bAIozgeRhgJGREc4GijMBtTNgA0BxFog+uA4IA2gmUJwFog/IgUhAGBB9KPYhA3T74Jog+hjx+A8A1KRQ+AN5vcwAAAAASUVORK5CYII=);"), e.add(".kanban_default_tree_image_collapse", "background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAIAAABv85FHAAAAKXRFWHRDcmVhdGlvbiBUaW1lAHDhIDMwIEkgMjAwOSAwODo0NjozMSArMDEwMClDkt4AAAAHdElNRQfZAR4HLxB+p9DXAAAACXBIWXMAAA7CAAAOwgEVKEqAAAAABGdBTUEAALGPC/xhBQAAAENJREFUeNpjrK6s5uTl/P75OybJ0NLW8h8bAIozgeSxAaA4E1A7VjmgOAtEHyMjI7IE0EygOAtEH5CDqY9c+xjx+A8ANndK9WaZlP4AAAAASUVORK5CYII=);"), e.add(".kanban_default_card_delete", "background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALCAYAAACprHcmAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAI5JREFUKFNtkLERgCAMRbmzdK8s4gAUlhYOYEHJEJYOYOEwDmGBPxC4kOPfvePy84MGR0RJ2N1A8H3N6DATwSQ57m2ql8NBG+AEM7D+UW+wjdfUPgerYNgB5gOLRHqhcasg84C2QxPMtrUhSqQIhg7ypy9VM2EUZPI/4rQ7rGxqo9sadTegw+UdjeDLAKUfhbaQUVPIfJYAAAAASUVORK5CYII=) center center no-repeat; opacity: 0.6; cursor: pointer;"), e.add(".kanban_default_card_delete:hover", "opacity: 1;-ms-filter: none;"), e.add(".kanban_default_rowmove_source", "background-color: black; opacity: 0.2;"), e.add(".kanban_default_rowmove_position_before, .kanban_default_rowmove_position_after", "background-color: #999; height: 2px;"), e.add(".kanban_default_rowmove_position_forbidden", "background-color: red; height: 2px; margin-left: 10px;"), e.add(".kanban_default_rowmove_position_forbidden:before", "content: 'x'; color: red; position: absolute; top: -8px; left: -10px;"), e.add(".kanban_default_block", "background-color: gray; opacity: 0.5;"), e.add(".kanban_default_main .kanban_default_header_icon", "box-sizing: border-box; border: 1px solid #aaa; background-color: #f5f5f5; color: #000;"), e.add(".kanban_default_header_icon:hover", "background-color: #ccc;"), e.add(".kanban_default_header_icon_hide:before", "content: '\\00AB';"), e.add(".kanban_default_header_icon_show:before", "content: '\\00BB';"), e.add(".kanban_default_row_new .kanban_default_rowheader_inner", "cursor: text; background-position: 0px 50%; background-repeat: no-repeat; background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAABUSURBVChTY0ACslAaK2CC0iCQDMSlECYmQFYIAl1AjFUxukIQwKoYm0IQwFCMSyEIaEJpMMClcD4Qp0CYEIBNIUzRPzAPCtAVYlWEDgyAGIdTGBgAbqEJYyjqa3oAAAAASUVORK5CYII=);"), e.add(".kanban_default_row_new .kanban_default_rowheader_inner:hover", "background: white;"), e.add(".kanban_default_rowheader textarea", "padding: 3px;"), e.add(".kanban_default_rowheader_scroll", "cursor: default;"), e.add(".kanban_default_card_moving_source", "opacity: 0.5;"), e.add(".kanban_default_card .kanban_default_card_inner", "padding: 5px 5px 5px 10px;"), e.add(".kanban_default_cell", "background-color: #fff;"), e.add(".kanban_default_rowmove_handle", "opacity: 0.5; background-repeat: no-repeat; background-position: center center; background-color: #ccc; background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAKCAYAAACT+/8OAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAClJREFUGFdj+P//P4O9vX2Bg4NDP4gNFgBytgPxebgAMsYuQGMz/jMAAFsTZDPYJlDHAAAAAElFTkSuQmCC); cursor: move;"), e.add(".kanban_default_card_header", "font-size: 120%; font-weight: bold;"), e.add(".kanban_default_card_bar", "background-color: #cc0000; cursor:move;"), e.add(".kanban_default_cell.kanban_default_collapsed", "background-color: #eee;"), e.add(".kanban_default_swimlane_collapse", "cursor:pointer; border: 1px solid #ccc; text-align:center;"), e.add(".kanban_default_swimlane_collapse:before", "content: '^';"), e.add(".kanban_default_swimlane_expand", "cursor:pointer; border: 1px solid #ccc; text-align:center;"), e.add(".kanban_default_swimlane_expand:before", "content: '>';"), e.add(".kanban_default_columnmove_handle", "opacity: 0.5; background-repeat: no-repeat; background-position: center center; background-color: #ccc; background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAKCAYAAACT+/8OAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAClJREFUGFdj+P//P4O9vX2Bg4NDP4gNFgBytgPxebgAMsYuQGMz/jMAAFsTZDPYJlDHAAAAAElFTkSuQmCC); cursor: move;"), e.add(".kanban_default_columnmove_position", "background-color: #333;"), e.add(".kanban_default_crosshair_vertical, .kanban_default_crosshair_horizontal, .kanban_default_crosshair_left, .kanban_default_crosshair_top", "background-color: gray; opacity: 0.2;"), e.add(".queue_default_main", "min-width: 100px; border: 1px solid #ccc; padding: 5px; min-height: 200px; overflow-y: auto; font-family: -apple-system,system-ui,BlinkMacSystemFont,'Segoe UI',Roboto,'Helvetica Neue',Arial,sans-serif; font-size: 13px;"), e.add(".queue_default_event_bar", "left: 0px; top: 0px; bottom: 0px; width: 5px; background-color: #1066a8;"), e.add(".queue_default_event_inner", "position:absolute;top:0px;left:0px;right:0px;bottom:0px;padding:2px 2px 2px 10px;overflow:hidden;border:1px solid #ccc; display: flex; align-items: center;"), e.add(".queue_default_event_inner", "background:#fff; background: linear-gradient(to bottom, #ffffff 0%, #eeeeee);"), e.add(".queue_default_selected .queue_default_event_inner", "background: #ddd;"), e.add(".queue_default_shadow", "background-color: #ccc;"), e.commit(), DayPilot.Global.defaultCss = !0;
            }
        }();
        var o = function (e) { function t() { var t = new URL(e, location.href); return t.origin + t.pathname !== location.origin + location.pathname; } var n = this; this.k = function () { return t() ? fetch(e).then(function (e) { return e.text(); }).then(function (e) { var t = document.createElement("div"); return t.innerHTML = e, new Promise(function (e, i) { e(t.querySelector(n.z())); }); }) : new Promise(function (e, t) { e(document.querySelector(n.z())); }); }, this.z = function () { return new URL(e, location.href).hash; }; }, s = function (e) { var t = this; this.id = e, this.widths = [], this.titles = [], this.data = [], this.height = null, this.splitterWidth = 3, this.splitterWidthLast = null, this.css = {}, this.css.title = null, this.css.titleInner = null, this.css.splitter = null, this.enabled = !0, this.blocks = [], this.drag = {}, this.updated = function () { }, this.updating = function () { }, this.started = function () { }; var n = {}; n.splitterWidth = function (e) { var n = e && "number" == typeof t.splitterWidthLast ? t.splitterWidthLast : t.splitterWidth; return t.enabled ? n : 1; }, this.init = function () { var i; if (!e)
            throw "error: id not provided"; if ("string" == typeof e)
            i = document.getElementById(e);
        else {
            if (!e.appendChild)
                throw "error: invalid object provided";
            i = e;
        } this.div = i, this.blocks = []; for (var a = 0; a < this.widths.length; a++) {
            var r = a === this.widths.length - 1, o = n.splitterWidth(r), s = document.createElement("div");
            s.style.display = "inline-block", null !== t.height ? s.style.height = t.height + "px" : s.style.height = "100%", s.style.width = this.widths[a] - o + "px", s.style.overflow = "hidden", s.style.position = "relative", s.setAttribute("unselectable", "on"), s.className = this.css.title, i.appendChild(s);
            var l = this.titles[a], d = null, c = [], u = null;
            "object" == typeof l && (d = l.html, c = l.areas, u = l.cssClass), u && DayPilot.Util.addClass(s, u);
            var h = document.createElement("div");
            h.innerHTML = d, h.setAttribute("unselectable", "on"), h.className = this.css.titleInner, s.appendChild(h), DayPilot.Areas.attach(s, t.data[a], { "areas": c });
            var f = document.createElement("div");
            f.style.display = "inline-block", null !== t.height ? f.style.height = t.height + "px" : f.style.height = "100%", f.style.width = o + "px", f.style.position = "relative", f.appendChild(document.createElement("div")), t.enabled && (f.style.cursor = "col-resize"), f.setAttribute("unselectable", "on"), f.className = this.css.splitter;
            var v = {};
            v.index = a, v.width = this.widths[a], f.data = v, f.onmousedown = function (e) { if (e.preventDefault(), t.enabled) {
                var n = DayPilot.page(e);
                n && (t.drag.start = n, t.drag.data = this.data, t.div.style.cursor = "col-resize", t.started());
            } }, i.appendChild(f);
            var p = {};
            p.section = s, p.handle = f, this.blocks.push(p);
        } this.registerGlobalHandlers(); }, this.updateWidths = function () { for (var e = 0; e < this.blocks.length; e++) {
            var t = this.blocks[e], n = this.widths[e];
            t.handle.data.width = n, this.A(e);
        } }, this.A = function (e) { var t = this.blocks[e], i = this.widths[e], a = e === this.widths.length - 1; t.section.style.width = i - n.splitterWidth(a) + "px"; }, this.totalWidth = function () { for (var e = 0, t = 0; t < this.widths.length; t++)
            e += this.widths[t]; return e; }, this.gMouseMove = function (e) { if (t.drag.start) {
            var n = t.drag.data, i = DayPilot.page(e);
            if (i) {
                var a = i.x - t.drag.start.x, r = n.index;
                t.widths[r] = Math.max(5, n.width + a), t.A(r);
                var o = {};
                o.widths = this.widths, o.index = n.index, t.updating(o);
            }
        } }, this.gMouseUp = function (e) { if (t.drag.start) {
            t.drag.start = null, document.body.style.cursor = "", t.div.style.cursor = "";
            var n = t.drag.data;
            n.width = t.widths[n.index];
            var i = {};
            i.widths = this.widths, i.index = n.index, t.updated(i);
        } }, this.dispose = function () { DayPilot.list(this.blocks).forEach(function (e) { e.handle.onmousedown = null, DayPilot.de(e.section), DayPilot.de(e.handle); }), this.unregisterGlobalHandlers(); }, this.registerGlobalHandlers = function () { DayPilot.re(document, "mousemove", this.gMouseMove), DayPilot.re(document, "mouseup", this.gMouseUp); }, this.unregisterGlobalHandlers = function () { DayPilot.ue(document, "mousemove", this.gMouseMove), DayPilot.ue(document, "mouseup", this.gMouseUp); }; };
        DayPilot.Splitter = s;
    }
}(DayPilot), function () { "undefined" != typeof Sys && Sys.Application && Sys.Application.notifyScriptLoaded && Sys.Application.notifyScriptLoaded(); }(), "undefined" == typeof DayPilot)
    var DayPilot = {};
if ("undefined" == typeof DayPilot.Global && (DayPilot.Global = {}), function (DayPilot) { if ("undefined" == typeof DayPilot.Bubble || !DayPilot.Bubble.def) {
    var e = {};
    e.mouseMove = function (t) { if ("undefined" != typeof e) {
        e.mouse = e.mousePosition(t);
        var n = e.active;
        if (n && n.B.showPosition) {
            var i = n.B.showPosition, a = e.mouse;
            i.clientX !== a.clientX || i.clientY !== a.clientY;
        }
    } }, e.touchPosition = function (e) { if (!e || !e.touches)
        return null; var t = e.touches[0], n = {}; return n.x = t.pageX, n.y = t.pageY, n.clientX = t.clientX, n.clientY = t.clientY, n; }, e.mousePosition = function (e) { var t = DayPilot.mo3(null, e); return e && (t.clientY = e.clientY, t.clientX = e.clientX), t; }, DayPilot.Bubble = function (t) { this.v = "2022.4.5457"; var n = this, i = {}; if (this.hideAfter = 500, this.loadingText = "Loading...", this.animated = !0, this.animation = "fast", this.position = "Above", this.hideOnClick = !0, this.hideOnHover = !1, this.showAfter = 500, this.showLoadingLabel = !0, this.zIndex = 10, this.theme = "bubble_default", this.onLoad = null, this.onBeforeDomAdd = null, this.onBeforeDomRemove = null, this.B = function () { }, this.callBack = function (e) { this.aspnet() ? WebForm_DoCallback(this.uniqueID, JSON.stringify(e), this.updateView, this, this.callbackError, !0) : e.calendar.internal.bubbleCallBack ? e.calendar.internal.bubbleCallBack(e, this) : e.calendar.bubbleCallBack(e, this); }, this.callbackError = function (e, t) { alert(e); }, this.updateView = function (t, a) { if (n !== a)
        throw "Callback object mismatch (internal error)"; if (!t)
        return void n.C(); var r = null, o = null, s = null; if ("string" == typeof t ? o = t : "object" == typeof t && (r = t, o = t.html, s = t.element), e.active = n, n) {
        var l = !1, d = !1;
        if (i.div) {
            if (s) {
                i.div.firstChild.innerHTML = "";
                if (DayPilot.Util.isReactComponent(s)) {
                    if (!(n.D.calendar && n.D.calendar.internal.reactRefs().reactDOM))
                        throw new DayPilot.Exception("Can't reach ReactDOM");
                    n.F.E(s, i.div.firstChild), d = n.F.G();
                }
                else
                    i.div.firstChild.appendChild(s);
                l = !0;
            }
            else
                o && (i.div.firstChild.innerHTML = o, l = !0);
            i.div.domArgs = r;
        }
        l && (d ? setTimeout(function () { n.H(); }) : n.H());
    } }, this.init = function () { }, this.aspnet = function () { return "undefined" != typeof WebForm_DoCallback; }, this.showEvent = function (t, n) { var i = new e.CallBackArgs(t.calendar || t.root, "Event", t, t.bubbleHtml ? t.bubbleHtml() : null); n ? this.show(i) : this.showOnMouseOver(i); }, this.showGroup = function (e) { this.showOnMouseOver(e); }, this.showCell = function (t, n) { e.cancelShowing(); var i = new e.CallBackArgs(t.calendar || t.root, "Cell", t, t.staticBubbleHTML ? t.staticBubbleHTML() : null); i.div = n, this.showOnMouseOver(i); }, this.showLink = function (t) { e.cancelShowing(); var n = new e.CallBackArgs(t.calendar || t.root, "Cell", t, t.data && t.data.bubbleHtml); this.showOnMouseOver(n); }, this.showTime = function (t) { var n = new e.CallBackArgs(t.calendar || t.root, "Time", t, t.staticBubbleHTML ? t.staticBubbleHTML() : null); this.showOnMouseOver(n); }, this.showResource = function (t, n) { var i = {}; i.calendar = t.calendar, i.id = t.id, i.name = t.name, i.start = t.start, t.bubbleHtml ? i.bubbleHtml = function () { return t.bubbleHtml; } : t.data && t.data.bubbleHtml && (i.bubbleHtml = function () { return t.data.bubbleHtml; }), i.toJSON = function () { var e = {}; return e.id = this.id, e; }; var a = new e.CallBackArgs(i.calendar || i.root, "Resource", i, i.bubbleHtml ? i.bubbleHtml() : null); a.div = t.div, n ? this.show(a) : this.showOnMouseOver(a); }, this.showHtml = function (t, n) { var i = new e.CallBackArgs(null, "Html", null, t); i.div = n, this.show(i); }, this.hide = function () { e.active === this && DayPilot.Bubble.hide(); }, this.toJSON = function () { return null; }, this.show = function (t) { if (n.I(t)) {
        var a = this.animated;
        if (this.B.showPosition = e.mouse, e.showing = null, !e.mouse)
            return void setTimeout(function () { n.show(t); }, 100);
        var r = e.mouse;
        r.h = 0, r.w = 0;
        var o = this.getDiv(t);
        if ("Above" === n.J() && o) {
            var s = 2, l = DayPilot.abs(o, !0);
            if (!l)
                return;
            r.x = l.x, r.y = l.y, r.h = l.h + s, r.w = l.w;
        }
        this.B.mouse = r;
        var d;
        try {
            d = JSON.stringify(t.object);
        }
        catch (e) {
            return;
        }
        if (!(e.active === this && this.B.sourceId === d || "undefined" != typeof DayPilot.Menu && DayPilot.Menu.active)) {
            e.hideActive(), e.active = this, this.B.sourceId = d;
            var c = document.createElement("div");
            c.setAttribute("unselectable", "on"), c.style.position = "absolute", this.showLoadingLabel || (c.style.display = "none"), c.className = this.K("_main"), c.style.top = "-3000px", c.style.left = "-3000px", c.style.zIndex = this.zIndex + 1, a && (c.style.visibility = "hidden"), this.hideOnClick && (c.onclick = function () { e.hideActive(); }), c.onmousemove = function (t) { n.hideOnHover && e.hideActive(), e.cancelShowing(), e.cancelHiding(); var t = t || window.event; t.cancelBubble = !0; }, c.oncontextmenu = function () { return !1; }, c.onmouseleave = function () { n.delayedHide(); };
            var u = document.createElement("div");
            c.appendChild(u), u.className = this.K("_main_inner"), u.innerHTML = this.loadingText, document.body.appendChild(c), i.div = c, n.D = function () { }, n.D.calendar = t.calendar;
            var h = {};
            h.source = t.object, h.async = !1, h.html = t.staticHTML, h.loaded = function () { this.async && n.L(h); }, this.showLoadingLabel && !a && this.H(), t.staticHTML && "function" != typeof this.onLoad ? n.L(h) : "function" == typeof this.onLoad ? (this.onLoad(h), h.async || n.L(h)) : "function" == typeof n.onDomAdd || "function" == typeof n.onBeforeDomAdd ? n.L(h) : this.M(t) && this.callBack(t);
        }
    } }, this.I = function (e) { return !!e.staticHTML || ("function" == typeof this.onLoad || ("function" == typeof n.onDomAdd || "function" == typeof n.onBeforeDomAdd || !!this.M(e))); }, this.L = function (e) { var t = {}; t.source = e.source, t.html = e.html, t.element = null, "function" == typeof n.onDomAdd && n.onDomAdd(t), "function" == typeof n.onBeforeDomAdd && n.onBeforeDomAdd(t), n.updateView(t, n); }, this.getDiv = function (e) { return e.div ? e.div : "Event" === e.type && e.calendar && e.calendar.internal.findEventDiv ? e.calendar.internal.findEventDiv(e.object) : void 0; }, this.K = function (e) { var t = this.theme || this.cssClassPrefix; return t ? t + e : ""; }, this.J = function () { var e = n.position; if (!e)
        return "Above"; if ("eventtop" === e.toLowerCase())
        return "Above"; if ("above" === e.toLowerCase())
        return "Above"; if ("mouse" === e.toLowerCase())
        return "Mouse"; throw new DayPilot.Exception("Unrecognized DayPilot.Bubble.position value: " + e); }, this.H = function () { var t = this.animated, a = n.J(), r = 10; if (i.div && this.B.mouse) {
        if (!this.B.mouse.x || !this.B.mouse.y)
            return void e.hideActive();
        var o = i.div;
        o.style.display = "";
        var s = o.offsetHeight, l = o.offsetWidth;
        o.style.display = "none";
        var d = DayPilot.wd(), c = d.width, u = d.height, h = "bottom", f = "left";
        if ("Mouse" === a) {
            var v = 0;
            if (this.B.mouse.clientY > u - s + r) {
                this.B.mouse.clientY - (u - s) + r;
                v = this.B.mouse.y - s - 10;
            }
            else
                v = this.B.mouse.y + 22;
            if ("number" == typeof v && (o.style.top = Math.max(v, 0) + "px"), this.B.mouse.clientX > c - l + r) {
                var p = this.B.mouse.clientX - (c - l) + r;
                o.style.left = this.B.mouse.x - p + "px";
            }
            else
                o.style.left = this.B.mouse.x + "px";
        }
        else if ("Above" === a) {
            var m = 2, v = this.B.mouse.y - s - m, g = d.scrollTop;
            v < g && (v = this.B.mouse.y + this.B.mouse.h + m, h = "top"), "number" == typeof v && (o.style.top = Math.max(v, 0) + "px");
            var b = this.B.mouse.x;
            this.B.mouse.x + l + r > c && (b = c - l - r, f = "right"), o.style.left = b + "px";
        }
        if (o.style.display = "", t) {
            o.style.display = "";
            var y = {};
            y.color = o.firstChild.style.color, y.overflow = o.style.overflow, o.firstChild.style.color = "transparent", o.style.overflow = "hidden", DayPilot.pop(o, { "finished": function () { o.firstChild.style.color = y.color, o.style.overflow = y.overflow; }, "vertical": h, "horizontal": f, "animation": n.animation });
        }
    } }, this.delayedHide = function () { e.showing === this && e.cancelShowing(); var t = e.active; if (t === this && (e.cancelHiding(), t.hideAfter > 0)) {
        var n = t.hideAfter;
        e.timeoutHide = window.setTimeout(e.hideActive, n);
    } }, this.showOnMouseOver = function (t) { e.active === this && e.cancelHiding(); var i = function (e) { return function () { n.show(e); }; }; clearTimeout(e.timeoutShow), e.timeoutShow = window.setTimeout(i(t), this.showAfter), e.showing = this; }, this.hideOnMouseOut = function () { this.delayedHide(); }, this.M = function (e) { return !!e.calendar.backendUrl || !("function" != typeof WebForm_DoCallback || !this.uniqueID); }, this.C = function () { if (i.div) {
        var e = i.div.domArgs;
        if (i.div.domArgs = null, e && ("function" == typeof n.onDomRemove && n.onDomRemove(e), "function" == typeof n.onBeforeDomRemove && n.onBeforeDomRemove(e), "function" == typeof n.onDomAdd || "function" == typeof n.onBeforeDomAdd)) {
            var t = i.div.firstChild;
            if (t) {
                if (DayPilot.Util.isReactComponent(e.element)) {
                    if (!(n.D.calendar && n.D.calendar.internal.reactRefs().reactDOM))
                        throw new DayPilot.Exception("Can't reach ReactDOM");
                    n.F.N(t);
                }
            }
        }
        document.body.removeChild(i.div), i.div = null;
    } }, this.F = {}, this.F.E = function (e, t) { var i = n.D.calendar && n.D.calendar.internal.reactRefs().reactDOM; if ("function" == typeof i.createRoot) {
        var a = t.O;
        a || (a = i.createRoot(t), t.O = a), a.render(e);
    }
    else
        i.render(e, t); }, this.F.G = function () { var e = n.D.calendar && n.D.calendar.internal.reactRefs().reactDOM; return e && "function" == typeof e.createRoot; }, this.F.N = function (e) { var t = n.D.calendar && n.D.calendar.internal.reactRefs().reactDOM; if ("function" == typeof t.createRoot) {
        var i = e.O;
        setTimeout(function () { i.unmount(); }, 0);
    }
    else
        t.unmountComponentAtNode(e); }, t)
        for (var a in t)
            this[a] = t[a]; this.init(); }, DayPilot.Bubble.touchPosition = function (t) { t.touches && (e.mouse = e.touchPosition(t)); }, e.cancelShowing = function () { e.showing = null, e.timeoutShow && (window.clearTimeout(e.timeoutShow), e.timeoutShow = null); }, e.cancelHiding = function () { e.timeoutHide && window.clearTimeout(e.timeoutHide); }, e.hideActive = function () { e.cancelHiding(); var t = e.active; t && t.C(), e.active = null; }, e.CallBackArgs = function (e, t, n, i) { this.calendar = e, this.type = t, this.object = n, this.staticHTML = i, this.toJSON = function () { var e = {}; return e.uid = this.calendar.uniqueID, e.type = this.type, e.object = n, e; }; }, DayPilot.re(document, "mousemove", e.mouseMove), DayPilot.Bubble.hideActive = e.hideActive, DayPilot.Bubble.cancelShowing = e.cancelShowing, DayPilot.Bubble.hide = function (t) { if (t = t || {}, t.calendar) {
        var n = e.active;
        n && n.D.calendar === t.calendar && DayPilot.Bubble.hide();
    }
    else
        e.hideActive(); }, DayPilot.Bubble.getActive = function () { return e.active; }, DayPilot.Bubble.def = {}, "undefined" != typeof Sys && Sys.Application && Sys.Application.notifyScriptLoaded && Sys.Application.notifyScriptLoaded();
} }(DayPilot), "undefined" == typeof DayPilot)
    var DayPilot = {};
if ("undefined" == typeof DayPilot.Global && (DayPilot.Global = {}), function (DayPilot) {
    if ("undefined" == typeof DayPilot.Calendar || !DayPilot.Calendar.def) {
        var e = 10, t = function () { return document.createElement("div"); }, n = DayPilot.rePassive, i = DayPilot.reNonPassive, a = DayPilot.re, r = DayPilot.Util.addClass, o = DayPilot.Util.removeClass, s = DayPilot.Util.isMouseEvent, l = DayPilot.Util.copyProps, d = DayPilot.Util.isReactComponent, c = DayPilot.Util.overlaps, u = DayPilot.list, h = DayPilot.Global, f = DayPilot.de;
        DayPilot.Calendar = function (p, m) {
            this.v = "2022.4.5457";
            var g = !1;
            if (this instanceof DayPilot.Calendar && !this.P && (g = !0, this.P = !0), !g)
                throw new DayPilot.Exception("DayPilot.Calendar() is a constructor and must be called as 'var c = new DayPilot.Calendar(id);'");
            var b = this;
            this.uniqueID = null, this.clientName = p, this.id = p, this.isCalendar = !0, this.allDayEnd = "DateTime", this.allDayEventHeight = 30, this.allDayEventTextWrappingEnabled = !1, this.allowEventOverlap = !0, this.allowMultiSelect = !0, this.api = 2, this.autoRefreshCommand = "refresh", this.autoRefreshEnabled = !1, this.autoRefreshInterval = 60, this.autoRefreshMaxCount = 20, this.autoScroll = "Drag", this.backendUrl = null, "function" == typeof DayPilot.Bubble ? this.bubble = new DayPilot.Bubble : this.bubble = null, this.cellBubble = null, this.columnBubble = null, this.businessBeginsHour = 9, this.businessEndsHour = 18, this.cellHeight = 30, this.cellDuration = 30, this.clientState = {}, this.columnMarginRight = 5, this.columnMoveSameLevelOnly = !1, this.columnWidth = 200, this.columnWidthMin = 10, this.columnWidthSpec = "Auto", this.columnsLoadMethod = "GET", this.contextMenu = null, this.contextMenuSelection = null, this.cornerText = "", this.cornerHtml = null, this.crosshairType = "Header", this.dayBeginsHour = 0, this.dayEndsHour = 24, this.days = 1, this.doubleClickTimeout = 300, this.durationBarVisible = !0, this.dynamicEventRendering = "Disabled", this.dynamicEventRenderingMarginX = 0, this.dynamicEventRenderingMarginY = 0, this.eventArrangement = "Cascade", this.eventsLoadMethod = "GET", this.headerHeight = 30, this.headerTextWrappingEnabled = !1, this.headerHeightAutoFit = !1, this.headerLevels = "Auto", this.height = 300, this.heightSpec = "BusinessHours", this.hideFreeCells = !1, this.hideUntilInit = !0, this.headerDateFormat = null, this.hourWidth = 60, this.initEventEnabled = !1, this.initScrollPos = null, this.loadingLabelText = "Loading...", this.loadingLabelHtml = null, this.loadingLabelVisible = !0, this.locale = "en-us", this.messageHideAfter = 5e3, this.moveBy = "Full", this.notifyCommit = "Immediate", this.rtl = !1, this.scrollDelayCells = 0, this.scrollDelayEvents = 10, this.scrollLabelsVisible = !1, this.showToolTip = !0, this.showAllDayEvents = !1, this.showEventStartEnd = !1, this.showHeader = !0, this.showHours = !0, this.showCurrentTime = !0, this.showCurrentTimeMode = "Day", this.showCurrentTimeOffset = 0, this.startDate = DayPilot.Date.today(), this.cssClassPrefix = "calendar_default", this.tapAndHoldTimeout = 300, this.theme = null, this.timeFormat = "Auto", this.timeHeaderCellDuration = 60, this.timeRangeSelectingStartEndEnabled = !1, this.timeRangeSelectingStartEndFormat = "Auto", this.eventMovingStartEndEnabled = !1, this.eventMovingStartEndFormat = "Auto", this.eventResizingStartEndEnabled = !1, this.eventResizingStartEndFormat = "Auto", this.useEventBoxes = "Always", this.viewType = "Days", this.visible = !0, this.watchWidthChanges = !0, this.weekStarts = "Auto", this.width = null, this.xssProtection = "Enabled", this.columnMoveHandling = "Disabled", this.columnResizeHandling = "Disabled", this.eventClickHandling = "Enabled", this.eventDoubleClickHandling = "Disabled", this.eventRightClickHandling = "ContextMenu", this.eventDeleteHandling = "Disabled", this.eventEditHandling = "Update", this.eventHoverHandling = "Bubble", this.eventResizeHandling = "Update", this.eventMoveHandling = "Update", this.eventSelectHandling = "Update", this.eventTapAndHoldHandling = "Move", this.headerClickHandling = "Enabled", this.timeRangeTapAndHoldHandling = "Select", this.timeRangeSelectedHandling = "Enabled", this.timeRangeDoubleClickHandling = "Disabled", this.timeRangeRightClickHandling = "ContextMenu", this.onAutoRefresh = null, this.onColumnFilter = null, this.onColumnResize = null, this.onColumnResized = null, this.onEventFilter = null, this.onEventClick = null, this.onEventClicked = null, this.onEventDelete = null, this.onEventDeleted = null, this.onEventEdit = null, this.onEventEdited = null, this.onEventMove = null, this.onEventMoved = null, this.onEventMoving = null, this.onEventResize = null, this.onEventResized = null, this.onEventResizing = null, this.onEventSelect = null, this.onEventSelected = null, this.onEventRightClick = null, this.onEventRightClicked = null, this.onEventDoubleClick = null, this.onEventDoubleClicked = null, this.onHeaderClick = null, this.onHeaderClicked = null, this.onTimeRangeRightClick = null, this.onTimeRangeRightClicked = null, this.onTimeRangeDoubleClick = null, this.onTimeRangeDoubleClicked = null,
                this.onTimeRangeSelect = null, this.onTimeRangeSelected = null, this.onTimeRangeSelecting = null, this.onAfterRender = null, this.onAfterEventRender = null, this.onAfterCellRender = null, this.onBeforeEventRender = null, this.onBeforeEventExport = null, this.onBeforeEventDomAdd = null, this.onBeforeEventDomRemove = null, this.onBeforeCellRender = null, this.onBeforeCellExport = null, this.onBeforeCornerDomAdd = null, this.onBeforeCornerDomRemove = null, this.onBeforeCornerRender = null, this.onBeforeHeaderRender = null, this.onBeforeHeaderExport = null, this.onBeforeTimeHeaderRender = null, this.Q = !0, this.R = e, this.S = !0, this.T = !0, this.U = !0, this.V = {}, this.V.pixels = {}, this.V.events = [], this.V.drawArea = null, this.V.W = null, this.elements = {}, this.elements.events = [], this.elements.separators = [], this.elements.selection = [], this.elements.cells = {}, this.elements.crosshair = [], this.elements.timeHeaders = [], this.events = {}, this.events.list = [], this.nav = {}, this.X = 0, this.Y = !1, this.Z = !1, this.members = {}, this.members.obsolete = ["Init", "cleanSelection", "cssClassPrefix", "clientName", "uniqueID"], this.members.ignore = ["internal", "nav", "debug", "temp", "elements", "members", "onCallbackError"], this._ = "javasc", this.aa = {}, this.aa.ie = navigator && navigator.userAgent && navigator.userAgent.indexOf("MSIE") !== -1, this.aa.ff = navigator && navigator.userAgent && navigator.userAgent.indexOf("Firefox") !== -1, this.clearSelection = function () { return this.ba ? (v.ca = null, v.da = null, h.selecting = null, this.ea(), void (this.ba = [])) : void (this.ba = []); }, this.ea = function () { this.ba && (f(b.elements.selection), b.elements.selection = [], b.nav.activeSelection = null); }, this.cleanSelection = this.clearSelection, this.fa = function () { if (b.V.drawArea)
                return b.V.drawArea; var e = b.ga(); if (!e)
                return null; var t = {}; t.pixels = {}, t.pixels.left = e.scrollLeft, t.pixels.right = e.scrollLeft + e.clientWidth, t.pixels.top = e.scrollTop, t.pixels.bottom = e.scrollTop + e.clientHeight, t.pixels.width = e.scrollWidth; var n = b.dynamicEventRenderingMarginX; n && (t.pixels.left -= n, t.pixels.right += n, t.pixels.left < 0 && (t.pixels.left = 0), t.pixels.right > t.pixels.width && (t.pixels.right = t.pixels.width)); var i = b.dynamicEventRenderingMarginY; if (i) {
                t.pixels.top -= i, t.pixels.bottom += i;
                var a = b.ha();
                t.pixels.top < 0 && (t.pixels.top = 0), t.pixels.bottom > a && (t.pixels.bottom = a);
            } for (var r = b.ia(), o = null, s = null, l = 0; l < r.length; l++) {
                var d = r[l], c = d.left + d.width;
                if (null === o && c > t.pixels.left && (o = l), null !== o && null === s && (c >= t.pixels.right || l === r.length - 1)) {
                    s = l;
                    break;
                }
            } var u = Math.floor(t.pixels.top / b.cellHeight); u = DayPilot.Util.atLeast(0, u); var h = Math.ceil(t.pixels.bottom / b.cellHeight); return h = DayPilot.Util.atMost(b.ja() - 1, h), t.xStart = o, t.xEnd = s, t.yStart = u, t.yEnd = h, b.V.drawArea = t, t; }, this.ka = function (e) { return b.V.W || (b.V.W = b.ia()), b.V.W[e]; }, this.la = function () { b.V.drawArea = null, b.V.W = null; }, this.ma = function (e, t) { return b.oa.na() ? DayPilot.Util.escapeTextHtml(e, t) : DayPilot.Util.isNullOrUndefined(t) ? DayPilot.Util.isNullOrUndefined(e) ? "" : e : t; }, this.pa = function (e, t, n) { var i = {}; i.action = e, i.parameters = n, i.data = t, i.header = this.qa(); var a = "JSON" + JSON.stringify(i); __doPostBack(b.uniqueID, a); }, this.ra = function (e, t, n, i) { if (!this.M())
                return void b.debug.message("Callback invoked without the server-side backend specified. Callback canceled.", "warning"); "undefined" == typeof i && (i = "CallBack"), b.sa(); var a = {}; a.action = e, a.type = i, a.parameters = t, a.data = n, a.header = this.qa(); var r = "JSON" + JSON.stringify(a); this.backendUrl ? DayPilot.request(this.backendUrl, this.ta, r, this.va) : "function" == typeof WebForm_DoCallback && WebForm_DoCallback(this.uniqueID, r, this.wa, this.clientName, this.onCallbackError, !0); }, this.M = function () { return "javasc" !== b._ && b._.indexOf("DCODE") === -1 || b.devsb; }, this.xa = function () { return !("function" != typeof WebForm_DoCallback || !this.uniqueID); };
            this.va = function (e) { if ("function" == typeof b.onAjaxError) {
                var t = {};
                t.request = e, b.onAjaxError(t);
            }
            else
                "function" == typeof b.ajaxError && b.ajaxError(e); };
            this.dispose = function () { var e = b; if (e.Y && !e.Z) {
                e.Z = !0, e.ya && e.ya.disconnect(), e.za(), e.Aa(), e.nav.messageClose && (e.nav.messageClose.onclick = null), e.nav.hourTable && (e.nav.hourTable.oncontextmenu = null, e.nav.hourTable.onmousemove = null), e.nav.header && (e.nav.header.oncontextmenu = null), e.nav.corner && (e.nav.corner.oncontextmenu = null), e.nav.zoom && (e.nav.zoom.onmousemove = null, e.nav.zoom.oncontextmenu = null), e.nav.scroll && (e.nav.scroll.onscroll = null, e.nav.scroll.root = null), DayPilot.pu(e.nav.loading), e.Ba(), e.Ca(), e.Da(), e.Ea(), e.nav.select = null, e.nav.cornerRight = null, e.nav.scrollable = null, e.nav.bottomLeft = null, e.nav.bottomRight = null, e.nav.allday = null, e.nav.zoom = null, e.nav.loading = null, e.nav.events = null, e.nav.header = null, e.nav.hourTable = null, e.nav.scrolltop = null, e.nav.scroll = null, e.nav.vsph = null, e.nav.main = null, e.nav.message = null, e.nav.messageClose = null, e.nav.top.removeAttribute("style"), e.nav.top.removeAttribute("class"), e.nav.top.removeEventListener("mouseleave", b.Fa);
                !(b.F.reactDOM && DayPilot.browser.ie) && (e.nav.top.innerHTML = ""), e.nav.top.dp = null, e.nav.top = null, DayPilot.ue(window, "resize", e.Ga), v.Ha(e), "undefined" != typeof DayPilot.Bubble && (DayPilot.Bubble.cancelShowing(), DayPilot.Bubble.hide({ "calendar": e })), "undefined" != typeof DayPilot.Menu && DayPilot.Menu.hide({ "calendar": e });
            } }, this.Ia = function () { this.nav.top.dispose = this.dispose; }, this.ta = function (e) { b.wa(e.responseText); }, this.qa = function () { var e = {}; return e.v = this.v, e.control = "dpc", e.id = this.id, e.clientState = b.clientState, e.columns = this.Ja(), e.days = b.days, e.startDate = b.startDate, e.cellDuration = b.cellDuration, e.cssClassPrefix = b.cssClassPrefix, e.heightSpec = b.heightSpec, e.businessBeginsHour = b.businessBeginsHour, e.businessEndsHour = b.businessEndsHour, e.viewType = b.viewType, e.dayBeginsHour = b.dayBeginsHour, e.dayEndsHour = b.dayEndsHour, e.headerLevels = b.headerLevels, e.eventHeaderVisible = b.eventHeaderVisible, e.timeFormat = b.timeFormat, e.timeHeaderCellDuration = b.timeHeaderCellDuration, e.locale = b.locale, e.scrollY = b.scrollPos, e.showAllDayEvents = b.showAllDayEvents, e.tagFields = b.tagFields, e.weekStarts = b.weekStarts, e.selected = b.multiselect.events(), e.hashes = b.hashes, e; }, this.Ka = function () { b.La(), b.Ma(), b.Na = null; }, this.Ja = function () { var e = []; if (e.ignoreToJSON = !0, !this.Oa)
                return e; for (var t = 0; t < this.Oa.length; t++) {
                var n = this.Oa[t], i = this.Pa(n);
                e.push(i);
            } return e; }, this.Pa = function (e) { var t = {}; return t.Value = e.id, t.Name = e.name, t.ToolTip = e.toolTip, t.Date = e.start, t.Children = this.Qa(e.children), t; }, this.Qa = function (e) { var t = []; if (t.ignoreToJSON = !0, !e)
                return t; for (var n = 0; n < e.length; n++)
                t.push(this.Pa(e[n])); return t; }, this.wa = function (e, t) { var e = JSON.parse(e); if (e.BubbleGuid) {
                var n = e.BubbleGuid, i = this.bubbles[n];
                return delete this.bubbles[n], b.Ra(), void ("undefined" != typeof e.Result.BubbleHTML && i.updateView(e.Result.BubbleHTML, i));
            } if (e.CallBackRedirect)
                return void (document.location.href = e.CallBackRedirect); if ("undefined" != typeof e.ClientState && (b.clientState = e.ClientState), "None" === e.UpdateType)
                return b.Ra(), b.Sa(e.CallBackData, !0), void (e.Message && b.message(e.Message)); if (b.la(), e.VsUpdate) {
                var a = document.createElement("input");
                a.type = "hidden", a.name = b.id + "_vsupdate", a.id = a.name, a.value = e.VsUpdate, b.nav.vsph.innerHTML = "", b.nav.vsph.appendChild(a);
            } if (b.Aa(), b.multiselect.clear(!0), b.multiselect.Ta = e.SelectedEvents, "undefined" != typeof e.TagFields && (b.tagFields = e.TagFields), "undefined" != typeof e.SortDirections && (b.sortDirections = e.SortDirections), "Full" === e.UpdateType && (b.colors = e.Colors, b.palette = e.Palette, b.dirtyColors = e.DirtyColors, b.cellProperties = e.CellProperties, b.cellConfig = e.CellConfig, b.Ua() === b.columns ? b.columns = e.Columns : b.columns.list = e.Columns, b.days = e.Days, b.startDate = new DayPilot.Date(e.StartDate).getDatePart(), b.cellDuration = e.CellDuration, b.heightSpec = e.HeightSpec ? e.HeightSpec : b.heightSpec, b.businessBeginsHour = e.BusinessBeginsHour ? e.BusinessBeginsHour : b.businessBeginsHour, b.businessEndsHour = e.BusinessEndsHour ? e.BusinessEndsHour : b.businessEndsHour, b.viewType = e.ViewType, b.headerLevels = e.HeaderLevels, b.backColor = e.BackColor ? e.BackColor : b.backColor, b.nonBusinessBackColor = e.NonBusinessBackColor ? e.NonBusinessBackColor : b.nonBusinessBackColor, b.eventHeaderVisible = e.EventHeaderVisible ? e.EventHeaderVisible : b.eventHeaderVisible, b.timeFormat = e.TimeFormat ? e.TimeFormat : b.timeFormat, b.timeHeaderCellDuration = "undefined" != typeof e.TimeHeaderCellDuration ? e.TimeHeaderCellDuration : b.timeHeaderCellDuration, b.locale = e.Locale ? e.Locale : b.locale, b.dayBeginsHour = "undefined" != typeof e.DayBeginsHour ? e.DayBeginsHour : b.dayBeginsHour, b.dayEndsHour = "undefined" != typeof e.DayEndsHour ? e.DayEndsHour : b.dayEndsHour, b.cornerHtml = e.CornerHTML, b.hours = e.Hours, b.Va(), b.Wa()), e.Hashes)
                for (var r in e.Hashes)
                    b.hashes[r] = e.Hashes[r]; if (b.Xa(e.Events), b.Ya(), ("Full" === e.UpdateType || b.hideFreeCells) && (b.Za(), b.$a(), b._a(), b.ab(), b.bb(), b.cb(), b.db(), b.eb(), b.clearSelection(), b.fb(), "undefined" != typeof e.ScrollY ? b.scrollToY(e.ScrollY) : b.scrollToY(b.initScrollPos)), b.gb(), b.hb(), b.ib(), b.jb(), "Parent100Pct" === b.heightSpec && b.kb(), "HoldForever" !== b.timeRangeSelectedHandling && b.clearSelection(), b.lb(), b.todo && b.todo.del) {
                var o = b.todo.del;
                o.parentNode.removeChild(o), b.todo.del = null;
            } b.Sa(e.CallBackData, !0), b.Ra(), b.mb(), e.Message && b.message(e.Message); }, this.Sa = function (e, t) { var n = function (e, t) { return function () { if (b.nb()) {
                if ("function" == typeof b.onAfterRender) {
                    var n = {};
                    n.isCallBack = t, n.data = e, b.onAfterRender(n);
                }
            }
            else
                b.afterRender && b.afterRender(e, t); }; }; window.setTimeout(n(e, t), 0); }, this.ob = function (e, n) { var i = b.nav.events, a = i.rows[0].cells.length, r = b.pb(b.coords.x); r < 0 && (r = 0), r >= a && (r = a - 1), b.rtl && (r = b.qb.length - r - 1); var o = i.rows[0].cells[r], s = 0, l = 0, d = 0; if ("undefined" != typeof e.duration) {
                var c = e.duration;
                d = Math.floor((b.coords.y - s + b.cellHeight / 2) / b.cellHeight) * b.cellHeight + s, l = c * b.cellHeight / (60 * b.cellDuration), l = Math.max(l, b.cellHeight);
            }
            else {
                var u = e.event;
                l = u.part.height, d = u.part.top;
            } var h = t(); h.setAttribute("unselectable", "on"), h.style.position = "absolute", h.style.width = "100%", h.style.height = l + "px", h.style.left = "0px", h.style.top = d + "px", h.style.zIndex = b.R, h.exclude = !0; var f = t(); return h.appendChild(f), h.className = b.K("_shadow"), f.className = this.K("_shadow_inner"), o.events.appendChild(h), h; }, this.rb = function () { return this.sb() / 36e5; }, this.tb = function () { return this.businessBeginsHour > this.businessEndsHour ? 24 - this.businessBeginsHour + this.businessEndsHour : this.businessEndsHour - this.businessBeginsHour; }, this.ub = function () { return this.dayBeginsHour >= this.dayEndsHour ? 24 - this.dayBeginsHour + this.dayEndsHour : this.dayEndsHour - this.dayBeginsHour; }, this.sb = function (e) { var t = 0; if ("BusinessHoursNoScroll" === this.heightSpec)
                t = this.tb();
            else if (this.hideFreeCells && !e) {
                var n = (this.vb - 1) * this.cellDuration / this.cellHeight, i = Math.ceil(n / 60), a = this.businessBeginsHour > this.businessEndsHour ? this.businessEndsHour + 24 : this.businessEndsHour;
                t = Math.max(this.dayBeginsHour + i, a) - this.wb();
            }
            else
                t = this.ub(); return 60 * t * 60 * 1e3; }, this.message = function (e, n) { if (null !== e && b.Y) {
                var i, a = {};
                "object" == typeof arguments[1] ? (a = arguments[1], i = a.delay) : i = n;
                var o = "";
                o = a.rawHtml ? e : DayPilot.Util.escapeHtml(e), i = i || this.messageHideAfter || 2e3;
                var s, l = this.xb(), d = this.showHours ? this.hourWidth : 0, c = DayPilot.sw(b.yb());
                if (b.rtl) {
                    var u = d;
                    d = c, c = u;
                }
                if (this.nav.message)
                    s = b.nav.message, this.nav.message.style.top = l + "px";
                else {
                    s = t(), s.style.position = "absolute", s.style.left = d + "px", s.style.top = l + "px", s.style.right = "0px", s.style.display = "none", s.onmousemove = function () { s.messageTimeout && !s.status && clearTimeout(s.messageTimeout); }, s.onmouseout = function () { "none" !== b.nav.message.style.display && (s.messageTimeout = setTimeout(b.zb, 500)); };
                    var h = t();
                    h.onclick = function () { b.nav.message.style.display = "none"; }, h.className = this.K("_message"), s.appendChild(h);
                    var f = t();
                    f.style.position = "absolute", f.className = this.K("_message_close"), f.onclick = function () { b.nav.message.style.display = "none"; }, s.appendChild(f), this.nav.top.insertBefore(s, this.nav.loading), this.nav.message = s, this.nav.messageClose = f;
                }
                this.nav.cornerRight ? this.nav.message.style.right = c + "px" : this.nav.message.style.right = "0px";
                var v = function () { if (b.nav.message) {
                    var e = b.nav.message.firstChild;
                    e.className = b.K("_message"), a.cssClass && r(e, a.cssClass), e.innerHTML = o;
                    var t = function () { s.messageTimeout = setTimeout(b.zb, i); };
                    DayPilot.fade(b.nav.message, .2, t);
                } };
                clearTimeout(s.messageTimeout), "none" !== this.nav.message.style.display ? DayPilot.fade(b.nav.message, -.2, v) : v();
            } }, this.message.show = function (e) { b.message(e); }, this.message.hide = function () { b.zb(); }, this.zb = function () { var e = function () { b.nav.message.style.display = "none"; }; DayPilot.fade(b.nav.message, -.2, e); }, this.ab = function () { this.nav.message && (this.nav.message.style.top = this.xb() + "px"); }, this.ja = function () { return this.sb() / (6e4 * this.cellDuration); }, this.eventClickPostBack = function (e, t) { this.pa("EventClick", t, e); }, this.eventClickCallBack = function (e, t) { this.ra("EventClick", e, t); }, this.Ab = function (e) { var t = this, e = e || window.event, n = e.ctrlKey, i = e.metaKey; if ("undefined" != typeof DayPilot.Bubble && DayPilot.Bubble.hideActive(), "Disabled" === b.eventDoubleClickHandling)
                return void b.Bb(t, n, i, e); if (b.timeouts) {
                for (var a in b.timeouts)
                    window.clearTimeout(b.timeouts[a]);
                b.timeouts = [];
            }
            else
                b.timeouts = []; var r = function (e, t, n, i) { return function () { b.Bb(e, t, n, i); }; }; b.timeouts.push(window.setTimeout(r(this, n, i, e), b.doubleClickTimeout)); }, this.Bb = function (e, t, n, i) { var a = e.event; if (a.client.clickEnabled())
                if (b.nb()) {
                    var r = {};
                    if (r.e = a, r.control = b, r.ctrl = t, r.meta = n, r.originalEvent = i, r.preventDefault = function () { this.preventDefault.value = !0; }, "function" == typeof b.onEventClick && (b.onEventClick(r), r.preventDefault.value))
                        return;
                    switch (b.eventClickHandling) {
                        case "PostBack":
                            b.eventClickPostBack(a);
                            break;
                        case "CallBack":
                            b.eventClickCallBack(a);
                            break;
                        case "Edit":
                            b.Cb(e);
                            break;
                        case "Select":
                            b.Db(e, a, t, n);
                            break;
                        case "Bubble":
                            b.bubble && b.bubble.showEvent(a);
                            break;
                        case "ContextMenu":
                            var o = a.client.contextMenu();
                            o ? o.show(a) : b.contextMenu && b.contextMenu.show(a);
                    }
                    "function" == typeof b.onEventClicked && b.onEventClicked(r);
                }
                else
                    switch (b.eventClickHandling) {
                        case "PostBack":
                            b.eventClickPostBack(a);
                            break;
                        case "CallBack":
                            b.eventClickCallBack(a);
                            break;
                        case "JavaScript":
                            b.onEventClick(a);
                            break;
                        case "Edit":
                            b.Cb(e);
                            break;
                        case "Select":
                            b.Db(e, a, t, n);
                            break;
                        case "Bubble":
                            b.bubble && b.bubble.showEvent(a);
                            break;
                        case "ContextMenu":
                            var o = a.client.contextMenu();
                            o ? o.show(a) : b.contextMenu && b.contextMenu.show(a);
                    } }, this.eventDoubleClickPostBack = function (e, t) { this.pa("EventDoubleClick", t, e); }, this.eventDoubleClickCallBack = function (e, t) { this.ra("EventDoubleClick", e, t); }, this.Eb = function (e) { if ("undefined" != typeof DayPilot.Bubble && DayPilot.Bubble.hideActive(), b.timeouts) {
                for (var t in b.timeouts)
                    window.clearTimeout(b.timeouts[t]);
                b.timeouts = null;
            } var n = this.event, e = e || window.event; if (b.nb()) {
                var i = {};
                if (i.e = n, i.preventDefault = function () { this.preventDefault.value = !0; }, "function" == typeof b.onEventDoubleClick && (b.onEventDoubleClick(i), i.preventDefault.value))
                    return;
                switch (b.eventDoubleClickHandling) {
                    case "PostBack":
                        b.eventDoubleClickPostBack(n);
                        break;
                    case "CallBack":
                        b.eventDoubleClickCallBack(n);
                        break;
                    case "Edit":
                        n.allday() || b.Cb(this);
                        break;
                    case "Select":
                        n.allday() || b.Db(this, n, e.ctrlKey);
                        break;
                    case "Bubble": b.bubble && b.bubble.showEvent(n);
                }
                "function" == typeof b.onEventDoubleClicked && b.onEventDoubleClicked(i);
            }
            else
                switch (b.eventDoubleClickHandling) {
                    case "PostBack":
                        b.eventDoubleClickPostBack(n);
                        break;
                    case "CallBack":
                        b.eventDoubleClickCallBack(n);
                        break;
                    case "JavaScript":
                        b.onEventDoubleClick(n);
                        break;
                    case "Edit":
                        n.allday() || b.Cb(this);
                        break;
                    case "Select":
                        n.allday() || b.Db(this, n, e.ctrlKey);
                        break;
                    case "Bubble": b.bubble && b.bubble.showEvent(n);
                } }, this.eventRightClickPostBack = function (e, t) { this.pa("EventRightClick", t, e); }, this.eventRightClickCallBack = function (e, t) { this.ra("EventRightClick", e, t); }, this.Fb = function (e) { var t = this.event; if (e.stopPropagation && e.stopPropagation(), !t.client.rightClickEnabled())
                return !1; if (b.nb()) {
                var n = {};
                if (n.e = t, n.preventDefault = function () { this.preventDefault.value = !0; }, "function" == typeof b.onEventRightClick && (b.onEventRightClick(n), n.preventDefault.value))
                    return !1;
                switch (b.eventRightClickHandling) {
                    case "PostBack":
                        b.eventRightClickPostBack(t);
                        break;
                    case "CallBack":
                        b.eventRightClickCallBack(t);
                        break;
                    case "ContextMenu":
                        var i = t.client.contextMenu();
                        i ? i.show(t) : b.contextMenu && b.contextMenu.show(this.event);
                        break;
                    case "Bubble": b.bubble && b.bubble.showEvent(t);
                }
                "function" == typeof b.onEventRightClicked && b.onEventRightClicked(n);
            }
            else
                switch (b.eventRightClickHandling) {
                    case "PostBack":
                        b.eventRightClickPostBack(t);
                        break;
                    case "CallBack":
                        b.eventRightClickCallBack(t);
                        break;
                    case "JavaScript":
                        b.onEventRightClick(t);
                        break;
                    case "ContextMenu":
                        var i = t.client.contextMenu();
                        i ? i.show(t) : b.contextMenu && b.contextMenu.show(this.event);
                        break;
                    case "Bubble": b.bubble && b.bubble.showEvent(t);
                } return e.preventDefault && e.preventDefault(), !1; }, this.Gb = function (e) { return new DayPilot.Column(e, b); }, this.headerClickPostBack = function (e, t) { this.pa("HeaderClick", t, e); }, this.headerClickCallBack = function (e, t) { this.ra("HeaderClick", e, t); }, this.Hb = function (e) { var t = this.data, n = b.Gb(t); if (b.nb()) {
                var i = {};
                if (i.header = {}, i.header.id = t.id, i.header.name = t.name, i.header.start = t.start, i.column = n, i.originalEvent = e, i.shift = e.shiftKey, i.ctrl = e.ctrlKey, i.meta = e.metaKey, i.preventDefault = function () { this.preventDefault.value = !0; }, "function" == typeof b.onHeaderClick && (b.onHeaderClick(i), i.preventDefault.value))
                    return;
                switch (b.headerClickHandling) {
                    case "PostBack":
                        b.headerClickPostBack(n);
                        break;
                    case "CallBack": b.headerClickCallBack(n);
                }
                "function" == typeof b.onHeaderClicked && b.onHeaderClicked(i);
            }
            else
                switch (b.headerClickHandling) {
                    case "PostBack":
                        b.headerClickPostBack(n);
                        break;
                    case "CallBack":
                        b.headerClickCallBack(n);
                        break;
                    case "JavaScript": b.onHeaderClick(n);
                } }, this.Ib = function (e) { if ("undefined" != typeof DayPilot.Bubble && b.columnBubble)
                if ("Resources" === b.viewType) {
                    var t = {};
                    t.calendar = b, t.start = this.data.start, t.name = this.data.name, t.id = this.data.id, t.toJSON = function () { var e = {}; return e.id = this.id, e.start = this.start, e.name = this.name, e; }, b.columnBubble.showResource(t);
                }
                else {
                    var n = new DayPilot.Date(this.data.start), i = n.addDays(1), a = {};
                    a.calendar = b, a.start = n, a.end = i, a.toJSON = function () { var e = {}; return e.start = this.start, e.end = this.end, e; }, b.columnBubble.showTime(a);
                } var r = this, o = r.firstChild; if (!o.active) {
                var s = r.data, l = b.Gb(s);
                l.areas = r.data.areas, DayPilot.Areas.showAreas(o, l);
            } "undefined" != typeof y && y.Jb && y.Kb(e, r); }, this.Lb = function (e) { "undefined" != typeof DayPilot.Bubble && b.columnBubble && b.columnBubble.hideOnMouseOut(), DayPilot.Areas.hideAreas(this.firstChild, e); }, this.eventDeletePostBack = function (e, t) { this.pa("EventDelete", t, e); }, this.eventDeleteCallBack = function (e, t) { this.ra("EventDelete", e, t); }, this.Mb = function (e) { var t; if (t = e && e.isEvent ? e : e.parentNode.parentNode.event, "undefined" != typeof DayPilot.Bubble && (DayPilot.Bubble.hideActive(), DayPilot.Bubble.cancelShowing()), b.nb()) {
                var n = {};
                if (n.e = t, n.control = b, n.preventDefault = function () { this.preventDefault.value = !0; }, "function" == typeof b.onEventDelete && (b.onEventDelete(n), n.preventDefault.value))
                    return;
                switch (b.eventDeleteHandling) {
                    case "PostBack":
                        b.eventDeletePostBack(t);
                        break;
                    case "CallBack":
                        b.eventDeleteCallBack(t);
                        break;
                    case "Update": b.events.remove(t);
                }
                "function" == typeof b.onEventDeleted && b.onEventDeleted(n);
            }
            else
                switch (b.eventDeleteHandling) {
                    case "PostBack":
                        b.eventDeletePostBack(t);
                        break;
                    case "CallBack":
                        b.eventDeleteCallBack(t);
                        break;
                    case "JavaScript": b.onEventDelete(t);
                } }, this.eventResizePostBack = function (e, t, n, i) { if (!t)
                throw "newStart is null"; if (!n)
                throw "newEnd is null"; var a = {}; a.e = e, a.newStart = t, a.newEnd = n, this.pa("EventResize", i, a); }, this.eventResizeCallBack = function (e, t, n, i) { if (!t)
                throw "newStart is null"; if (!n)
                throw "newEnd is null"; var a = {}; a.e = e, a.newStart = t, a.newEnd = n, this.ra("EventResize", a, i); }, this.Nb = function (e, t, n, i) { if ("PostBack" === e)
                b.postBack2(t, n, i);
            else if ("CallBack" === e)
                b.ra(t, n, i, "CallBack");
            else if ("Immediate" === e)
                b.ra(t, n, i, "Notify");
            else if ("Queue" === e)
                b.queue.add(new DayPilot.Action(this, t, n, i));
            else {
                if ("Notify" !== e)
                    throw new DayPilot.Exception("Invalid event invocation type");
                "Notify" === k.Ob() ? b.ra(t, n, i, "Notify") : b.queue.add(new DayPilot.Action(b, t, n, i));
            } }, this.wb = function (e) { if ("BusinessHoursNoScroll" === this.heightSpec)
                return this.businessBeginsHour; if (this.hideFreeCells && !e) {
                var t = this.Pb * this.cellDuration / this.cellHeight, n = Math.floor(t / 60);
                return n = Math.max(0, n), Math.min(this.dayBeginsHour + n, this.businessBeginsHour);
            } return this.dayBeginsHour; }, this.visibleStart = function () { if ("Resources" === b.viewType) {
                if (b.qb.isEmpty())
                    return DayPilot.Date.today();
                var e = u(b.qb).map(function (e) { return e.start.getTime(); }), t = Math.min.apply(null, e);
                return new DayPilot.Date(t);
            } return this.qb[0].start; }, this.visibleEnd = function () { if ("Resources" === b.viewType) {
                if (b.qb.isEmpty())
                    return DayPilot.Date.today().addDays(1);
                var e = u(b.qb).map(function (e) { return e.start.getTime(); }), t = Math.max.apply(null, e);
                return new DayPilot.Date(t).addDays(1);
            } var n = this.qb, t = n.length - 1; return n[t].start.addDays(1); }, this.nb = function () { return 2 === b.api; }, this.Qb = function (e, t) { var n = (e.start(), b.qb[e.part.dayIndex].start), i = Math.floor(t / b.cellHeight), a = i * b.cellDuration, r = 60 * a * 1e3, o = 60 * b.wb() * 60 * 1e3; return n.addTime(r + o); }, this.Rb = function (e, t) { var n = Math.floor(t / b.cellHeight), i = n * b.cellDuration, a = 60 * i * 1e3, r = 60 * b.wb() * 60 * 1e3; return b.qb[e.part.dayIndex].start.addTime(a + r); }, this.Sb = function (e, t, n, i) { if ("Disabled" !== this.eventResizeHandling) {
                var a, r;
                if ("top" === i ? (a = b.Qb(e, n), r = e.end()) : "bottom" === i && (a = e.start(), r = b.Rb(e, n + t)), b.nb()) {
                    var o = {}, s = function () { if (o.loaded = function () { }, b.Tb(), !o.preventDefault.value) {
                        switch (b.eventResizeHandling) {
                            case "PostBack":
                                b.eventResizePostBack(e, a, r);
                                break;
                            case "CallBack":
                                b.eventResizeCallBack(e, a, r);
                                break;
                            case "Notify":
                                b.eventResizeNotify(e, a, r);
                                break;
                            case "Update": e.start(a), e.end(r), b.events.update(e);
                        }
                        "function" == typeof b.onEventResized && b.onEventResized(o);
                    } };
                    if (o.e = e, o.control = b, o.newStart = a, o.newEnd = r, o.preventDefault = function () { this.preventDefault.value = !0; }, o.async = !1, o.hideShadow = function () { b.Tb(); }, o.loaded = function () { s(); }, "function" == typeof b.onEventResize && (b.onEventResize(o), o.preventDefault.value))
                        return void b.Tb();
                    o.async || s();
                }
                else
                    switch (b.Tb(), b.eventResizeHandling) {
                        case "PostBack":
                            b.eventResizePostBack(e, a, r);
                            break;
                        case "CallBack":
                            b.eventResizeCallBack(e, a, r);
                            break;
                        case "JavaScript":
                            b.onEventResize(e, a, r);
                            break;
                        case "Notify": b.eventResizeNotify(e, a, r);
                    }
            } }, this.eventResizeNotify = function (e, t, n, i) { var a = new DayPilot.Event(e.copy(), this); e.start(t), e.end(n), e.commit(), b.update(), this.Ub("Notify", a, t, n, i); }, this.Ub = function (e, t, n, i, a) { var r = {}; r.e = t, r.newStart = n, r.newEnd = i, this.Nb(e, "EventResize", r, a); }, this.eventMovePostBack = function (e, t, n, i, a) { if (!t)
                throw "newStart is null"; if (!n)
                throw "newEnd is null"; var r = {}; r.e = e, r.newStart = t, r.newEnd = n, r.newResource = i, this.pa("EventMove", a, r); }, this.eventMoveCallBack = function (e, t, n, i, a) { if (!t)
                throw "newStart is null"; if (!n)
                throw "newEnd is null"; var r = {}; r.e = e, r.newStart = t, r.newEnd = n, r.newResource = i, this.ra("EventMove", r, a); }, this.Vb = function (e, t, n) { var i = 0, a = Math.floor((n - i) / b.cellHeight), r = b.cellDuration, o = a * r * 60 * 1e3, s = e.start(), l = e.end(), d = new Date; s instanceof DayPilot.Date && (s = s.toDate()), d.setTime(Date.UTC(s.getUTCFullYear(), s.getUTCMonth(), s.getUTCDate())); var c = "Never" !== b.useEventBoxes ? s.getTime() - (d.getTime() + 3600 * s.getUTCHours() * 1e3 + Math.floor(s.getUTCMinutes() / r) * r * 60 * 1e3) : 0, u = l.getTime() - s.getTime(), h = 3600 * b.wb() * 1e3; "undefined" == typeof t && (t = e.part.dayIndex); var f = this.qb[t], v = f.start.getTime(), p = new Date; p.setTime(v + o + c + h); var m = new DayPilot.Date(p); return { "start": m, "end": m.addTime(u), "resource": f.id }; }, this.Wb = function (e, t, n, i, a) { if ("Disabled" !== b.eventMoveHandling) {
                var r = b.Vb(e, t, n), o = r.start, s = r.end, l = r.resource, d = !!a;
                if (b.nb()) {
                    var c = {}, u = function () { if (c.loaded = function () { }, b.Xb(), !c.preventDefault.value) {
                        switch (b.eventMoveHandling) {
                            case "PostBack":
                                b.eventMovePostBack(e, o, s, l);
                                break;
                            case "CallBack":
                                b.eventMoveCallBack(e, o, s, l);
                                break;
                            case "Notify":
                                b.eventMoveNotify(e, o, s, l);
                                break;
                            case "Update": e.start(o), e.end(s), e.resource(l), d ? (e.commit(), b.events.add(e)) : b.events.update(e), b.Yb();
                        }
                        "function" == typeof b.onEventMoved && b.onEventMoved(c);
                    } };
                    if (c.e = e, c.control = b, c.newStart = r.start, c.newEnd = r.end, c.newResource = r.resource, c.external = d, c.areaData = h.movingAreaData, c.ctrl = !1, i && (c.ctrl = i.ctrlKey), c.shift = !1, i && (c.shift = i.shiftKey), c.preventDefault = function () { this.preventDefault.value = !0; }, c.async = !1, c.hideShadow = function () { b.Xb(); }, c.loaded = function () { u(); }, "function" == typeof b.onEventMove && (b.onEventMove(c), c.preventDefault.value))
                        return void b.Xb();
                    c.async || u();
                }
                else
                    switch (b.Xb(), b.eventMoveHandling) {
                        case "PostBack":
                            b.eventMovePostBack(e, o, s, l);
                            break;
                        case "CallBack":
                            b.eventMoveCallBack(e, o, s, l);
                            break;
                        case "JavaScript":
                            b.onEventMove(e, o, s, l, d, !!i && i.ctrlKey, !!i && i.shiftKey);
                            break;
                        case "Notify": b.eventMoveNotify(e, o, s, l, null);
                    }
            } }, this.eventMoveNotify = function (e, t, n, i, a) { var r = new DayPilot.Event(e.copy(), this); e.start(t), e.end(n), e.resource(i), e.commit(), b.update(), this.Zb("Notify", r, t, n, i, a); }, this.Zb = function (e, t, n, i, a, r) { var o = {}; o.e = t, o.newStart = n, o.newEnd = i, o.newResource = a, this.Nb(e, "EventMove", o, r); }, this.Yb = function () { if (b.todo && b.todo.del) {
                var e = b.todo.del;
                e.parentNode.removeChild(e), b.todo.del = null;
            } }, this.$b = function (e, t) { var n = b._b(t), i = {}; i.args = e, i.guid = n, b.ra("Bubble", i); }, this._b = function (e) { var t = DayPilot.guid(); return this.bubbles || (this.bubbles = []), this.bubbles[t] = e, t; }, this.eventMenuClickPostBack = function (e, t, n) { var i = {}; i.e = e, i.command = t, this.pa("EventMenuClick", n, i); }, this.eventMenuClickCallBack = function (e, t, n) { var i = {}; i.e = e, i.command = t, this.ra("EventMenuClick", i, n); }, this.bc = function (e, t, n) { switch (n) {
                case "PostBack":
                    b.eventMenuClickPostBack(t, e);
                    break;
                case "CallBack": b.eventMenuClickCallBack(t, e);
            } }, this.timeRangeMenuClickPostBack = function (e, t, n) { var i = {}; i.selection = e, i.command = t, this.pa("TimeRangeMenuClick", n, i); }, this.timeRangeMenuClickCallBack = function (e, t, n) { var i = {}; i.selection = e, i.command = t, this.ra("TimeRangeMenuClick", i, n); }, this.cc = function (e, t, n) { switch (n) {
                case "PostBack":
                    b.timeRangeMenuClickPostBack(t, e);
                    break;
                case "CallBack": b.timeRangeMenuClickCallBack(t, e);
            } }, this.timeRangeSelectedPostBack = function (e, t, n, i) { var a = {}; a.start = e, a.end = t, a.resource = n, this.pa("TimeRangeSelected", i, a); }, this.timeRangeSelectedCallBack = function (e, t, n, i) { var a = {}; a.start = e, a.end = t, a.resource = n, this.ra("TimeRangeSelected", a, i); }, this.dc = function (e, t, n) { e = new DayPilot.Date(e), t = new DayPilot.Date(t); var i = n; if (b.nb()) {
                var a = {};
                if (a.start = e, a.end = t, a.resource = i, a.control = b, a.preventDefault = function () { this.preventDefault.value = !0; }, a.toJSON = function () { return l(a, {}, ["start", "end", "resource"]); }, "function" == typeof b.onTimeRangeSelect && (b.onTimeRangeSelect(a), a.preventDefault.value))
                    return;
                switch (b.timeRangeSelectedHandling) {
                    case "PostBack":
                        b.timeRangeSelectedPostBack(e, t, i);
                        break;
                    case "CallBack": b.timeRangeSelectedCallBack(e, t, i);
                }
                "function" == typeof b.onTimeRangeSelected && b.onTimeRangeSelected(a);
            }
            else
                switch (b.timeRangeSelectedHandling) {
                    case "PostBack":
                        b.timeRangeSelectedPostBack(e, t, n);
                        break;
                    case "CallBack":
                        b.timeRangeSelectedCallBack(e, t, n);
                        break;
                    case "JavaScript": b.onTimeRangeSelected(e, t, n);
                } }, this.timeRangeDoubleClickPostBack = function (e, t, n, i) { var a = {}; a.start = e, a.end = t, a.resource = n, this.pa("TimeRangeDoubleClick", i, a); }, this.timeRangeDoubleClickCallBack = function (e, t, n, i) { var a = {}; a.start = e, a.end = t, a.resource = n, this.ra("TimeRangeDoubleClick", a, i); }, this.ec = function (e, t, n) { if (b.nb()) {
                var i = n, a = {};
                if (a.start = e, a.end = t, a.resource = i, a.preventDefault = function () { this.preventDefault.value = !0; }, "function" == typeof b.onTimeRangeDoubleClick && (b.onTimeRangeDoubleClick(a), a.preventDefault.value))
                    return;
                switch (b.timeRangeDoubleClickHandling) {
                    case "PostBack":
                        b.timeRangeDoubleClickPostBack(e, t, i);
                        break;
                    case "CallBack": b.timeRangeDoubleClickCallBack(e, t, i);
                }
                "function" == typeof b.onTimeRangeDoubleClicked && b.onTimeRangeDoubleClicked(a);
            }
            else
                switch (b.timeRangeDoubleClickHandling) {
                    case "PostBack":
                        b.timeRangeDoubleClickPostBack(e, t, n);
                        break;
                    case "CallBack":
                        b.timeRangeDoubleClickCallBack(e, t, n);
                        break;
                    case "JavaScript": b.onTimeRangeDoubleClick(e, t, n);
                } }, this.eventEditPostBack = function (e, t, n) { var i = {}; i.e = e, i.newText = t, this.pa("EventEdit", n, i); }, this.eventEditCallBack = function (e, t, n) { var i = {}; i.e = e, i.newText = t, this.ra("EventEdit", i, n); }, this.fc = function (e, t) { if (b.nb()) {
                var n = {};
                if (n.control = b, n.e = e, n.newText = t, n.preventDefault = function () { this.preventDefault.value = !0; }, "function" == typeof b.onEventEdit && (b.onEventEdit(n), n.preventDefault.value))
                    return;
                switch (b.eventEditHandling) {
                    case "PostBack":
                        b.eventEditPostBack(e, n.newText);
                        break;
                    case "CallBack":
                        b.eventEditCallBack(e, n.newText);
                        break;
                    case "Update": e.text(n.newText), b.events.update(e);
                }
                if ("function" == typeof b.onEventEdited && (b.onEventEdited(n), n.preventDefault.value))
                    return;
            }
            else
                switch (b.eventEditHandling) {
                    case "PostBack":
                        b.eventEditPostBack(e, t);
                        break;
                    case "CallBack":
                        b.eventEditCallBack(e, t);
                        break;
                    case "JavaScript": b.onEventEdit(e, t);
                } }, this.eventSelectPostBack = function (e, t, n) { var i = {}; i.e = e, i.change = t, this.pa("EventSelect", n, i); }, this.eventSelectCallBack = function (e, t, n) { var i = {}; i.e = e, i.change = t, this.ra("EventSelect", i, n); }, this.gc = function (e, t, n, i) { var a = b.multiselect, r = a.isSelected(t); if (n || i || !r || 1 !== a.hc.length)
                if (b.nb()) {
                    a.previous = a.events();
                    var o = {};
                    if (o.e = t, o.selected = a.isSelected(t), o.ctrl = n, o.meta = i, o.preventDefault = function () { this.preventDefault.value = !0; }, "function" == typeof b.onEventSelect && (b.onEventSelect(o), o.preventDefault.value))
                        return;
                    switch (b.eventSelectHandling) {
                        case "PostBack":
                            b.eventSelectPostBack(t, s);
                            break;
                        case "CallBack":
                            "undefined" != typeof WebForm_InitCallback && (window.ic = "", window.jc = [], WebForm_InitCallback()), b.eventSelectCallBack(t, s);
                            break;
                        case "Update": a.kc(e, n);
                    }
                    "function" == typeof b.onEventSelected && (o.change = a.isSelected(t) ? "selected" : "deselected", o.selected = a.isSelected(t), b.onEventSelected(o));
                }
                else {
                    a.previous = a.events(), a.kc(e, n);
                    var s = a.isSelected(t) ? "selected" : "deselected";
                    switch (b.eventSelectHandling) {
                        case "PostBack":
                            b.eventSelectPostBack(t, s);
                            break;
                        case "CallBack":
                            "undefined" != typeof WebForm_InitCallback && (window.ic = "", window.jc = [], WebForm_InitCallback()), b.eventSelectCallBack(t, s);
                            break;
                        case "JavaScript": b.onEventSelect(t, s);
                    }
                } }, this.commandCallBack = function (e, t) { this.za(); var n = {}; n.command = e, this.ra("Command", n, t); }, this.lc = function (e) { if (!x.active && !x.using && (clearTimeout(v.selectedTimeout), !h.selecting)) {
                if (v.editing)
                    return void v.editing.blur();
                if (b.ba && "Disabled" !== b.timeRangeDoubleClickHandling)
                    for (var t = 0; t < b.ba.length; t++)
                        if (this === b.ba[t])
                            return;
                if ("Disabled" !== b.timeRangeSelectedHandling) {
                    if (DayPilot.Util.mouseButton(e).left) {
                        var n = b.pb(b.coords.x, !0);
                        v.nc = b.coords, v.nc.calendar = b, b.clearSelection(), v.ca = this, v.da = this, v.oc = n, b.ba.push(this), v.pc = this, h.selecting = { "calendar": b }, b.qc();
                    }
                }
            } }, this.qc = function () {
                this.getSelection() && b.ba && !function () {
                    var e = v.ca, n = v.da, i = function () { if (e.data)
                        return e.data.x; for (var t = e.parentNode.cells, n = 0; n < t.length; n++)
                        if (t[n] === e)
                            return n; return -1; }(), a = b.timeRangeSelectingStartEndFormat;
                    "Auto" === a && (a = "Clock24Hours" === k.rc() ? "H:mm" : "h:mm tt");
                    var o = b.qb[i];
                    if (o) {
                        var s = {};
                        s.start = e.start, s.end = n.end, s.duration = new DayPilot.Duration(s.start, s.end), s.resource = o.id, s.allowed = !0, s.html = null, s.cssClass = null, s.top = {}, s.top.width = null, s.top.space = 5, s.top.html = s.start.toString(a, k.sc()), s.top.enabled = b.timeRangeSelectingStartEndEnabled, s.bottom = {}, s.bottom.width = null, s.bottom.space = 5, s.bottom.html = s.end.toString(a, k.sc()), s.bottom.enabled = b.timeRangeSelectingStartEndEnabled;
                        var l = h.selecting && h.selecting.args;
                        if (!l || l.start !== s.start || l.end !== s.end || l.resource != s.resource) {
                            if (!b.allowEventOverlap) {
                                var d = { "id": null, "start": s.start, "end": s.end, "resource": s.resource };
                                b.events.tc(d) && (s.allowed = !1);
                            }
                            b.uc(s.start, s.end, s.resource) && (s.allowed = !1), "function" == typeof b.onTimeRangeSelecting && s.allowed && b.onTimeRangeSelecting(s), h.selecting && (h.selecting.args = s);
                            var c = b.vc(e.start, o.start).boxTop - b.wc(), u = b.vc(n.end, o.start).boxBottom - b.wc(), f = u - c, p = function () {
                                if (b.nav.activeSelection)
                                    return b.nav.activeSelection;
                                var e = t();
                                e.setAttribute("unselectable", "on"), e.style.zIndex = b.R, e.style.position = "absolute", e.style.left = "0px", e.style.width = "100%", e.ondblclick = function (e) { if ("Disabled" !== b.timeRangeDoubleClickHandling) {
                                    clearTimeout(b.xc);
                                    var t = b.getSelection();
                                    t && b.ec(t.start, t.end, t.resource);
                                } };
                                var n = t();
                                return n.setAttribute("unselectable", "on"),
                                    n.className = b.K("_shadow_inner"), e.appendChild(n), b.nav.events.rows[0].cells[i].selection.appendChild(e), b.elements.selection.push(e), b.nav.activeSelection = e, e;
                            }();
                            p.className = b.K("_shadow"), p.firstChild.innerHTML = "", p.style.top = c + "px", p.style.height = f + "px";
                            var m = p.firstChild;
                            s.html && (m.innerHTML = s.html), s.cssClass && r(p, s.cssClass), s.allowed || r(p, b.K("_shadow_forbidden")), b.yc(p, i, s);
                        }
                    }
                }();
            }, this.Xb = function () { b.zc(v.movingShadow), v.movingShadow = null; }, this.Tb = function () { b.zc(v.resizingShadow), v.resizingShadow = null; }, this.zc = function (e) { f(e), f(b.nav.indicatorTop), f(b.nav.indicatorBottom); }, this.yc = function (e, n, i) { var a = b.nav.events.rows[0].cells, r = a[n].events, o = n === a.length - 1; if (f(b.nav.indicatorTop), f(b.nav.indicatorBottom), i.top.enabled) {
                var s = t();
                s.style.zIndex = b.R, s.style.position = "absolute", s.style.top = e.offsetTop + "px", o ? s.style.right = "0px" : s.style.left = e.offsetWidth + i.top.space + "px", i.top.width ? s.style.width = i.top.width + "px" : s.style.whiteSpace = "nowrap", i.top.html && (s.innerHTML = i.top.html), s.className = b.K("_shadow_top"), r.appendChild(s), b.elements.selection.push(s), b.nav.indicatorTop = s;
            } if (i.bottom.enabled) {
                var l = t();
                l.style.zIndex = b.R, l.style.position = "absolute", l.style.top = e.offsetTop + e.offsetHeight + "px", o ? l.style.right = "0px" : l.style.left = e.offsetWidth + i.bottom.space + "px", i.bottom.width ? l.style.width = i.bottom.width + "px" : l.style.whiteSpace = "nowrap", i.bottom.html && (l.innerHTML = i.bottom.html), l.className = b.K("_shadow_bottom"), r.appendChild(l);
                var d = l.offsetHeight;
                l.style.top = e.offsetTop + e.offsetHeight - d + "px", b.elements.selection.push(l), b.nav.indicatorBottom = l;
            } }, this.Ac = function (e) { "undefined" != typeof DayPilot.Bubble && b.cellBubble && b.cellBubble.hideOnMouseOut(); }, this.Bc = function (e) { if ("undefined" != typeof v && !x.active && !x.using) {
                if ("undefined" != typeof DayPilot.Bubble && b.cellBubble) {
                    var t = v.Cc(this), n = b.qb[t].id, i = {};
                    i.calendar = b, i.start = this.start, i.end = this.end, i.resource = n, i.toJSON = function () { var e = {}; return e.start = this.start, e.end = this.end, e.resource = this.resource, e; }, b.cellBubble.showCell(i, this);
                }
                "undefined" != typeof w && w.Jb && w.Dc(i, e);
            } }, this.getSelection = function () { if (!v.ca)
                return null; if (!v.da)
                return null; var e = v.ca.start, t = v.da.end, n = v.ca.resource; return new DayPilot.Selection(e, t, n, b); }, this.Ec = function (e) { }, this.Fc = function (e) { if ("Fixed" === b.columnWidthSpec || b.S) {
                if (!b.nav.bottomLeft)
                    return;
                b.nav.bottomLeft.scrollTop = b.nav.bottomRight.scrollTop, b.nav.upperRight && (b.nav.upperRight.scrollLeft = b.nav.bottomRight.scrollLeft), b.nav.scrollLayer.scrollLeft = b.nav.bottomRight.scrollLeft;
            } var t = b.ga(); b.scrollPos = t.scrollTop, b.Gc = t.clientHeight, b.nav.scrollpos.value = b.scrollPos, b.lb(), b.la(), "Progressive" === b.dynamicEventRendering && (clearTimeout(b.Hc), 0 === b.scrollDelayEvents ? b.Ic() : b.Hc = setTimeout(function () { b.Ic(); }, b.scrollDelayEvents)), "Fixed" === b.columnWidthSpec && (clearTimeout(b.Jc), 0 === b.scrollDelayCells ? b.Kc() : b.Jc = setTimeout(function () { b.Kc(); }, b.scrollDelayCells)); }, this.lb = function () { if (this.scrollLabelsVisible && this.Lc) {
                if (this.nav && this.nav.main && this.nav.main.rows && this.nav.main.rows.length > 0 && this.nav.main.rows[0].cells.length > 0) {
                    for (var e = (this.qb, this.showHours ? this.hourWidth : 0), t = this.nav.main.rows[0].cells[0].clientWidth, n = 1, i = 0; i < this.nav.scrollUp.length; i++) {
                        var a = this.nav.scrollUp[i], r = this.nav.scrollDown[i], o = Math.floor(e + i * t + t / 2 - 5 + n);
                        o < 0 && (o = 0), o -= b.nav.bottomRight.scrollLeft, a && a.style && (a.style.left = o + "px"), r && r.style && (r.style.left = o + "px");
                    }
                    for (var s = this.wc(), i = 0; i < this.nav.scrollUp.length; i++) {
                        var l = this.nav.scrollUp[i], d = this.nav.scrollDown[i], c = this.Lc[i].minEnd - s, u = this.Lc[i].maxStart - s;
                        l && d && (c <= b.scrollPos && parseInt(l.style.left) >= b.hourWidth ? (l.style.top = this.xb() + "px", l.style.display = "") : l.style.display = "none", u >= b.scrollPos + b.Gc && parseInt(d.style.left) >= b.hourWidth ? (d.style.top = this.xb() + this.Gc - 10 + "px", d.style.display = "") : d.style.display = "none");
                    }
                }
            } }, this.Mc = function (e) { var t = e.parentNode, n = 0, i = e.offsetTop, a = e.parentNode.offsetWidth, r = e.offsetHeight; e.event.allday() && (n = e.offsetLeft, a = e.offsetWidth); var o = document.createElement("textarea"); o.style.boxSizing = "border-box", o.style.position = "absolute", o.style.width = a + "px", o.style.height = r + "px"; var s = DayPilot.gs(e, "fontFamily"); s || (s = DayPilot.gs(e, "font-family")), o.style.fontFamily = s; var l = DayPilot.gs(e, "fontSize"); return l || (l = DayPilot.gs(e, "font-size")), o.style.fontSize = l, o.style.left = n + "px", o.style.top = i + "px", o.style.border = "1px solid black", o.style.padding = "0px", o.style.marginTop = "0px", o.style.backgroundColor = "white", o.value = (e.event.text() || "").trim(), o.event = e.event, t.appendChild(o), o; }, this.Db = function (e, t, n, i) { b.gc(e, t, n, i); }, this.multiselect = {}, this.multiselect.Ta = [], this.multiselect.hc = [], this.multiselect.Nc = [], this.multiselect.Oc = [], this.multiselect.Pc = function () { var e = b.multiselect; return JSON.stringify(e.events()); }, this.multiselect.events = function () { var e = b.multiselect, t = []; t.ignoreToJSON = !0; for (var n = 0; n < e.hc.length; n++)
                t.push(e.hc[n]); return t; }, this.multiselect.Qc = function () { b.nav.select.value = b.multiselect.Pc(); }, this.multiselect.kc = function (e, t) { var n = b.multiselect; if (n.isSelected(e.event))
                if (b.allowMultiSelect)
                    if (t)
                        n.remove(e.event, !0);
                    else {
                        var i = n.hc.length;
                        n.clear(!0), i > 1 && n.add(e.event, !0);
                    }
                else
                    n.clear(!0);
            else
                b.allowMultiSelect && t ? n.add(e.event, !0) : (n.clear(!0), n.add(e.event, !0)); n.redraw(), n.Qc(); }, this.multiselect.Rc = function (e) { var t = b.multiselect; return t.Sc(e, t.Ta); }, this.multiselect.Tc = function () { for (var e = b.multiselect, t = [], n = 0; n < e.hc.length; n++) {
                var i = e.hc[n];
                t.push(i.value());
            } alert(t.join("\n")); }, this.multiselect.add = function (e, t) { var n = b.multiselect; n.Uc(e) === -1 && n.hc.push(e), n.Qc(), t || n.redraw(); }, this.multiselect.remove = function (e, t) { var n = b.multiselect, i = n.Uc(e); i !== -1 && n.hc.splice(i, 1), n.Qc(), t || n.redraw(); }, this.multiselect.clear = function (e) { var t = b.multiselect; t.hc = [], t.Qc(), e || t.redraw(); }, this.multiselect.redraw = function () { for (var e = b.multiselect, t = 0; t < b.elements.events.length; t++) {
                var n = b.elements.events[t];
                e.isSelected(n.event) ? e.Vc(n) : e.Wc(n);
            } }, this.multiselect.Vc = function (e) { var t = b.multiselect, n = b.K("_selected"); r(t.Xc(e), n), t.Nc.push(e); }, this.multiselect.Xc = function (e) { return e; }, this.multiselect.Yc = function () { for (var e = b.multiselect, t = 0; t < e.Nc.length; t++) {
                var n = e.Nc[t];
                e.Wc(n, !0);
            } e.Nc = []; }, this.multiselect.Wc = function (e, t) { var n = b.multiselect, i = b.K("_selected"); if (o(n.Xc(e), i), !t) {
                var a = DayPilot.indexOf(n.Nc, e);
                a !== -1 && n.Nc.splice(a, 1);
            } }, this.multiselect.isSelected = function (e) { return b.multiselect.Sc(e, b.multiselect.hc); }, this.multiselect.Uc = function (e) { for (var t = e.data, n = 0; n < b.multiselect.hc.length; n++) {
                var i = b.multiselect.hc[n];
                if (b.Zc(i.data, t))
                    return n;
            } return -1; }, this.multiselect.Sc = function (e, t) { if (!t)
                return !1; for (var n = 0; n < t.length; n++) {
                var i = t[n];
                if (b.Zc(e, i))
                    return !0;
            } return !1; }, this.Cb = function (e) { if (v.editing)
                return void v.editing.blur(); var t = this.Mc(e); v.editing = t, a(t, DayPilot.touch.start, function (e) { e.stopPropagation(); }), t.onblur = function () { if (e.event) {
                var n = e.event.text(), i = t.value;
                v.editing = null, t.onblur = null, f(t), n !== i && (e.style.display = "none", b.fc(e.event, i));
            } }, t.onkeypress = function (e) { if (13 === (window.event ? event.keyCode : e.keyCode))
                return this.onblur(), e.preventDefault(), !1; }, t.onkeyup = function (e) { return 27 === (window.event ? event.keyCode : e.keyCode) && (t.onblur = null, t.parentNode && t.parentNode.removeChild(t), v.editing = !1), !0; }, t.select(), t.focus(); }, this.$c = function () { return "Resources" !== b.viewType && (!b.Ua() || !b.M()); }, this.Ua = function () { return DayPilot.isArray(b.columns) ? b.columns : b.columns.list; }, this.columns = {}, this.columns.list = [], this.columns._c = !1, this.columns.filter = function (e) { b.ad.params = e, b.Y && b.bd(); }, this.columns.find = function (e, t) { var n = "Resources" === b.viewType; e = new DayPilot.Date(e); var i = b.qb.find(function (i) { var a = !n || i.id === t, r = i.start.addDays(1); return !!(a && i.start <= e && e < r); }); return i ? b.Gb(i, b) : null; }, this.columns.load = function (e, t, n) { if (!e)
                throw new DayPilot.Exception("columns.load(): 'url' parameter required"); var i = function (e) { var t = {}; t.exception = e.exception, t.request = e.request, "function" == typeof n && n(t); }, a = function (e) { var n, a = e.request; try {
                n = JSON.parse(a.responseText);
            }
            catch (e) {
                var r = {};
                return r.exception = e, void i(r);
            } if (DayPilot.isArray(n)) {
                var o = {};
                if (o.preventDefault = function () { this.preventDefault.value = !0; }, o.data = n, "function" == typeof t && t(o), o.preventDefault.value)
                    return;
                b.columns.list = n, b.Y && b.update();
            } }; b.columnsLoadMethod && "POST" === b.columnsLoadMethod.toUpperCase() ? DayPilot.ajax({ "method": "POST", "url": e, "success": a, "error": i }) : DayPilot.ajax({ "method": "GET", "url": e, "success": a, "error": i }); }, this.Va = function () { var e = b.$c(); if (b.cd = 0, e) {
                var t = this.dd();
                this.qb = this.ed(t);
            }
            else {
                this.Oa = this.ed(this.Ua() || []), this.qb = this.fd(k.gd(), !0);
                b.hd() && b.jd();
            } }, this.hd = function () { return b.qb.find(function (e) { return "number" == typeof e.width; }); }, this.kd = function () { var e = this.startDate.getDatePart(), t = this.days; switch (this.viewType) {
                case "Day":
                    t = 1;
                    break;
                case "Week":
                    t = 7, e = e.firstDayOfWeek(k.ld());
                    break;
                case "WorkWeek": for (t = 5, e = e.firstDayOfWeek(k.ld()); 1 !== e.dayOfWeek();)
                    e = e.addDays(1);
            } var n = e.addDays(t), i = {}; return i.start = e, i.end = n, i.days = t, i; }, this.dd = function () { for (var e = [], t = this.kd(), n = t.start, i = t.days, a = 0; a < i; a++) {
                var r = {};
                r.start = n.addDays(a);
                var o = k.sc().datePattern;
                b.headerDateFormat && (o = b.headerDateFormat), r.name = r.start.toString(o, k.sc()), r.html = r.name, e.push(r);
            } return e; }, this.ad = {}, this.cd = 0, this.md = function (e, t) { var n = {}; n.id = e.id, n.start = new DayPilot.Date(e.start || b.startDate).getDatePart(), n.name = e.name, n.html = e.html || e.name, n.toolTip = e.toolTip, n.backColor = e.backColor, n.areas = e.areas, n.level = t ? t.level + 1 : 0, n.parent = t, n.data = e, n.width = e.width; var i = !e.children || 0 === e.children.length; if (b.cd = Math.max(b.cd, n.level), "function" == typeof b.onColumnFilter && b.ad.params)
                if (i) {
                    var t = n.parent, a = {};
                    a.visible = !0, a.column = { "id": e.id, "name": e.name, "start": e.start, "data": e }, a.filter = b.ad.params, a.filterParam = a.filter, b.onColumnFilter(a), a.visible ? t && t.nd() : n.hidden = !0;
                }
                else
                    n.hidden = !0; return n.nd = function () { n.hidden = !1, n.parent && n.parent.nd(); }, n.od = function (e, t) { var n = []; if (e <= 1)
                return this.hidden || n.push(this), n; if (!this.children || 0 === this.children.length)
                return t ? this.hidden || n.push(this) : n.push("empty"), n; for (var i = 0; i < this.children.length; i++)
                for (var a = this.children[i], r = a.od(e - 1, t), o = 0; o < r.length; o++)
                    n.push(r[o]); return n; }, n.pd = function (e) { var t = 0; if (!this.children || this.children.length <= 0 || e <= 1) {
                return !this.hidden ? 1 : 0;
            } for (var n = 0; n < this.children.length; n++)
                t += this.children[n].pd(e - 1); return t; }, n.qd = function (e) { for (var t = 0; t < this.blocks.length; t++) {
                var n = this.blocks[t];
                if (n.rd(e.part.top, e.part.height))
                    return n.events.push(e), n.min = Math.min(n.min, e.part.top), n.max = Math.max(n.max, e.part.top + e.part.height), t;
            } var n = []; return n.lines = [], n.events = [], n.rd = function (e, t) { return !(e + t - 1 < this.min || e > this.max - 1); }, n.sd = function (e) { for (var t = 0; t < this.lines.length; t++) {
                var n = this.lines[t];
                if (n.td(e.part.top, e.part.height))
                    return n.push(e), t;
            } var n = []; return n.td = function (e, t) { for (var n = e + t - 1, i = this.length, a = 0; a < i; a++) {
                var r = this[a];
                if (!(n < r.part.top || e > r.part.top + r.part.height - 1))
                    return !1;
            } return !0; }, n.push(e), this.lines.push(n), this.lines.length - 1; }, n.events.push(e), n.min = e.part.top, n.max = e.part.top + e.part.height, this.blocks.push(n), this.blocks.length - 1; }, n.sd = function (e) { for (var t = 0; t < this.lines.length; t++) {
                var n = this.lines[t];
                if (n.td(e.part.top, e.part.height))
                    return n.push(e), t;
            } var n = []; return n.td = function (e, t) { for (var n = e + t - 1, i = this.length, a = 0; a < i; a++) {
                var r = this[a];
                if (!(n < r.part.top || e > r.part.top + r.part.height - 1))
                    return !1;
            } return !0; }, n.push(e), this.lines.push(n), this.lines.length - 1; }, n.wb = function () { return n.start.addHours(b.wb(!0)); }, n.ud = function () { var e = b.sb(!0); return n.wb().addTime(e); }, e.children && (n.children = this.ed(e.children, n)), n; }, this.ed = function (e, t) { var n = u(); return u(e).forEach(function (e) { var i = b.md(e, t); n.push(i); }), n; }, this.fd = function (e, t) { for (var n = this.$c() ? this.qb : this.Oa, i = u(), a = 0; a < n.length; a++)
                for (var r = n[a].od(e, t), o = 0; o < r.length; o++)
                    i.push(r[o]); return i; }, this.selectTimeRange = function (e, t, n, i) { if (e && t) {
                e = new DayPilot.Date(e), t = new DayPilot.Date(t);
                var a = b.vd(e, n, !0), r = b.vd(t, n);
                a && r && a.data.x === r.data.x && (v.ca = a, v.pc = a, v.da = r, b.ba = v.xd(r), v.oc = a.data.x, b.qc(), i || setTimeout(function () { b.dc(e, t, n); }, 0));
            } }, b.vd = function (e, t, n) { var i = b.qb, a = b.nav.main, r = "Resources" === b.viewType, o = i.find(function (n) { var i = !r || n.id === t, a = n.wb() <= e && e < n.ud(); return i && a; }); if (o) {
                var s = i.indexOf(o), l = function () { for (var t = 0; t < b.ja(); t++) {
                    var i = a.rows[t].cells[s];
                    if (i) {
                        var r = i.data, o = r.start <= e && e <= r.end;
                        if (n && (o = r.start <= e && e < r.end), o)
                            return i;
                    }
                } return null; }();
                return l ? l : void 0;
            } }, this.yd = {};
            var y = this.yd;
            y.zd = function (e) { var i = e.div.firstChild, a = t(), r = a.style; r.position = "absolute", r.left = "2px", r.top = "2px", r.bottom = "2px", r.width = "15px", r.opacity = "0.5", r.cursor = "move", r.display = "none", a.className = b.K("_colmove_handle"), n(i, "mouseenter", function (e) { y.Jb || w.Jb || (r.display = ""); }), n(i, "mouseleave", function (e) { r.display = "none"; }), a.onmousedown = function (t) { y.Ad(t, e); }, i.$ || (i.$ = {}), i.$.Bd = function () { r.display = "none"; }, i.$.Cd = function () { r.display = ""; }, i.appendChild(a); }, y.Ad = function (e, t) { var n = b.nav.header, i = {}; i.Dd = t, i.Ed = n.style.cursor; var a = t.div; y.Jb = i, h.colMoving = y, a.$ && a.$.Fd && a.$.Fd(), r(a, b.K("_colmove_source")), n.style.cursor = "move"; }, y.Gd = function (e) { var t = [], n = e.parent; return n && (t.push(n.data), t = t.concat(y.Gd(n))), t; }, y.Hd = function () { function e() { o(y.Jb.Dd.div, b.K("_colmove_source")), t && (t.style.cursor = n.Ed), a && a.remove(), y.Jb = null; } if (!y.Jb.target)
                return void e(); var t = b.nav.header, n = y.Jb, i = n.position, a = n.div, r = y.Jb.Dd.column, s = r.data, l = r.parent, d = n.target, c = d.data, u = d.parent, h = u ? u.data.children : b.Ua(), f = l ? l.data.children : b.Ua(); if (y.Gd(d).includes(s))
                return void e(); if (c === s)
                return void e(); if ("forbidden" === i)
                return void e(); var v = {}; if (v.source = b.Gb(r), v.target = b.Gb(d), v.position = i, v.preventDefault = function () { v.preventDefault.value = !0; }, "function" == typeof b.onColumnMove && (b.onColumnMove(v), v.preventDefault.value))
                return void e(); if (k.Id("Update")) {
                DayPilot.rfa(f, s);
                var p = h.indexOf(c);
                if ("child" === i) {
                    var m = c.children || [];
                    m.push(s), c.children = m;
                }
                else
                    "before" === i ? h.splice(p, 0, s) : "after" === i && h.splice(p + 1, 0, s);
                b.bd();
            } "function" == typeof b.onColumnMoved && b.onColumnMoved(v), e(); }, y.Kb = function (e, n) { var i, a = 12, r = 12, o = n.data, s = b.columnMoveSameLevelOnly, l = y.Jb.div, d = y.Jb.Dd.column; l ? i = l.style : (l = t(), i = l.style, i.position = "absolute", i.width = "12px", i.height = "12px", i.top = "0px", y.Jb.div = l); var c = n.getBoundingClientRect(), u = c.width, h = c.height, f = DayPilot.mo3(n, e), v = o.children || [], p = v.length, m = 0 === p ? .25 : .5, g = null, w = y.Gd(n.data); l.className = ""; var x = !1; d === o && (x = !0), s && (m = .5), w.includes(d.data) ? g = "forbidden" : x ? g = "forbidden" : f.x < u * m ? g = "before" : f.x > u * (1 - m) ? g = "after" : 0 == p && (g = "child"), s && d.level !== o.level && (g = "forbidden"); var k = {}; k.position = g, k.source = b.Gb(d), k.target = b.Gb(n.data), "function" == typeof b.onColumnMoving && b.onColumnMoving(k), g = k.position, "forbidden" === g ? (i.left = .5 * u - 6 + "px", i.top = h / 2 - 2 + "px", l.className = b.K("_colmove_position_forbidden")) : "before" === g ? (i.left = "0px", i.top = .5 * h - 6 + "px", l.className = b.K("_colmove_position_before")) : "after" === g ? (i.left = u - a - 1 + "px", i.top = .5 * h - 6 + "px", l.className = b.K("_colmove_position_after")) : "child" === g && (i.left = .5 * u - 6 + "px", i.top = h - r - 1 + "px", l.className = b.K("_colmove_position_child")), l.parentNode !== n && (l.remove(), n.appendChild(l)), y.Jb.target = o, y.Jb.position = g; }, this.Jd = {};
            var w = this.Jd;
            w.Kd = function (e) { var i = e.div.firstChild, a = t(), r = a.style; r.position = "absolute", r.right = "0px", r.top = "0px", r.bottom = "0px", r.width = "4px", r.cursor = "e-resize", r.display = "none", a.className = b.K("_colheader_splitter"), n(i, "mouseenter", function (e) { y.Jb || w.Jb || (r.display = ""); }), n(i, "mouseleave", function (e) { w.Jb || (r.display = "none"); }), a.onmousedown = function (t) { w.Ld(t, e); }, i.$ || (i.$ = {}), i.$.Fd = function () { r.display = "none"; }, i.appendChild(a); }, w.Ld = function (e, t) { var n = DayPilot.mo3(b.nav.header, e), i = t.column, a = t.div.firstChild, r = {}; if (r.Md = n.x, r.Dd = t, r.Nd = t.x, r.Od = t.column, a.$ && a.$.Bd && a.$.Bd(), t.y !== k.gd() - 1) {
                var o = i.od(k.gd() - t.y, !0), s = o[o.length - 1];
                s && (r.Nd = b.qb.indexOf(s));
            } w.Jb = r, h.colResizing = w; }, w.Dc = function (e, t) { function n() { for (var e = 0, t = h + 1; t < a.length; t++)
                e += a[t].width || D; return e; } function i() { for (var e = n(), t = 0, i = h + 1; i < a.length; i++) {
                var r = a[i], o = r.width || D, s = o / e;
                r.width = o - g * s, r.width < 1 && (t += 1 - r.width, r.width = 1);
            } x -= t, y += t, f = y * p; } var a = b.qb, r = DayPilot.mo3(b.nav.header, t), o = w.Jb.Od, s = r.x - w.Jb.Md, l = w.Jb.Dd.y, d = l !== k.gd() - 1, c = "Fixed" === b.columnWidthSpec, u = b.columnWidthMin, h = w.Jb.Nd, f = 0, v = b.nav.main.clientWidth, p = v / 100, m = u / p, g = s / p, y = 0, x = 0; if (d) {
                var C = o.od(k.gd() - l, !0), D = c ? b.columnWidth : 100 / a.length, S = C.reduce(function (e, t) { return e + (t.width || D); }, 0), _ = c ? S + s : S + g, E = _ / S, T = 0;
                if (C.forEach(function (e, t) { var n = t === C.length - 1, i = e.width || D, a = i * E, r = Math.round(a); c && (T += a - r, a = r), a < u && (f += a - u, a = u), e.width = a, n && (e.width += T); }), !c) {
                    i();
                    var A = x, H = C.reduce(function (e, t) { return e + t.width || D; }, 0);
                    C.forEach(function (e) { var t = e.width || D, n = t / H; e.width = t + A * n; });
                }
            }
            else {
                var M = b.ia()[h].width, o = a[h];
                c ? (x = M + s, x < u && (f = x - u, x = u)) : (x = o.width + g, x < m && (y = x - m, g = m - o.width, x = m), x = Math.max(x, 1), i()), o.width = x;
            } w.Jb.Md = r.x - f, b.jd(), b.la(), w.Pd(); }, w.Qd = function () { var e = b.qb, t = w.Jb.Dd.div.firstChild, n = w.Jb.Od; t.$ && t.$.Cd && t.$.Cd(), w.Jb = null; var i = {}; return i.column = b.Gb(n), i.newWidth = n.width, i.preventDefault = function () { i.preventDefault.value = !0; }, "function" == typeof b.onColumnResize && b.onColumnResize(i), i.preventDefault.value ? void b.update() : (k.Rd("Update") && e.forEach(function (e) { e.data.width = e.width; }), void ("function" == typeof b.onColumnResized && b.onColumnResized(i))); }, w.Pd = function () { var e = b.ia(), t = "Fixed" === b.columnWidthSpec, n = b.nav.header, i = b.nav.main, a = b.nav.events, r = b.nav.unifiedCornerRight; n.rows.forEach(function (e, t) { if (t !== k.gd() - 1) {
                var n = b.Sd(t);
                e.cells.forEach(function (e, t) { var i = n[t]; e.style.left = i.left + i.unit, e.style.width = i.width + i.unit; });
            } }); for (var o = k.gd() - 1, s = 0; s < b.qb.length; s++) {
                var l = e[s], d = n.rows[o].cells[s];
                d.style.left = l.left + l.unit, d.style.width = l.width + l.unit, t && (d.firstChild.style.width = l.width + l.unit);
            } if (i.rows.forEach(function (n) { n.cells.forEach(function (n, i) { var a = e[i].width + e[i].unit, r = e[i].left + e[i].unit; n.style.width !== a && (n.style.width = a, t && (n.firstChild.style.width = a)), n.style.left !== r && (n.style.left = r); }); }), a.rows[0].cells.forEach(function (n, i) { var a = e[i].width + e[i].unit, r = e[i].left + e[i].unit; n.style.width !== a && (n.style.width = a, t && (n.firstChild.style.width = a)), n.style.left !== r && (n.style.left = r); }), t) {
                var c = e[e.length - 1], u = c.left + c.width;
                r.style.left = u + "px", i.style.width = u + "px";
            } }, this.jd = function () { if ("Fixed" !== b.columnWidthSpec) {
                var e = b.qb, t = 100 / e.length, n = e.reduce(function (e, n) { return e + (n.width || t); }, 0), i = n / 100;
                e.forEach(function (n, a) { var r = (e.length - 1, n.width || t); n.width = r / i; });
            } }, this.jb = function () { if (this.showAllDayEvents) {
                var e = this.nav.header;
                if (e) {
                    e.style.display = "none";
                    for (var n = this.qb.length, i = 0; i < this.Td.lines.length; i++)
                        for (var s = this.Td.lines[i], l = 0; l < s.length; l++) {
                            var c = s[l], u = c.cache || c.data, h = t();
                            h.event = c, h.setAttribute("unselectable", "on"), h.style.position = "absolute", b.rtl ? h.style.right = 100 * c.part.colStart / n + "%" : h.style.left = 100 * c.part.colStart / n + "%", h.style.width = 100 * c.part.colWidth / n + "%", h.style.height = k.Ud() + "px", h.className = this.K("_alldayevent"), h.style.top = k.gd() * k.Vd() + i * k.Ud() + "px", b.allDayEventTextWrappingEnabled || (h.style.whiteSpace = "nowrap"), u.cssClass && r(h, u.cssClass), h.style.textAlign = "left", h.style.lineHeight = "1.2", c.client.clickEnabled() && (h.onclick = this.Ab), c.client.doubleClickEnabled() && (h.ondblclick = this.Eb), c.client.clickEnabled() || c.client.doubleClickEnabled() ? h.style.cursor = "pointer" : h.style.cursor = "default", a(h, "contextmenu", this.Fb), h.onmousemove = function (e) { var t = this, n = t.event, i = n.cache || n.data; if (!t.active) {
                                var a = [];
                                n.client.deleteEnabled() && a.push({ "action": "JavaScript", "v": "Hover", "w": 17, "h": 17, "top": 3, "right": 3, "css": b.K("_event_delete"), "js": function (e) { b.Mb(e); } });
                                var o = i.areas;
                                o && o.length > 0 && (a = a.concat(o)), DayPilot.Areas.showAreas(t, n, null, a), r(t, b.K("_alldayevent_hover"));
                            } "undefined" != typeof DayPilot.Bubble && b.bubble && "Disabled" !== b.eventHoverHandling && b.bubble.showEvent(this.event); }, h.onmouseout = function (e) { o(this, b.K("_alldayevent_hover")), DayPilot.Areas.hideAreas(this, e), b.bubble && b.bubble.hideOnMouseOut(); }, this.showToolTip && !this.bubble && h.setAttribute("title", c.client.toolTip());
                            var f = c.start().getTime() === c.part.start.getTime(), v = c.end().getTime() === c.part.end.getTime(), p = u.backColor, m = t();
                            if (m.setAttribute("unselectable", "on"), m.className = this.K("_alldayevent_inner"), p && (m.style.background = p), u.fontColor && (m.style.color = u.fontColor), "darker" === u.borderColor && u.backColor ? m.style.borderColor = DayPilot.ColorUtil.darker(u.backColor, 2) : m.style.borderColor = u.borderColor, b.rtl ? (f || r(h, this.K("_alldayevent_continueright")), v || r(h, this.K("_alldayevent_continueleft"))) : (f || r(h, this.K("_alldayevent_continueleft")), v || r(h, this.K("_alldayevent_continueright"))), h.appendChild(m), DayPilot.isArray(u.areas) && u.areas.filter(function (e) { return DayPilot.Areas.isVisible(e); }).forEach(function (e) { var t = DayPilot.Areas.createArea(h, c, e); h.appendChild(t); }), b.nb()) {
                                if ("function" == typeof b.onAfterEventRender) {
                                    var g = {};
                                    g.e = h.event, g.div = h, b.onAfterEventRender(g);
                                }
                            }
                            else
                                b.afterEventRender && b.afterEventRender(h.event, h);
                            !function () { var e = {}; if (e.control = b, e.e = c, e.element = null, h.domArgs = e, "function" == typeof b.onBeforeEventDomAdd && b.onBeforeEventDomAdd(e), e.element) {
                                var t = m;
                                if (t) {
                                    e.Wd = t;
                                    d(e.element) ? (b.F.Xd(), b.F.E(e.element, t)) : t.appendChild(e.element);
                                }
                            }
                            else
                                m.innerHTML = c.client.innerHTML(); }(), this.nav.allday.appendChild(h), this.elements.events.push(h);
                        }
                    e.style.display = "";
                }
            } }, this.Aa = function (e) { if (b.multiselect.Yc(), this.elements.events)
                for (var t = 0; t < this.elements.events.length; t++) {
                    var n = this.elements.events[t], i = n.event;
                    i && e && !i.allday() || b.Yd(n);
                } this.elements.events = []; }, this.Yd = function (e) { var t = e.event, n = e.domArgs; if (e.domArgs = null, n && "function" == typeof b.onBeforeEventDomRemove && b.onBeforeEventDomRemove(n), n && "function" == typeof b.onBeforeEventDomAdd && b.F.reactDOM) {
                var i = n && n.Wd;
                if (i) {
                    d(n.element) && (b.F.Xd(), b.F.N(i));
                }
            } if (t && (t.div = null, t.root = null, t.rendered = !1), e.onclick = null, e.onclickSave = null, e.ondblclick = null, e.oncontextmenu = null, e.onmouseover = null, e.onmouseout = null, e.onmousemove = null, e.onmousedown = null, e.firstChild && e.firstChild.firstChild && e.firstChild.firstChild.tagName && "IMG" === e.firstChild.firstChild.tagName.toUpperCase()) {
                var a = e.firstChild.firstChild;
                a.onmousedown = null, a.onmousemove = null, a.onclick = null;
            } e !== h.moving && (e.helper = null, e.event = null), f(e); }, this.Zd = function (e) { if (e.isAllDay())
                return !0; var t = b.ka(e.part.dayIndex), n = this.fa(), i = n.pixels.left, a = n.pixels.right, r = n.pixels.top, o = n.pixels.bottom, s = e.part.width / 100 * t.width, l = e.part.left + t.left, d = l + s, c = e.part.top - this.wc(), u = c + e.part.height, h = a <= l || i >= d, f = o <= c || r >= u; return !h && !f; }, this.$d = function (e) { var o = this.nav.events, s = e.cache || e.data; if (!e.rendered) {
                var l = b.multiselect.Rc(e), c = b.Zd(e), u = "Progressive" === b.dynamicEventRendering && "Fixed" === b.columnWidthSpec;
                if (l || !u || c) {
                    var h = t();
                    h.setAttribute("unselectable", "on"), h.style.MozUserSelect = "none", h.style.KhtmlUserSelect = "none", h.style.WebkitUserSelect = "none", h.style.position = "absolute", h.className = this.K("_event"), h.style.left = e.part.left + "%", h.style.top = e.part.top - this.wc() + "px", h.style.width = e.part.width + "%", h.style.height = Math.max(e.part.height, 2) + "px", h.style.overflow = "hidden", h.isFirst = e.part.start.getTime() === e.start().getTime(), h.isLast = e.part.end.getTime() === e.end().getTime(), e.client.clickEnabled() && (h.onclick = this.Ab), e.client.doubleClickEnabled() && (h.ondblclick = this.Eb), a(h, "contextmenu", this.Fb), h.onmousemove = this._d, h.onmouseout = this.ae, h.onmousedown = this.be, i(h, DayPilot.touch.start, this.ce.onEventTouchStart), n(h, DayPilot.touch.move, this.ce.onEventTouchMove), n(h, DayPilot.touch.end, this.ce.onEventTouchEnd), s.cssClass && r(h, s.cssClass), this.showToolTip && !this.bubble && h.setAttribute("title", e.client.toolTip());
                    var f = t();
                    if (f.setAttribute("unselectable", "on"), f.className = b.K("_event_inner"), s.fontColor && (f.style.color = s.fontColor), s.backColor && (f.style.background = s.backColor), s.borderColor && ("darker" === s.borderColor && s.backColor ? f.style.borderColor = DayPilot.ColorUtil.darker(s.backColor, 2) : f.style.borderColor = s.borderColor), s.backgroundImage && (f.style.backgroundImage = "url(" + s.backgroundImage + ")", s.backgroundRepeat && (f.style.backgroundRepeat = s.backgroundRepeat)), h.appendChild(f), e.client.barVisible()) {
                        var v = e.part.height - 2, p = 100 * e.part.barTop / v, m = Math.ceil(100 * e.part.barHeight / v), g = t();
                        g.setAttribute("unselectable", "on"), g.className = this.K("_event_bar"), g.style.position = "absolute", s.barBackColor && (g.style.backgroundColor = s.barBackColor);
                        var y = t();
                        y.setAttribute("unselectable", "on"), y.className = this.K("_event_bar_inner"), y.style.top = p + "%", 0 < m && m <= 1 ? y.style.height = "1px" : y.style.height = m + "%", s.barColor && (y.style.backgroundColor = s.barColor), g.appendChild(y), h.appendChild(g);
                    }
                    var w = s.areas ? DayPilot.Areas.copy(s.areas) : [], x = b.qb[e.part.dayIndex];
                    if (w.forEach(function (t) { t.start && (t.top = b.vc(new DayPilot.Date(t.start), x.start).top - e.part.top - b.wc()), t.end && (t.bottom = e.part.top + e.part.height - b.vc(new DayPilot.Date(t.end), x.start).top - b.wc()); }), e.client.deleteEnabled() && w.push({ "action": "JavaScript", "v": "Hover", "w": 17, "h": 17, "top": 2, "right": 2, "css": b.K("_event_delete"), "js": function (e) { b.Mb(e); } }), DayPilot.Areas.attach(h, e, { "areas": w }), function () { var t = {}; if (t.control = b, t.e = e, t.element = null, h.domArgs = t, "function" == typeof b.onBeforeEventDomAdd && b.onBeforeEventDomAdd(t), t.element) {
                        var n = f;
                        if (n) {
                            t.Wd = n;
                            d(t.element) ? (b.F.Xd(), b.F.E(t.element, n)) : n.appendChild(t.element);
                        }
                    }
                    else
                        f.innerHTML = e.client.innerHTML(); }(), o.rows[0].cells[e.part.dayIndex]) {
                        if (o.rows[0].cells[e.part.dayIndex].events.appendChild(h), b.ee(h), h.event = e, b.multiselect.Rc(e) && b.multiselect.add(h.event, !0), e.rendered = !0, b.nb()) {
                            if ("function" == typeof b.onAfterEventRender) {
                                var k = {};
                                k.e = h.event, k.div = h, b.onAfterEventRender(k);
                            }
                        }
                        else
                            b.afterEventRender && b.afterEventRender(h.event, h);
                        b.elements.events.push(h);
                    }
                }
            } }, this.ee = function (e) { for (var t = e && e.childNodes ? e.childNodes.length : 0, n = 0; n < t; n++)
                try {
                    var i = e.childNodes[n];
                    1 === i.nodeType && (i.setAttribute("unselectable", "on"), this.ee(i));
                }
                catch (e) { } }, this.ib = function () { for (var e = new Date, t = 0; t < this.qb.length; t++) {
                var n = this.qb[t];
                if (n.blocks)
                    for (var i = 0; i < n.blocks.length; i++)
                        for (var a = n.blocks[i], r = 0; r < a.lines.length; r++)
                            for (var o = a.lines[r], s = 0; s < o.length; s++) {
                                var l = o[s];
                                if (l.part.width = 100 / a.lines.length, l.part.left = l.part.width * r, "Cascade" === this.eventArrangement) {
                                    var d = r === a.lines.length - 1;
                                    d || (l.part.width = 1.5 * l.part.width);
                                }
                                "Full" === this.eventArrangement && (l.part.left = l.part.left / 2, l.part.width = 100 - l.part.left), l.allday() || this.$d(l);
                            }
            } this.multiselect.redraw(); var c = new Date; c.getTime() - e.getTime(); }, this.Ic = function () { b.elements.events.forEach(function (e) { e.event && !b.Zd(e.event) && b.Yd(e); }), b.V.fe.forEach(function (e) { b.$d(e); }), b.elements.events = b.elements.events.filter(function (e) { return !!e.event; }); }, this.Kc = function () { if (b.qb && 0 !== b.qb.length) {
                for (var e = b.fa(), t = e.xStart; t <= e.xEnd; t++)
                    for (var n = e.yStart; n <= e.yEnd; n++)
                        b.ge(t, n);
                b.je();
            } }, b.je = function () { for (var e = b.fa(), t = this.ja(), n = b.qb.length, i = 0; i < n; i++) {
                var a = !0;
                e.xStart <= i && i <= e.xEnd && (a = !1);
                for (var r = 0; r < t; r++) {
                    var o = !0;
                    e.yStart <= r && r <= e.yEnd && (o = !1);
                    var s = b.elements.cells[i + "_" + r];
                    s && (o || a) && (s.remove(), b.elements.cells[i + "_" + r] = null);
                }
            } }, this.ke = function () { this.multiselect.hc = []; for (var e = 0; e < this.qb.length; e++)
                for (var t = this.qb[e], n = 0; n < t.lines.length; n++)
                    for (var i = t.lines[n], a = 0; a < i.length; a++) {
                        var r = i[a];
                        r.part.width = 100 / t.lines.length, r.part.left = r.Width * n, r.allday() || this.$d(r);
                    } }, this.K = function (e) { var t = this.theme || this.cssClassPrefix; return t ? t + e : ""; }, this.le = function () { switch (b._) {
                case "aspnet":
                    if (!this.xa())
                        throw new DayPilot.Exception("ASP.NET WebForms environment required. https://doc.daypilot.org/common/asp-net-webforms-required/");
                    break;
                case "netmvc":
                    if (!this.backendUrl)
                        throw new DayPilot.Exception("DayPilot.Scheduler.backendUrl required. https://doc.daypilot.org/common/backendurl-required-asp-net-mvc/");
                    break;
                case "javaxx": if (!this.backendUrl)
                    throw new DayPilot.Exception("DayPilot.Scheduler.backendUrl required. https://doc.daypilot.org/common/backendurl-required-java/");
            } }, this.hb = function () { "hidden" === this.nav.top.style.visibility && (this.nav.top.style.visibility = "visible"); }, this.me = function () { var e = this.xb() + this.ne(); return b.debug.message("Getting totalHeight, headerHeight: " + this.xb() + " scrollable: " + this.ne()), e < 0 ? 0 : e; }, this.Fa = function () { b.Ka(); }, this.oe = function () { var e = this.nav.top; e.dp = this, e.innerHTML = "", e.style.MozUserSelect = "none", e.style.KhtmlUserSelect = "none", e.style.WebkitUserSelect = "none", e.style.WebkitTapHighlightColor = "rgba(0,0,0,0)", e.style.WebkitTouchCallout = "none", e.style.position = "relative", this.width && (e.style.width = this.width), this.rtl && (e.style.direction = "rtl"), "Parent100Pct" === this.heightSpec ? e.style.height = "100%" : e.style.height = this.me() + "px", this.hideUntilInit && (e.style.visibility = "hidden"), this.visible || (e.style.display = "none"), e.addEventListener("mouseleave", b.Fa); var n = t(); if (this.nav.scroll = n, n.style.height = this.ne() + "px", r(e, this.K("_main")), b.rtl && r(e, this.K("_direction_rtl")), n.style.position = "relative", this.showHeader) {
                var i = this.pe();
                e.appendChild(i);
            } n.style.zoom = 1, n.style.position = "absolute", n.style.left = "0px", n.style.right = "0px", n.style.top = this.xb() + "px", n.className = b.K("_scroll"); var a = this.qe(); this.nav.scrollable = a.firstChild, n.appendChild(a), e.appendChild(this.nav.scroll), this.nav.vsph = t(), this.nav.vsph.style.display = "none", this.nav.top.appendChild(this.nav.vsph), this.nav.scrollpos = document.createElement("input"), this.nav.scrollpos.type = "hidden", this.nav.scrollpos.id = b.id + "_scrollpos", this.nav.scrollpos.name = this.nav.scrollpos.id, e.appendChild(this.nav.scrollpos), this.nav.select = document.createElement("input"), this.nav.select.type = "hidden", this.nav.select.id = b.id + "_select", this.nav.select.name = this.nav.select.id, this.nav.select.value = null, e.appendChild(this.nav.select), this.nav.scrollLayer = t(), this.nav.scrollLayer.style.position = "absolute", this.nav.scrollLayer.style.top = "0px", this.nav.scrollLayer.style.left = "0px", e.appendChild(this.nav.scrollLayer), this.nav.scrollUp = [], this.nav.scrollDown = []; var o = t(); o.style.position = "absolute", o.style.top = "0px", o.style.left = this.hourWidth + 5 + "px", o.className = b.K("_loading"), o.innerHTML = b.ma(this.loadingLabelText, this.loadingLabelHtml), o.style.display = "none", this.nav.loading = o, e.appendChild(o); }, this.se = function () { for (var e = "Fixed" === this.columnWidthSpec, t = this.nav.header && this.nav.header.rows[this.nav.header.rows.length - 1], n = this.nav.events.rows[0], i = 0; i < b.qb.length; i++) {
                var a = t && t.cells[i], r = n.cells[i], o = a && a.firstChild, s = b.qb[i];
                if (e) {
                    var l = s.width ? s.width : b.columnWidth;
                    o && (o.style.width = l + "px"), r && (r.style.width = l + "px");
                }
                else
                    b.T || (o && (o.style.width = null), r && (r.style.width = null));
            } }, this.yb = function () { return this.S ? b.nav.bottomRight : b.nav.scroll; }, this.fb = function () { var e = "Fixed" === this.columnWidthSpec; if (!e) {
                var t = b.yb();
                "Fixed" === this.heightSpec ? t.style.overflowY = "scroll" : "BusinessHours" === this.heightSpec && this.rb() <= this.businessEndsHour - this.businessBeginsHour ? t.style.overflow = "hidden" : "Full" !== this.heightSpec && "BusinessHoursNoScroll" !== this.heightSpec ? t.style.overflow = "auto" : t.style.overflow = "hidden";
            } if (e) {
                var n = 0, i = b.te();
                i > b.ga().clientWidth && (n = DayPilot.sw(b.nav.bottomRight)), b.nav.headerParent && (b.nav.headerParent.style.width = i + n + "px"), b.nav.main.style.width = i + "px", b.nav.events.style.width = i + "px", b.nav.crosshair.style.width = i + "px";
            }
            else
                b.nav.headerParent && (b.nav.headerParent.style.width = "100%"), b.nav.main.style.width = "100%", b.nav.events.style.width = "100%", b.nav.crosshair.style.width = "100%"; this.se(); }, this.cb = function () { this.U ? this.Ba() : DayPilot.pu(this.nav.hourTable), this.nav.hoursPlaceholder && (this.nav.hoursPlaceholder.innerHTML = "", this.nav.hourTable = this.ve(), this.nav.hoursPlaceholder.appendChild(this.nav.hourTable)); }, this.Ba = function () {
                if (this.nav.hourTable) {
                    b.elements.timeHeaders.forEach(function (e) {
                        var t = e.domArgs;
                        if (e.domArgs = null, "function" == typeof b.onBeforeTimeHeaderDomRemove && b.onBeforeTimeHeaderDomRemove(t), "function" == typeof b.onBeforeTimeHeaderDomAdd && b.F.reactDOM) {
                            var n = t && t.Wd;
                            if (n) {
                                d(t.element) && (b.F.Xd(), b.F.N(n));
                            }
                        }
                    });
                    for (var e = 0; e < this.nav.hourTable.rows.length; e++) {
                        var t = this.nav.hourTable.rows[e], n = t.cells[0].firstChild;
                        n.data = null, n.onmousemove = null, n.onmouseout = null;
                    }
                    b.elements.timeHeaders = [];
                }
            }, this.qe = function () { var e = t(); e.style.zoom = 1, e.style.position = "relative", e.onmousemove = this.we, e.oncontextmenu = this.xe, i(e, DayPilot.touch.start, this.ce.ye), i(e, DayPilot.touch.move, this.ce.ze), i(e, DayPilot.touch.end, this.ce.Ae), a(e, "contextmenu", function (e) { var e = e || window.event; e.preventDefault ? e.preventDefault() : e.returnValue = !1; }), navigator.msPointerEnabled && (e.style.msTouchAction = "none", e.style.touchAction = "none"), e.daypilotMainD = !0, e.calendar = this; var n = null, r = null; if (this.showHours) {
                var o = t();
                o.style.cssFloat = "left", b.rtl && (o.style.cssFloat = "right"), o.style.width = this.hourWidth + "px", o.style.height = this.ne() + "px", o.style.overflow = "hidden", o.style.position = "relative", e.appendChild(o), n = o;
                var s = 30, l = b.ha() + s;
                r = t(), r.style.height = l + "px", o.appendChild(r);
            } var d = t(); d.style.height = this.ne() + "px", this.showHours && (b.rtl ? d.style.marginRight = this.hourWidth + "px" : d.style.marginLeft = this.hourWidth + "px"), d.style.position = "relative", d.style.overflow = "auto", e.appendChild(d), r && (this.nav.hourTable = this.ve(), r.appendChild(this.nav.hourTable)); var c = t(); c.style.height = "0px", c.style.position = "relative", c.appendChild(this.Be()); var u = t(); return u.style.position = "absolute", u.style.top = "0px", u.style.left = "0px", u.style.width = "100%", u.style.height = "0px", c.appendChild(u), this.nav.crosshair = u, c.appendChild(this.Ce()), d.appendChild(c), this.nav.grid = c, this.nav.zoom = e, this.nav.bottomLeft = n, this.nav.bottomRight = d, this.nav.hoursPlaceholder = r, e; }, this.Be = function () { if (b.T) {
                var e = t();
                return b.nav.main = e, e;
            } var n = document.createElement("table"); return n.cellPadding = "0", n.cellSpacing = "0", n.border = "0", "Fixed" === this.columnWidthSpec || (n.style.width = "100%"), n.style.border = "0px none", n.style.margin = "0px", n.style.tableLayout = "fixed", this.nav.main = n, n; }, this.De = function () { return "Fixed" === this.columnWidthSpec ? b.te() + "px" : "100%"; }, this.te = function () { for (var e = 0, t = 0; t < b.qb.length; t++) {
                var n = b.qb[t];
                e += n.width ? n.width : b.columnWidth;
            } return e; }, this.Ce = function () { if (b.T) {
                var e = t();
                return e.style.userSelect = "none", e.style.position = "absolute", e.style.left = "0px", e.style.right = "0px", e.style.top = "0px", e.style.height = "0px", b.nav.events = e, e;
            } var n = document.createElement("table"); n.style.position = "absolute", n.style.top = "0px", n.cellPadding = "0", n.cellSpacing = "0", n.border = "0", n.style.width = b.De(), n.style.border = "0px none", n.style.margin = "0px", n.style.tableLayout = "fixed", this.nav.events = n; for (var i = this.qb, a = i.length, r = n.insertRow(-1), o = 0; o < a; o++) {
                var s = r.insertCell(-1);
                s.style.padding = "0px", s.style.border = "0px none", s.style.height = "0px", s.style.overflow = "visible", b.rtl || (s.style.textAlign = "left"), b.Ee(s);
            } return n; }, this.Fe = function () { var e = document.createElement("table"); e.cellSpacing = "0", e.cellPadding = "0", e.border = "0", e.style.margin = "0px", e.style.border = "0px none", e.style.width = this.hourWidth + "px", e.oncontextmenu = function () { return !1; }, e.onmousemove = function () { b.La(); }; for (var t = b.Ge(), n = 0; n < t; n++)
                this.He(e, n); return e; }, this.ve = function () { var e = t(); e.style.width = this.hourWidth + "px", e.style.position = "relative", e.oncontextmenu = function () { return !1; }, e.onmousemove = function () { b.La(); }, e.rows = []; for (var n = b.Ge(), i = 0; i < n; i++)
                this.Ie(e, i); return e; }, this.Ge = function () { return this.sb() / (60 * this.timeHeaderCellDuration * 1e3); }, this.Je = function () { return 60 * this.cellHeight / this.cellDuration / (60 / this.timeHeaderCellDuration); }, this.Ke = function () { return (this.wb() - this.wb(!0)) * (60 / this.cellDuration); }, this.Le = function () { return this.wb() - this.wb(!0); }, this.wc = function () { return this.Ke() * this.cellHeight; }, this.He = function (e, n) { var i = b.Je(), a = e.insertRow(-1); a.style.height = i + "px"; var r = a.insertCell(-1); r.valign = "bottom", r.setAttribute("unselectable", "on"), r.style.padding = "0px", r.style.border = "0px none"; var o = t(); o.className = this.K("_rowheader"), o.style.position = "relative", o.style.width = this.hourWidth + "px", o.style.height = i + "px", o.style.overflow = "hidden", o.setAttribute("unselectable", "on"); var s = t(); s.className = this.K("_rowheader_inner"), s.setAttribute("unselectable", "on"); var l = b.Me(n), c = l.html, u = l.data; u && (o.data = u, o.onmousemove = b.Ne, o.onmouseout = b.Oe); var h = null, f = {}; if (f.header = u, "function" == typeof b.onBeforeTimeHeaderDomAdd && (f.element = null, b.onBeforeTimeHeaderDomAdd(f), h = f.element), o.domArgs = f, h) {
                var v = s;
                f.Wd = v;
                d(h) ? (b.F.Xd(), b.F.E(h, v)) : v.appendChild(h);
            }
            else
                s.innerHTML = c; o.appendChild(s), b.elements.timeHeaders.push(o), r.appendChild(o); }, this.Ie = function (e, n) { var i = b.Je(), a = t(); a.style.position = "absolute", a.style.top = n * i + "px", a.style.height = i + "px", e.rows[n] = a; var r = t(); a.appendChild(r), a.cells = [r]; var o = t(); o.className = this.K("_rowheader"), o.style.position = "relative", o.style.width = this.hourWidth + "px", o.style.height = i + "px", o.style.overflow = "hidden", o.setAttribute("unselectable", "on"); var s = t(); s.className = this.K("_rowheader_inner"), s.setAttribute("unselectable", "on"); var l = b.Me(n), c = l.html, u = l.data; u && (o.data = u, o.onmousemove = b.Ne, o.onmouseout = b.Oe); var h = null, f = {}; if (f.header = u, "function" == typeof b.onBeforeTimeHeaderDomAdd && (f.element = null, b.onBeforeTimeHeaderDomAdd(f), h = f.element), o.domArgs = f, h) {
                var v = s;
                f.Wd = v;
                d(h) ? (b.F.Xd(), b.F.E(h, v)) : v.appendChild(h);
            }
            else
                s.innerHTML = c; o.appendChild(s), b.elements.timeHeaders.push(o), r.appendChild(o), e.appendChild(a); }, this.Me = function (e) { var n, i; if (this.hours) {
                var a = e + this.Le();
                i = this.hours[a], n = i.html;
            } var r, o = this.timeHeaderCellDuration, s = this.startDate.addMinutes(o * e + 60 * this.wb()), l = s.getHours(), d = l < 12; if (r = "Clock12Hours" === this.oa.rc() ? d ? "AM" : "PM" : "00", !n) {
                var c = t();
                if (c.setAttribute("unselectable", "on"), "Clock12Hours" === this.oa.rc() && (l %= 12, 0 === l && (l = 12)), 60 !== this.timeHeaderCellDuration && (l += ":" + s.toString("mm")), c.innerHTML = l, 60 === this.timeHeaderCellDuration) {
                    var u = document.createElement("span");
                    u.setAttribute("unselectable", "on"), u.className = this.K("_rowheader_minutes"), u.innerHTML = r, c.appendChild(u);
                }
                n = c.outerHTML;
            } var h = {}; h.header = {}, h.header.hours = s.getHours(), h.header.minutes = s.getMinutes(), h.header.start = s.toString("HH:mm"), h.header.text = null, h.header.html = n, h.header.areas = i ? i.areas : null, h.header.time = new DayPilot.Duration(s.getTimePart()), "function" == typeof b.onBeforeTimeHeaderRender && (b.onBeforeTimeHeaderRender(h), null !== h.header.html && (n = h.header.html)), i = h.header; var f = {}; return f.start = s, f.hour = l, f.html = n, f.data = i, f.sup = r, h.header.text && (f.text = h.header.text), f; }, this.Ne = function (e) { b.La(); var t = this; t.active || DayPilot.Areas.showAreas(t, t.data); }, this.Oe = function (e) { DayPilot.Areas.hideAreas(this, e); }, this.ne = function () { switch (this.heightSpec) {
                case "Fixed": return this.height;
                case "Parent100Pct": return this.height;
                case "Full": return this.ha();
                case "BusinessHours":
                case "BusinessHoursNoScroll": return this.tb() * this.cellHeight * 60 / this.cellDuration;
                default: throw new DayPilot.Exception("DayPilot.Calendar: Unexpected 'heightSpec' value.");
            } }, this.ha = function () { return b.sb() * this.cellHeight / (6e4 * b.cellDuration); }, this.xb = function () { if (!this.showHeader)
                return 0; var e = k.gd() * k.Vd(); return this.showAllDayEvents && k.Pe() ? e + k.Pe() : e; }, this.$a = function () { if (this.headerHeightAutoFit) {
                for (var e = 0, t = 0; t < this.nav.header.rows.length; t++)
                    for (var n = this.nav.header.rows[t], i = 0; i < n.cells.length; i++) {
                        var a = n.cells[i], r = a.firstChild, o = r.firstChild, s = r.style.height;
                        r.style.height = "auto", o.style.position = "static";
                        var l = r.offsetHeight;
                        r.style.height = s, o.style.position = "", e = Math.max(e, l);
                    }
                e > this.headerHeight && (this.V.headerHeight = e, this.Ya(), this.Za());
            } }, this.Qe = function () { var e = this.S ? b.nav.bottomRight : b.nav.scroll; return DayPilot.sw(e) > 0; }, this.pe = function () { var e = t(), n = "Fixed" === this.columnWidthSpec; n || (e.style.overflow = "auto"), e.style.position = "absolute", e.style.left = "0px", e.style.right = "0px"; var i = t(); i.style.position = "relative", i.style.zoom = "1"; var a = null, n = "Fixed" === this.columnWidthSpec; if (n || this.S) {
                var r = t();
                if (r.style.cssFloat = "left", b.rtl && (r.style.cssFloat = "right"), r.style.width = this.hourWidth + "px", this.showHours) {
                    var o = this.Re();
                    this.nav.corner = o, r.appendChild(o), i.appendChild(r), this.nav.upperLeft = r;
                }
                var s = t();
                this.showHours && (b.rtl ? s.style.marginRight = this.hourWidth + "px" : s.style.marginLeft = this.hourWidth + "px"), s.style.position = "relative", s.style.overflow = "hidden", s.style.height = this.xb() + "px", s.className = b.K("_colheader_back"), s.onmousemove = function (e) { var t = this; "undefined" != typeof w && w.Jb && w.Dc(t, e); }, i.appendChild(s), this.nav.upperRight = s;
                var l = t();
                l.className = b.K("_colheader_back_inner"), s.appendChild(l), a = t(), a.style.position = "relative", s.appendChild(a);
            }
            else {
                var d = document.createElement("table");
                d.cellPadding = "0", d.cellSpacing = "0", d.border = "0", d.style.margin = "0px", d.style.width = "100%", d.style.borderCollapse = "separate", d.style.border = "0px none";
                var c = d.insertRow(-1);
                if (this.nav.fullHeader = d, this.showHours) {
                    var u = c.insertCell(-1);
                    u.style.padding = "0px", u.style.border = "0px none";
                    var o = this.Re();
                    u.appendChild(o), this.nav.corner = o;
                }
                u = c.insertCell(-1), u.style.width = "100%", u.valign = "top", u.style.position = "relative", u.style.padding = "0px", u.style.border = "0px none", a = t(), a.style.position = "relative", a.style.height = this.xb() + "px", a.style.overflow = "hidden", u.appendChild(a), this.nav.mid = a, i.appendChild(d);
            } this.nav.headerParent = a, this.nav.headerParent.onmousemove = function (e) { e.insideMainD = !0; }, this.Se(); var h = this.Qe(), n = "Fixed" === this.columnWidthSpec; return h && !n && this.Te(), e.appendChild(i), e; }, this.Se = function () { if (this.nav.unifiedCornerRight = null, b.T)
                this.nav.header = t(), this.nav.header.style.position = "relative";
            else {
                this.nav.header = document.createElement("table"), this.nav.header.style.margin = "0px", this.nav.header.cellPadding = "0", this.nav.header.cellSpacing = "0";
                "Fixed" === this.columnWidthSpec || (this.nav.header.width = "100%"), this.nav.header.style.tableLayout = "fixed", this.nav.header.oncontextmenu = function () { return !1; };
            } this.nav.header.setAttribute("dp-id", "header"), this.nav.headerParent.appendChild(this.nav.header), this.nav.header.onmousemove = function () { b.La(); }, this.nav.allday && f(this.nav.allday); var e = t(); e.style.position = "absolute", e.style.top = "0px", e.style.height = "0px", e.setAttribute("dp-id", "allday"), "Fixed" === this.columnWidthSpec ? e.style.width = this.qb.length * this.columnWidth + "px" : (e.style.left = "0px", e.style.right = "0px"), this.nav.allday = e, this.nav.headerParent.appendChild(e); }, this.Te = function () { if (this.nav.fullHeader) {
                var e = this.nav.fullHeader.rows[0], n = e.insertCell(-1);
                n.style.padding = "0px", n.style.verticalAlign = "top", n.setAttribute("unselectable", "on");
                var i = t();
                i.setAttribute("unselectable", "on"), i.className = this.K("_cornerright"), i.style.overflow = "hidden", i.style.position = "relative", i.style.width = "16px", i.style.height = this.xb() + "px";
                var a = t();
                a.className = this.K("_cornerright_inner"), i.appendChild(a), n.appendChild(i), this.nav.cornerRight = i;
            } }, this.Re = function () { var e = t(); e.style.position = "relative", e.className = this.K("_corner"), e.style.width = this.hourWidth + "px", e.style.height = this.xb() + "px", e.style.overflow = "hidden", e.oncontextmenu = function () { return !1; }; var n = t(); n.className = this.K("_corner_inner"), n.setAttribute("unselectable", "on"), e.appendChild(n); var i = t(); return i.style.position = "absolute", i.style.padding = "2px", i.style.top = "0px", i.style.left = "1px", i.style.backgroundColor = "#FF6600", i.style.color = "white", i.innerHTML = "\u0044\u0045" + "\u004D\u004F", i.setAttribute("unselectable", "on"), DayPilot.Util.isNullOrUndefined(undefined) && e.appendChild(i), e; }, this.Ea = function () { if (b.nav.corner && b.nav.corner.firstChild) {
                var e = b.nav.corner.firstChild, t = e.domArgs;
                if (e.domArgs = null, t && ("function" == typeof b.onBeforeCornerDomRemove && b.onBeforeCornerDomRemove(t), "function" == typeof b.onBeforeCornerDomAdd && b.F.reactDOM && e)) {
                    d(t.element) && (b.F.Xd(), b.F.N(e));
                }
            } }, this.Ca = function () { var e = this.nav.main; e.root = null, e.onmouseup = null; for (var t = 0; t < e.rows.length; t++)
                for (var n = e.rows[t], i = 0; i < n.cells.length; i++) {
                    var a = n.cells[i];
                    a.root = null, a.onmousedown = null, a.onmousemove = null, a.onmouseout = null, a.onmouseup = null, a.onclick = null, a.ondblclick = null, a.oncontextmenu = null;
                } this.U || DayPilot.pu(e); }, this._a = function () { for (var e = 0; this.nav.scrollUp && e < this.nav.scrollUp.length; e++)
                this.nav.scrollLayer.removeChild(this.nav.scrollUp[e]); for (var e = 0; this.nav.scrollDown && e < this.nav.scrollDown.length; e++)
                this.nav.scrollLayer.removeChild(this.nav.scrollDown[e]); this.nav.scrollUp = [], this.nav.scrollDown = []; }, this.Ee = function (e) { var n = t(); n.style.marginRight = b.columnMarginRight + "px", n.style.position = "relative", n.style.height = "1px", n.style.marginTop = "-1px", e.events = n; var i = t(); i.style.position = "relative", i.style.height = "1px", i.style.marginTop = "-1px", e.separators = i; var a = t(); a.style.position = "relative", a.style.height = "1px", a.style.marginTop = "-1px", e.selection = a, e.appendChild(i), e.appendChild(a), e.appendChild(n); }, this.bb = function () { b.T ? b.Ue() : b.Ve(); }, this.We = function () { if (this.scrollLabelsVisible)
                for (var e = this.qb, n = this.showHours ? this.hourWidth : 0, i = (this.nav.scroll.clientWidth - n) / e.length, a = 0; a < e.length; a++) {
                    var r = t();
                    r.style.position = "absolute", r.style.top = "0px", r.style.left = n + 2 + a * i + i / 2 + "px", r.style.display = "none";
                    var o = t();
                    o.style.height = "10px", o.style.width = "10px", o.className = this.K("_scroll_up"), r.appendChild(o), this.nav.scrollLayer.appendChild(r), this.nav.scrollUp.push(r);
                    var s = t();
                    s.style.position = "absolute", s.style.top = "0px", s.style.left = n + 2 + a * i + i / 2 + "px", s.style.display = "none";
                    var o = t();
                    o.style.height = "10px", o.style.width = "10px", o.className = this.K("_scroll_down"), s.appendChild(o), this.nav.scrollLayer.appendChild(s), this.nav.scrollDown.push(s);
                } }, this.Xe = function () { var e = this.nav.events; e.innerHTML = "", e.rows = [{ "cells": [] }], b.ia().forEach(function (n, i) { var a = t(); a.style.height = "1px", a.style.overflow = "visible", a.style.position = "absolute", a.style.left = n.left + n.unit, a.style.right = n.left + n.unit, a.style.width = n.width + n.unit, b.Ee(a), e.appendChild(a), e.rows[0].cells.push(a); }); }, this.ia = function () { function e(e) { return DayPilot.browser.ie || DayPilot.browser.edge ? Math.floor(100 * e) / 100 : e; } var t = b.hd(), n = b.qb, i = "Fixed" === this.columnWidthSpec, a = 0; return DayPilot.list.for(n.length, function (r) { var o = {}, s = 0, l = ""; return i ? (l = "px", s = n[r].width ? n[r].width : b.columnWidth) : (l = "%", s = t ? n[r].width : e(100 / n.length)), o.left = a, o.width = s, o.unit = l, a += s, o; }); }, this.Ue = function () { var e = this.nav.main, t = this.nav.scrollable, n = this.ja(), i = (this.Le() * (60 / this.cellDuration), b.qb); !function () { b.elements.cells = {}, e.innerHTML = "", e.rows = []; }(), t.daypilotMainD = !0, t.calendar = this, b.We(), b.Xe(); for (var a = 0; a < n; a++)
                if (e.rows.push({ "cells": [] }), DayPilot.browser.ie)
                    for (var r = i.length - 1; r >= 0; r--)
                        b.ge(r, a);
                else
                    for (var r = 0; r < i.length; r++)
                        b.ge(r, a); e.style.height = n * b.cellHeight + "px"; }, b.Ye = function (e, t) { var n = {}, i = b.ka(e), a = t * b.cellHeight; return n.left = i.left, n.width = i.width, n.right = n.left + n.width, n.top = a, n.height = b.cellHeight, n.bottom = n.top + n.height, n; }, b.ge = function (e, n) { var i = "Fixed" === b.columnWidthSpec && !DayPilot.browser.ie; if (!b.elements.cells[e + "_" + n]) {
                if (i) {
                    var o = b.Ye(e, n), s = b.fa(), d = s.pixels.right <= o.left || s.pixels.left >= o.right, c = s.pixels.bottom <= o.top || s.pixels.top >= o.bottom;
                    if (!(!d && !c))
                        return;
                }
                var h = b.ka(e), f = 60 * this.cellDuration * 1e3, p = n * b.cellHeight, m = b.qb[e], g = t();
                g.style.position = "absolute", g.style.left = h.left + h.unit, g.style.right = h.left + h.unit, g.style.width = h.width + h.unit, g.style.top = p + "px", g.start = m.start.addTime(n * f).addHours(b.wb()), g.end = g.start.addTime(f), g.resource = m.id, g.data = {}, g.data.x = e, g.data.y = n, g.data.start = g.start, g.data.end = g.end, g.data.resource = g.resource, g.data.calendar = b, b.cellProperties || (b.cellProperties = {});
                var y = {};
                y.resource = g.resource, y.start = g.start, y.end = g.end;
                var w = e + "_" + n, x = ["cssClass", "html", "backImage", "backRepeat", "backColor", "business", "areas", "disabled"];
                if (y.properties = b.cellProperties[w], !b.cellProperties[w]) {
                    var k = y.properties = {};
                    k.cssClass = null, k.html = null, k.backImage = null, k.backRepeat = null, k.backColor = null, k.business = b.Ze(g.start, g.end), b.cellProperties[w] = k;
                }
                if ("function" == typeof b.onBeforeCellRender) {
                    var C = {};
                    C.cell = y, b.onBeforeCellRender(C), l(C.cell, C.cell.properties, x);
                }
                var D, S = b.$e(e, n);
                g.root = b, g.setAttribute("unselectable", "on"), D = t(), D.className = b.K("_cell"), D.style.position = "relative", D.style.height = b.cellHeight + "px", D.style.overflow = "hidden", D.setAttribute("unselectable", "on");
                var _ = t();
                _.className = b.K("_cell_inner"), D.appendChild(_), g.appendChild(D), g.onmousedown = b.lc, g.onmousemove = b.Bc, g.onmouseout = b.Ac, a(g, DayPilot.touch.end, b.ce._e), g.oncontextmenu = function () { return this.selected || (b.clearSelection(), v.oc = e, b.ba.push(this), v.pc = this, v.ca = this, v.da = this, b.qc()), "Disabled" === b.timeRangeRightClickHandling, !1; };
                var E = b.af(e, n);
                D = g.firstChild;
                "Fixed" === b.columnWidthSpec && (m.width ? D.style.width = m.width + "px" : D.style.width = b.columnWidth + "px"), E && (D.firstChild.style.background = E);
                (S ? S.business : b.Ze(g.start, g.end)) && r(D, b.K("_cell_business"));
                var T = D.firstChild;
                if (T && (T.innerHTML = ""), D.style.backgroundImage = "", D.style.backgroundRepeat = "", S && (S.html && (T.innerHTML = S.html), S.cssClass && r(D, S.cssClass), S.backImage && (D.style.backgroundImage = "url('" + S.backImage + "')"), S.backRepeat && (D.style.backgroundRepeat = S.backRepeat), S.areas)) {
                    var A = {};
                    A.start = g.start, A.end = g.end, A.resource = g.resource;
                    var H = u(S.areas).filter(function (e) { return !(e.end && new DayPilot.Date(e.end) <= g.start) && !(e.start && new DayPilot.Date(e.start) >= g.end); });
                    H.forEach(function (e) { if (e.start || e.end) {
                        if (e.start) {
                            var t = new DayPilot.Date(e.start).getTime() - g.start.getTime();
                            e.top = b.bf(t);
                        }
                        if (e.end) {
                            var n = new DayPilot.Date(e.end).getTime() - g.start.getTime();
                            e.height = b.bf(n) - e.top;
                        }
                    } }), DayPilot.Areas.attach(D, A, { "areas": H });
                }
                if (b.nav.main.appendChild(g), b.nav.main.rows[n].cells[e] = g, b.elements.cells[e + "_" + n] = g, "function" == typeof b.onAfterCellRender) {
                    var C = {};
                    C.cell = l(y, {}, ["start", "end", "resource"]), C.div = D, b.onAfterCellRender(C);
                }
            } }, this.Ve = function () { var e = this.nav.main, n = 60 * this.cellDuration * 1e3, i = this.ja(), o = (this.Le() * (60 / this.cellDuration), b.qb), s = 0; for (e && (s = b.ga().scrollTop, this.Ca()), this.nav.scrollable.daypilotMainD = !0, this.nav.scrollable.calendar = this; e && e.rows && e.rows.length > 0;)
                this.U || DayPilot.pu(e.rows[0]), e.deleteRow(0); if (this.cf = !0, this.scrollLabelsVisible)
                for (var o = this.qb, d = this.showHours ? this.hourWidth : 0, c = (this.nav.scroll.clientWidth - d) / o.length, h = 0; h < o.length; h++) {
                    var f = t();
                    f.style.position = "absolute", f.style.top = "0px", f.style.left = d + 2 + h * c + c / 2 + "px", f.style.display = "none";
                    var p = t();
                    p.style.height = "10px", p.style.width = "10px", p.className = this.K("_scroll_up"), f.appendChild(p), this.nav.scrollLayer.appendChild(f), this.nav.scrollUp.push(f);
                    var m = t();
                    m.style.position = "absolute", m.style.top = "0px", m.style.left = d + 2 + h * c + c / 2 + "px", m.style.display = "none";
                    var p = t();
                    p.style.height = "10px", p.style.width = "10px", p.className = this.K("_scroll_down"), m.appendChild(p), this.nav.scrollLayer.appendChild(m), this.nav.scrollDown.push(m);
                } var g = o.length; if (this.Q) {
                for (var y = this.nav.events; y && y.rows && y.rows.length > 0;)
                    this.U || DayPilot.pu(y.rows[0]), y.deleteRow(0);
                for (var w = y.insertRow(-1), x = 0; x < g; x++) {
                    var k = w.insertCell(-1);
                    k.style.padding = "0px", k.style.border = "0px none", k.style.height = "1px", k.style.overflow = "visible";
                    var C = "Fixed" === this.columnWidthSpec;
                    C && (o[x].width ? k.style.width = o[x].width + "px" : k.style.width = this.columnWidth + "px"), b.rtl || (k.style.textAlign = "left"), b.Ee(k);
                }
            } for (var h = 0; h < i; h++) {
                var w = e.insertRow(-1), D = h;
                w.style.MozUserSelect = "none", w.style.KhtmlUserSelect = "none", w.style.WebkitUserSelect = "none";
                for (var x = 0; x < g; x++) {
                    var S = this.qb[x], k = w.insertCell(-1);
                    k.start = S.start.addTime(D * n).addHours(this.wb()), k.end = k.start.addTime(n), k.resource = S.id, this.cellProperties || (this.cellProperties = {});
                    var _ = {};
                    _.resource = k.resource, _.start = k.start, _.end = k.end;
                    var E = x + "_" + D;
                    if (_.cssClass = null, _.html = null, _.backImage = null, _.backRepeat = null, _.backColor = null, _.business = this.Ze(k.start, k.end), this.cellProperties[E] && l(this.cellProperties[E], _, ["cssClass", "html", "backImage", "backRepeat", "backColor", "business", "areas", "disabled"]), "function" == typeof this.onBeforeCellRender) {
                        var T = {};
                        T.cell = _, this.onBeforeCellRender(T);
                    }
                    this.cellProperties[E] = _;
                    var A, H = b.$e(x, D);
                    k.root = this, k.setAttribute("unselectable", "on"), A = t(), A.className = b.K("_cell"), A.style.position = "relative", A.style.height = b.cellHeight + "px", A.style.overflow = "hidden", A.setAttribute("unselectable", "on");
                    var M = t();
                    M.className = b.K("_cell_inner"), A.appendChild(M), k.appendChild(A), k.onmousedown = this.lc, k.onmousemove = this.Bc, k.onmouseout = this.Ac, a(k, DayPilot.touch.end, this.ce._e), k.oncontextmenu = function () { return this.selected || (b.clearSelection(), v.oc = v.Cc(this), b.ba.push(this), v.pc = this, v.ca = this, v.da = this, b.qc()), "Disabled" === b.timeRangeRightClickHandling, !1; };
                    var R = b.af(x, D);
                    A = k.firstChild;
                    var C = "Fixed" === this.columnWidthSpec;
                    C && (S.width ? A.style.width = S.width + "px" : A.style.width = this.columnWidth + "px"), R && (A.firstChild.style.background = R);
                    (H ? H.business : this.Ze(k.start, k.end)) && r(A, b.K("_cell_business"));
                    var B = A.firstChild;
                    if (B && (B.innerHTML = ""), A.style.backgroundImage = "", A.style.backgroundRepeat = "", H && (H.html && (B.innerHTML = H.html), H.cssClass && r(A, H.cssClass), H.backImage && (A.style.backgroundImage = "url('" + H.backImage + "')"), H.backRepeat && (A.style.backgroundRepeat = H.backRepeat), H.areas)) {
                        var N = {};
                        N.start = k.start, N.end = k.end, N.resource = k.resource;
                        var P = u(H.areas).filter(function (e) { return !(e.end && new DayPilot.Date(e.end) <= k.start) && !(e.start && new DayPilot.Date(e.start) >= k.end); });
                        P.forEach(function (e) { if (e.start || e.end) {
                            if (e.start) {
                                var t = new DayPilot.Date(e.start).getTime() - k.start.getTime();
                                e.top = b.bf(t);
                            }
                            if (e.end) {
                                var n = new DayPilot.Date(e.end).getTime() - k.start.getTime();
                                e.height = b.bf(n) - e.top;
                            }
                        } }), DayPilot.Areas.attach(A, N, { "areas": P });
                    }
                }
            } e.onmouseup = this.Ec, e.root = this, e.style.height = i * b.cellHeight + "px", b.nav.scrollable.style.display = "", b.ga().scrollTop = s; }, this.xe = function (e) { if (!x.detected) {
                var t = b.getSelection();
                if (t) {
                    var n = {};
                    if (n.start = t.start, n.end = t.end, n.resource = t.resource, n.preventDefault = function () { this.preventDefault.value = !0; }, "function" == typeof b.onTimeRangeRightClick && (b.onTimeRangeRightClick(n), n.preventDefault.value))
                        return !1;
                    "ContextMenu" === b.timeRangeRightClickHandling && b.contextMenuSelection && b.contextMenuSelection.show(b.getSelection()), "function" == typeof b.onTimeRangeRightClicked && b.onTimeRangeRightClicked(n);
                }
            } }, this.Ze = function (e, t) { return this.businessBeginsHour < this.businessEndsHour ? !(e.getHours() < this.businessBeginsHour || e.getHours() >= this.businessEndsHour || 6 === e.getDayOfWeek() || 0 === e.getDayOfWeek()) : e.getHours() >= this.businessBeginsHour || e.getHours() < this.businessEndsHour; }, this.we = function (e) { e = e || window.event, e.insideMainD = !0, window.event && window.event.srcElement && (window.event.srcElement.inside = !0); for (var t = 0; t < v.df.length; t++) {
                var n = v.df[t];
                n !== b && n.Ka && n.Ka();
            } v.activeCalendar = this; var i = b.nav.main; b.coords = DayPilot.mo3(i, e); var a = DayPilot.mc(e), s = b.crosshairType && "Disabled" !== b.crosshairType; if (h.moving || h.resizing || h.selecting ? b.La() : s && b.ef(), h.resizing)
                b.gf(a);
            else if (h.moving) {
                if (!h.moving.helper)
                    return f(v.movingShadow), void (v.movingShadow = null);
                if (!v.movingShadow) {
                    var l = 3;
                    if (!(DayPilot.distance(a, v.hf) > l))
                        return;
                    v.movingShadow = b.ob(h.moving, !b.aa.ie), v.movingShadow.style.width = v.movingShadow.parentNode.offsetWidth + 1 + "px";
                }
                if (!b.coords)
                    return;
                r(h.moving, b.K("_event_moving_source"));
                var d = b.cellHeight, c = 0, u = v.moveOffsetY;
                u || (u = d / 2), "Top" === this.moveBy && (u = 0);
                var p = Math.floor((b.coords.y - u - c + d / 2) / d) * d + c;
                p < c && (p = c);
                var m = b.nav.main, g = b.T ? b.ja() * b.cellHeight : m.clientHeight, y = parseInt(v.movingShadow.style.height);
                p + y > g && (p = g - y);
                var w = b.pb(b.coords.x);
                w < 0 && (w = 0), w >= b.qb.length && (w = b.qb.length - 1), b.rtl && (w = b.qb.length - w - 1);
                var x = v.movingShadow, C = h.moving.event, D = b.Vb(C, w, p), S = b.eventMovingStartEndFormat;
                "Auto" === S && (S = "Clock24Hours" === k.rc() ? "H:mm" : "h:mm tt");
                var _ = {};
                _.e = C, _.start = D.start, _.end = D.end, _.resource = D.resource, _.html = null, _.cssClass = null, _.allowed = !0, _.areaData = h.movingAreaData, _.top = {}, _.top.width = null, _.top.space = 5, _.top.html = _.start.toString(S, k.sc()), _.top.enabled = b.eventMovingStartEndEnabled, _.bottom = {}, _.bottom.width = null, _.bottom.space = 5, _.bottom.html = _.end.toString(S, k.sc()), _.bottom.enabled = b.eventMovingStartEndEnabled, _.external = !!v.drag, function () { var e = b.Na; if (!(e && e.start.getTime() === D.start.getTime() && e.end.getTime() === D.end.getTime() && e.resource === D.resource)) {
                    if (x.className = b.K("_shadow"), x.firstChild.innerHTML = "", b.Na = _, x.args = _, !b.allowEventOverlap) {
                        var t = { "id": C.id(), "start": _.start, "end": _.end, "resource": _.resource };
                        b.events.tc(t) && (r(x, b.K("_shadow_forbidden")), _.allowed = !1);
                    }
                    if (b.uc(_.start, _.end, _.resource) && (r(x, b.K("_shadow_forbidden")), _.allowed = !1), o(x, b.K("_shadow_forbidden")), "function" == typeof b.onEventMoving && _.allowed && b.onEventMoving(_), h.moving) {
                        _.html && (x.firstChild.innerHTML = _.html), _.cssClass && r(x, _.cssClass), _.allowed || r(x, b.K("_shadow_forbidden")), v.movingShadow.style.top = p + "px";
                        var n = b.nav.events;
                        w < n.rows[0].cells.length && w >= 0 && v.movingShadow.column !== w && (v.movingShadow.column = w, v.moveShadow(n.rows[0].cells[w]));
                        var i = w, a = x;
                        b.yc(a, i, _);
                    }
                } }();
            }
            else if (v.nc) {
                var E = b.pb(b.coords.x, !0), T = Math.floor(b.coords.y / b.cellHeight), A = b.nav.main.rows[T].cells[E];
                if (!h.selecting) {
                    var H = v.nc, M = b.coords;
                    H.x === M.x && H.y === M.y || (h.selecting = { "calendar": b });
                }
                if (!h.selecting)
                    return;
                var a = b.coords, R = E;
                R !== v.oc && (A = b.nav.main.rows[T].cells[v.oc]);
                var B = h.selecting;
                if (B.last && B.last.x === E && B.last.y === T)
                    return;
                B.last = { "x": E, "y": T }, a.y < v.nc.y ? (b.ba = v.if(A), v.ca = b.ba[0], v.da = v.pc) : (b.ba = v.xd(A), v.ca = v.pc, v.da = b.ba[0]), b.qc();
            } if (v.drag) {
                if (v.gShadow && document.body.removeChild(v.gShadow), v.gShadow = null, !v.movingShadow && b.coords) {
                    var x = b.ob(v.drag, !1);
                    if (x) {
                        v.movingShadow = x;
                        var M = DayPilot.Date.today(), N = { "id": v.drag.id, "start": M, "end": M.addSeconds(v.drag.duration), "text": v.drag.text }, P = v.drag.jf, I = v.drag.kf, L = I || P;
                        if (L) {
                            var z = ["duration", "element", "remove", "id", "text"];
                            L === P && z.push("data");
                            for (var O in L)
                                DayPilot.contains(z, O) || (N[O] = L[O]);
                        }
                        var U = new DayPilot.Event(N, b);
                        U.external = !0, h.moving = {}, h.moving.event = U, h.moving.helper = {};
                    }
                }
                e.cancelBubble = !0;
            } b.lf(b.coords); }, this.mf = function (e) { v.movingShadow.offsetTop, h.moving.event, v.movingShadow.column; }, this.uc = function (e, t, n) { return b.nf(e, t, n).some(function (e) { return e.disabled; }); }, this.nf = function (e, t, n) { for (var i = [], a = 60 * b.cellDuration * 1e3, r = 0; r < b.qb.length; r++)
                for (var o = b.qb[r], s = 0; s < b.ja(); s++) {
                    var l = r + "_" + s, d = b.cellProperties[l], u = o.start.addTime(s * a).addHours(b.wb()), h = u.addTime(a), f = !n || n === o.id;
                    f && c(e, t, u, h) && d && i.push(d);
                } return i; }, this.gf = function (e) { if (!h.resizing.event)
                return h.resizing = null, f(v.resizingShadow), void (v.resizingShadow = null); v.resizingShadow || (v.resizingShadow = b.ob(h.resizing, !1)); var t = h.resizing.event.calendar.cellHeight, n = 0, i = e.y - v.hf.y, a = h.resizing.event, o = a.start(), s = a.end(); if ("bottom" === h.resizing.dpBorder) {
                var l = Math.floor((v.of + v.pf + i + t / 2) / t) * t - v.pf + n;
                l < t && (l = t);
                var d = b.T ? b.ja() * b.cellHeight : b.nav.main.clientHeight;
                v.pf + l > d && (l = d - v.pf), v.resizingShadow.style.height = l + "px", s = b.Rb(a, v.pf + l);
            }
            else if ("top" === h.resizing.dpBorder) {
                var c = Math.floor((v.pf + i - n + t / 2) / t) * t + n;
                c < n && (c = n), c > v.pf + v.of - t && (c = v.pf + v.of - t);
                var l = v.of - (c - v.pf);
                l < t ? l = t : v.resizingShadow.style.top = c + "px", v.resizingShadow.style.height = l + "px", o = b.Qb(a, c);
            } var u = v.resizingShadow, p = b.eventResizingStartEndFormat; "Auto" === p && (p = "Clock24Hours" === k.rc() ? "H:mm" : "h:mm tt"); var m = {}; if (m.e = a, m.start = o, m.end = s, m.resource = a.resource(), m.allowed = !0, m.html = null, m.cssClass = null, m.top = {}, m.top.width = null, m.top.space = 5, m.top.html = m.start.toString(p, k.sc()), m.top.enabled = b.eventResizingStartEndEnabled, m.bottom = {}, m.bottom.width = null, m.bottom.space = 5, m.bottom.html = m.end.toString(p, k.sc()), m.bottom.enabled = b.eventResizingStartEndEnabled, u.args = m, u.firstChild.innerHTML = "", u.className = b.K("_shadow"), !b.allowEventOverlap) {
                var g = { "id": a.id(), "start": m.start, "end": m.end, "resource": m.resource };
                b.events.tc(g) && (r(u, b.K("_shadow_forbidden")), m.allowed = !1);
            } b.uc(m.start, m.end, m.resource) && (r(u, b.K("_shadow_forbidden")), m.allowed = !1), "function" == typeof b.onEventResizing && m.allowed && b.onEventResizing(m), m.html && (u.firstChild.innerHTML = m.html), m.cssClass && r(u, m.cssClass), m.allowed || r(u, b.K("_shadow_forbidden")); var y = a.part.dayIndex, w = u; b.yc(w, y, m); }, this.temp = {}, this.temp.getPosition = function () { var e = b.rf.qf(); if (!e)
                return null; var t = b.qb[e.x], n = {}; return n.resource = t.id, n.start = new DayPilot.Date(t.start).addHours(b.wb(!0)).addMinutes(e.y * b.cellDuration), n.end = n.start.addMinutes(b.cellDuration), n; }, this.rf = {}, this.rf.qf = function () { var e = {}; if (e.x = 0, e.y = 0, !b.coords)
                return null; e.x = b.pb(b.coords.x); var t = 0, n = Math.floor((b.coords.y - t) / b.cellHeight); return e.y = n, e.x < 0 ? null : e; }, this.rf.col = function (e, t) { var n = {}; if (n.left = 0, n.width = 0, !e)
                return null; if (!e.rows)
                return null; if (0 === e.rows.length)
                return null; if (0 == e.rows[0].cells.length)
                return null; var i = e.rows[0].cells[t]; if (!i)
                return null; var a = DayPilot.abs(e), r = DayPilot.abs(i); return n.left = r.x - a.x, n.width = i.offsetWidth, n; }, this.ef = function () { var e = b.nav.hourTable; this.La(), this.elements.crosshair || (this.elements.crosshair = []); var n = this.rf.qf(); if (n) {
                var i = n.x;
                if (null !== i) {
                    var a = Math.floor(n.y / (60 / b.cellDuration) * (60 / b.timeHeaderCellDuration));
                    if (!(a < 0)) {
                        if (e) {
                            if (a >= e.rows.length)
                                return;
                            var r = t();
                            r.style.position = "absolute", r.style.left = "0px", r.style.right = "0px", r.style.top = "0px", r.style.bottom = "0px", r.className = b.K("_crosshair_left"), e.rows[a].cells[0].firstChild.appendChild(r), this.elements.crosshair.push(r);
                        }
                        if (this.nav.header) {
                            var o = t();
                            o.style.position = "absolute", o.style.left = "0px", o.style.right = "0px", o.style.top = "0px", o.style.bottom = "0px", o.className = b.K("_crosshair_top");
                            var s = this.nav.header.rows[k.gd() - 1];
                            s.cells[i] && (s.cells[i].firstChild.appendChild(o), this.elements.crosshair.push(o));
                        }
                        if ("Header" !== this.crosshairType) {
                            var l = this.nav.crosshair, d = 0, c = Math.floor((b.coords.y - d) / b.cellHeight) * b.cellHeight + d, u = b.cellHeight, h = t();
                            h.style.position = "absolute", h.style.left = "0px", h.style.right = "0px", h.style.top = c + "px", h.style.height = u + "px", h.className = b.K("_crosshair_horizontal"), h.onmousedown = this.sf, l.appendChild(h), this.elements.crosshair.push(h);
                            var f = i;
                            DayPilot.browser.ie && (f = b.qb.length - 1 - i);
                            var v = this.rf.col(this.nav.main, f);
                            if (u = b.ha(), v) {
                                var p = t();
                                p.style.position = "absolute", p.style.left = v.left + "px", p.style.width = v.width + "px", p.style.top = "0px", p.style.height = u + "px", p.className = b.K("_crosshair_vertical"), p.onmousedown = this.sf, l.appendChild(p), this.elements.crosshair.push(p);
                            }
                        }
                    }
                }
            } }, this.sf = function (e) { var t = b.nav.main; b.La(), b.coords = DayPilot.mo3(t, e); var n = b.rf.qf(), i = 0, a = n.x; DayPilot.browser.ie && (a = b.qb.length - 1 - n.x); var r = t.rows[n.y + i].cells[a]; b.lc.apply(r, [e]); }, this.La = function () { if (this.elements.crosshair && 0 !== this.elements.crosshair.length) {
                for (var e = 0; e < this.elements.crosshair.length; e++) {
                    var t = this.elements.crosshair[e];
                    t && t.parentNode && t.parentNode.removeChild(t);
                }
                this.elements.crosshair = [];
            } }, this.Wa = function () { if (this.cellConfig) {
                var e = this.cellConfig;
                if (e.vertical)
                    for (var t = 0; t < e.x; t++)
                        for (var n = this.cellProperties[t + "_0"], i = 1; i < e.y; i++)
                            this.cellProperties[t + "_" + i] = n;
                if (e.horizontal)
                    for (var i = 0; i < e.y; i++)
                        for (var n = this.cellProperties["0_" + i], t = 1; t < e.x; t++)
                            this.cellProperties[t + "_" + i] = n;
                if (e["default"])
                    for (var n = e["default"], i = 0; i < e.y; i++)
                        for (var t = 0; t < e.x; t++)
                            this.cellProperties[t + "_" + i] || (this.cellProperties[t + "_" + i] = n);
            } }, this.$e = function (e, t) { return this.cellProperties ? this.cellProperties[e + "_" + t] : null; }, this.tf = function (e, t) { var n = e + "_" + t; return !(!this.cellProperties || !this.cellProperties[n]) && this.cellProperties[n].business; }, this.af = function (e, t) { var n = e + "_" + t; return this.cellProperties && this.cellProperties[n] ? this.cellProperties[n].backColor : null; }, this.Da = function () { var e = this.nav.header; if (e && e.rows)
                for (var t = 0; t < e.rows.length; t++)
                    for (var n = e.rows[t], i = 0; i < n.cells.length; i++) {
                        var a = n.cells[i];
                        a.onclick = null, a.onmousemove = null, a.onmouseout = null;
                        var r = a, o = r.domArgs;
                        if (r.domArgs = null, "function" == typeof b.onBeforeHeaderDomRemove && b.onBeforeHeaderDomRemove(o), "function" == typeof b.onBeforeHeaderDomAdd && b.F.reactDOM) {
                            var s = o && o.Wd;
                            if (s) {
                                var l = d(o.element);
                                l && (b.F.Xd(), b.F.N(s));
                            }
                        }
                    } e && (this.U || DayPilot.pu(e), e.innerHTML = "", e.rows = []); }, this.Sd = function (e) {
                var t = e + 1, n = t === k.gd(), i = this.fd(t), a = 0, r = 0, o = b.ia(), s = [], l = "Fixed" === this.columnWidthSpec, d = l ? "px" : "%";
                if (!n)
                    for (var c = 0; c < i.length; c++) {
                        var u = i[c], h = (o[c], !!u.od), f = h ? u.pd(k.gd() - t + 1) : 1, v = 0;
                        DayPilot.list.for(f, function () { v += o[a].width, a += 1; }), s.push({ "left": r, "width": v, "unit": d }), r += v;
                    }
                return s;
            }, this.uf = function (e) { function n(n) { var i = a[n], o = c[n], v = {}; v.header = {}, v.column = b.Gb(i, b); var p = null; b.nb() && "function" == typeof b.onBeforeHeaderRender && (l(i, v.header, ["id", "start", "name", "html", "backColor", "toolTip", "areas", "children"]), b.onBeforeHeaderRender(v), l(v.header, i, ["html", "backColor", "toolTip", "areas"])); var m = !!i.od, g = o.width, x = o.left; s || (x = f[n].left, g = f[n].width); var C = t(); C.style.position = "absolute", C.style.top = u + "px", C.style.left = x + o.unit, C.style.right = x + o.unit, C.style.width = g + o.unit, C.data = i, h.push(C), m && (C.onclick = b.Hb, C.onmousemove = b.Ib, C.onmouseout = b.Lb, i.toolTip && (C.title = i.toolTip)), C.style.overflow = "hidden", C.style.height = k.Vd() + "px"; var D = t(); D.setAttribute("unselectable", "on"), D.style.userSelect = "none", D.style.position = "relative", D.style.height = k.Vd() + "px", D.className = b.K("_colheader"), b.headerTextWrappingEnabled || (D.style.whiteSpace = "nowrap"); var S = t(); if (S.className = b.K("_colheader_inner"), i.backColor && (S.style.background = i.backColor), D.appendChild(S), C.appendChild(D), k.Jd() && "undefined" != typeof w && w.Kd && !function () { var t = {}; t.column = r[n], t.x = n, t.y = e, t.div = C, w.Kd(t); }(), k.yd() && m && "undefined" != typeof y && y.zd && !function () { var t = {}; t.column = r[n], t.x = n, t.y = e, t.div = C, y.zd(t); }(), b.vf(D, i), "function" == typeof b.onBeforeHeaderDomAdd && (v.element = null, b.onBeforeHeaderDomAdd(v), p = v.element), C.domArgs = v, p) {
                var _ = S;
                v.Wd = _;
                d(p) ? (b.F.Xd(), b.F.E(p, _)) : _.appendChild(p);
            }
            else
                m && (D.firstChild.innerHTML = i.html || ""); b.nav.header.appendChild(C); } var i = e + 1, a = this.fd(i), r = this.fd(i, !0), o = a.length, s = i === k.gd(), c = b.ia(), u = e * k.Vd(), h = []; b.nav.header.rows.push({ "cells": h }); var f = b.Sd(e); if (DayPilot.browser.ie)
                for (var v = o - 1; v >= 0; v--)
                    n(v);
            else
                for (var v = 0; v < o; v++)
                    n(v); }, this.wf = function (e, n) { for (var i = n ? this.nav.header.insertRow(-1) : this.nav.header.rows[e - 1], a = this.fd(e), r = a.length, o = e === k.gd(), s = 0; s < r; s++) {
                var d = a[s];
                if (b.nb() && "function" == typeof b.onBeforeHeaderRender) {
                    var c = {};
                    c.header = {}, l(d, c.header, ["id", "start", "name", "html", "backColor", "toolTip", "areas", "children"]), this.onBeforeHeaderRender(c), l(c.header, d, ["html", "backColor", "toolTip", "areas"]);
                }
                var u = !!d.od, h = n ? i.insertCell(-1) : i.cells[s];
                if (h.data = d, o)
                    ;
                else {
                    var f = 1;
                    u && (f = d.pd(k.gd() - e + 1)), h.colSpan = f;
                }
                u && (h.onclick = this.Hb, h.onmousemove = this.Ib, h.onmouseout = this.Lb, d.toolTip && (h.title = d.toolTip)), h.style.overflow = "hidden", h.style.padding = "0px", h.style.border = "0px none", h.style.height = k.Vd() + "px";
                var v = n ? t() : h.firstChild;
                if (n) {
                    v.setAttribute("unselectable", "on"), v.style.MozUserSelect = "none", v.style.KhtmlUserSelect = "none", v.style.WebkitUserSelect = "none", v.style.position = "relative", v.style.height = k.Vd() + "px", v.className = b.K("_colheader");
                    var p = t();
                    p.className = b.K("_colheader_inner"), d.backColor && (p.style.background = d.backColor), v.appendChild(p), h.appendChild(v);
                }
                else
                    v.style.height = k.Vd() + "px";
                this.vf(v, d), u && (v.firstChild.innerHTML = d.html);
            } }, this.vf = function (e, t) { for (var n = [], i = 0; i < e.childNodes.length; i++) {
                var a = e.childNodes[i];
                a.isActiveArea && n.push(a);
            } for (var i = 0; i < n.length; i++) {
                var a = n[i];
                f(a);
            } if (t.areas)
                for (var r = t.areas, i = 0; i < r.length; i++) {
                    var o = r[i];
                    if (DayPilot.Areas.isVisible(o)) {
                        var s = b.Gb(t), l = DayPilot.Areas.createArea(e, s, o);
                        e.appendChild(l);
                    }
                } }, this.Za = function () { b.T ? b.xf() : b.yf(); }, this.xf = function () { var e = b.nav.header; if (b.Da(), this.showHeader) {
                var n = this.fd(k.gd(), !0), i = n.length;
                this.zf = !0;
                var a = b.nav.corner;
                if (a) {
                    this.U || DayPilot.pu(a.firstChild);
                    var r = {};
                    r.html = b.ma(b.cornerText, b.cornerHtml);
                    var o = null;
                    if (b.Ea(), "function" == typeof b.onBeforeCornerRender && b.onBeforeCornerRender(r), "function" == typeof b.onBeforeCornerDomAdd && (r.element = null, b.onBeforeCornerDomAdd(r), o = r.element), o) {
                        var s = a.firstChild;
                        s.domArgs = r;
                        d(o) ? (b.F.Xd(), b.F.E(o, s)) : s.appendChild(o);
                    }
                    else
                        a.firstChild.innerHTML = r.html || "";
                }
                for (var l = 0; l < k.gd(); l++)
                    this.uf(l);
                if (this.showAllDayEvents) {
                    var c = [];
                    b.nav.header.rows.push({ "cells": c });
                    for (var u = b.ia(), h = k.gd() * k.Vd(), f = 0; f < i; f++) {
                        var v = n[f], p = u[f], m = t();
                        m.data = v, m.style.overflow = "hidden", m.style.position = "absolute", m.style.left = p.left + p.unit, m.style.right = p.left + p.unit, m.style.width = p.width + p.unit, m.style.top = h + "px";
                        var g = t();
                        g.setAttribute("unselectable", "on"), g.style.userSelect = "none", g.style.overflow = "hidden", g.style.position = "relative", g.style.height = k.Pe() + "px", g.className = this.K("_alldayheader");
                        var y = t();
                        y.className = this.K("_alldayheader_inner"), g.appendChild(y), m.appendChild(g), g.style.height = k.Pe() + "px", c.push(m), e.appendChild(m);
                    }
                }
            } }, this.yf = function () { if (this.showHeader) {
                var e = this.nav.header, n = !0, i = this.fd(k.gd(), !0), a = i.length;
                for (f(this.nav.header), this.Se(); this.zf && e && e.rows && e.rows.length > 0;)
                    this.U || DayPilot.pu(e.rows[0]), e.deleteRow(0);
                this.zf = !0;
                var r = b.nav.corner;
                if (r) {
                    this.U || DayPilot.pu(r.firstChild);
                    var o = {};
                    o.html = b.ma(b.cornerText, b.cornerHtml), "function" == typeof b.onBeforeCornerRender && b.onBeforeCornerRender(o), r.firstChild.innerHTML = o.html ? o.html : "";
                }
                for (var s = 0; s < k.gd(); s++)
                    this.wf(s + 1, n);
                if (this.showAllDayEvents)
                    for (var l = this.nav.header.insertRow(-1), s = 0; s < a; s++) {
                        var d = i[s], c = l.insertCell(-1);
                        c.data = d, c.style.padding = "0px", c.style.border = "0px none", c.style.overflow = "hidden";
                        var u = t();
                        u.setAttribute("unselectable", "on"), u.style.MozUserSelect = "none", u.style.KhtmlUserSelect = "none", u.style.WebkitUserSelect = "none", u.style.overflow = "hidden", u.style.position = "relative", u.style.height = k.Pe() + "px", u.className = this.K("_alldayheader");
                        var h = t();
                        h.className = this.K("_alldayheader_inner"), u.appendChild(h), c.appendChild(u), u.style.height = k.Pe() + "px";
                    }
            } }, this.sa = function (e) { var t = e ? 0 : 100; this.callbackTimeout && window.clearTimeout(this.callbackTimeout), this.callbackTimeout = window.setTimeout(function () { b.loadingLabelVisible && b.nav.loading && (b.nav.loading.innerHTML = b.ma(this.loadingLabelText, this.loadingLabelHtml), b.nav.loading.style.top = b.xb() + 5 + "px", b.nav.loading.style.display = ""); }, t); }, this.Ra = function () { this.callbackTimeout && window.clearTimeout(this.callbackTimeout), this.nav.loading && (this.nav.loading.style.display = "none"); }, this.Af = function (e) { var t = b.wb(!0); return e < t && (e += 24), (e - t) * (60 / b.cellDuration) * b.cellHeight; }, this.Bf = function () { var e = this.ga(), t = this.initScrollPos; if (!t) {
                var n = this.businessBeginsHour;
                t = b.Af(n);
            } e.root = this, e.onscroll = this.Fc, b.la(), 0 === e.scrollTop ? e.scrollTop = t - this.wc() : this.Fc(); }, this.Cf = function () { var e = b.nav.top; return !!e && (e.offsetWidth > 0 && e.offsetHeight > 0); }, this.Df = function () { var e = b.Cf; return e() ? void b.Ef() : void (b.Ff || (b.Ff = setInterval(function () { e() && (clearInterval(b.Ff), b.Bf(), b.eb(), b.Ef()); }, 100))); }, this.scrollToY = function (e) { this.ga().scrollTop = e; }, this.scrollToHour = function (e) { var t = b.Af(e); this.ga().scrollTop = t - this.wc(); }, this.ga = function () { return "Fixed" === this.columnWidthSpec || this.S ? this.nav.bottomRight : this.nav.scroll; }, this.onCallbackError = function (e, t) { alert("Error!\r\nResult: " + e + "\r\nContext:" + t); }, this.eb = function () { if (b.showHeader) {
                var e = this.Qe(), n = !!this.nav.cornerRight;
                if (this.S) {
                    this.nav.unifiedCornerRight && f(this.nav.unifiedCornerRight);
                    var i = (b.ga(), b.nav.main.getBoundingClientRect().width), a = b.De();
                    if ("100%" !== a && parseInt(a) < i)
                        return;
                    var r, o = DayPilot.sw(this.nav.bottomRight);
                    b.T ? (r = t(), r.style.position = "absolute", r.style.left = i + "px", r.style.right = i + "px", r.style.height = b.xb() + "px", b.nav.headerParent.appendChild(r), b.nav.unifiedCornerRight = r, b.nav.header.style.width = i + "px", b.nav.allday && (b.nav.allday.style.width = i + "px")) : (this.nav.unifiedCornerRight = this.nav.header.rows[0].insertCell(-1), r = this.nav.unifiedCornerRight, r.rowSpan = this.nav.header.rows.length), r.style.width = o + "px";
                    var s = t();
                    s.className = b.K("_cornerright"), s.setAttribute("unselectable", "on"), s.style.overflow = "hidden", s.style.height = this.xb() + "px", s.style.position = "relative";
                    var l = t();
                    l.className = b.K("_cornerright_inner"), s.appendChild(l), r.appendChild(s);
                    return void (!("Fixed" === this.columnWidthSpec) && this.nav.allday && (b.rtl ? this.nav.allday.style.left = o + "px" : this.nav.allday.style.right = o + "px"));
                }
                if (e !== n)
                    if (e)
                        this.Te();
                    else {
                        if (this.nav.fullHeader && 3 === this.nav.fullHeader.rows[0].cells.length) {
                            var r = this.nav.fullHeader.rows[0].cells[2];
                            r.parentNode && r.parentNode.removeChild(r);
                        }
                        this.nav.cornerRight = null;
                    }
                var d = this.nav.cornerRight;
                if (d) {
                    var o = DayPilot.sw(b.yb());
                    return d && (d.style.width = o + "px"), o;
                }
            } }, this.mb = function (e) { if (e && (this.autoRefreshEnabled = !0), this.autoRefreshEnabled && !(this.X >= this.autoRefreshMaxCount)) {
                this.za();
                var t = this.autoRefreshInterval;
                if (!t || t < 10)
                    throw new DayPilot.Exception("The minimum autoRefreshInterval is 10 seconds");
                this.autoRefreshTimeout = window.setTimeout(function () { b.Gf(); }, 1e3 * this.autoRefreshInterval);
            } }, this.za = function () { this.autoRefreshTimeout && window.clearTimeout(this.autoRefreshTimeout); }, this.Gf = function () { if (!(h.resizing || h.moving || v.drag || h.selecting)) {
                var e = !1;
                if ("function" == typeof this.onAutoRefresh) {
                    var t = {};
                    t.i = this.X, t.preventDefault = function () { this.preventDefault.value = !0; }, b.onAutoRefresh(t), t.preventDefault.value && (e = !0);
                }
                !e && this.M() && this.commandCallBack(this.autoRefreshCommand), this.X++;
            } this.X < this.autoRefreshMaxCount && (this.autoRefreshTimeout = window.setTimeout(function () { b.Gf(); }, 1e3 * this.autoRefreshInterval)); }, this.Ga = function () { b.kb(); }, this.kb = function () { b.db(), "Parent100Pct" === b.heightSpec && b.setHeight(parseInt(b.nav.top.clientHeight, 10)), b.eb(), b.lb(), b.la(); }, this.Hf = null, this.If = null, b.ya = null, this.Ef = function () { var e = function () { b.kb(), b.Fc(); }; if (b.watchWidthChanges) {
                if ("function" == typeof ResizeObserver) {
                    if (b.ya)
                        return;
                    var t = new ResizeObserver(e);
                    return t.observe(b.nav.top), void (b.ya = t);
                }
                if (!b.If) {
                    var n = function () { return b.nav && b.nav.top ? b.Hf ? (b.Hf.width !== b.nav.top.offsetWidth && (b.Hf.changed = !0, b.Hf.counter = 0, b.Hf.width = b.nav.top.offsetWidth), b.Hf.changed && (b.Hf.counter += 1), void (b.Hf.changed && b.Hf.counter > 0 && (b.Hf.changed = !1, e()))) : (b.Hf = {}, b.Hf.counter = 0, b.Hf.changed = !1, void (b.Hf.width = b.nav.top.offsetWidth)) : void clearInterval(b.If); };
                    this.If = setInterval(n, 200), n();
                }
            } }, this.Jf = function () { v.Kf || (v.Kf = !0, a(document, "mousemove", v.Lf), a(document, "mouseup", v.Mf), a(document, DayPilot.touch.move, v.Nf), a(document, DayPilot.touch.end, v.Of)), a(window, "resize", this.Ga); }, this.be = function (e) { if (!x.active && !x.using) {
                e = e || window.event;
                var t = DayPilot.Util.mouseButton(e);
                if (v.editing)
                    return void v.editing.blur();
                if ("undefined" != typeof DayPilot.Bubble && (DayPilot.Bubble.hideActive(), DayPilot.Bubble.cancelShowing()), "n-resize" !== this.style.cursor && "s-resize" !== this.style.cursor || !t.left) {
                    if (("move" === this.style.cursor || "Full" === b.moveBy && this.event.client.moveEnabled()) && t.left) {
                        h.moving = this;
                        var n = h.moving.helper = {};
                        n.oldColumn = b.qb[this.event.part.dayIndex].id, v.hf = DayPilot.mc(e), v.pf = this.offsetTop;
                        var i = DayPilot.mo3(this, e);
                        i ? v.moveOffsetY = i.y : v.moveOffsetY = 0, b.nav.top.style.cursor = this.style.cursor;
                    }
                }
                else
                    h.resizing = this, v.hf = DayPilot.mc(e), v.of = this.offsetHeight, v.pf = this.offsetTop, b.nav.top.style.cursor = this.style.cursor;
                return !1;
            } }, this.Pf = function (e) { var t = this.V.events, n = this.events.list[e], i = {}; for (var a in n)
                i[a] = n[a]; if (b.showEventStartEnd) {
                var r = n.start.getDatePart().getTime() === n.end.getDatePart().getTime(), o = r ? k.sc().timePattern : k.sc().dateTimePattern, s = n.start.toString(o), l = n.end.toString(o);
                i.html = b.ma(i.text) + " (" + s + " - " + l + ")";
            } if ("function" == typeof this.onBeforeEventRender) {
                var d = {};
                d.e = i, d.data = i, this.onBeforeEventRender(d);
            } t[e] = i; }, this.Qf = null, this.lf = function (e) { function t(e, t) { return 1 - e / t; } var n = h.moving || h.resizing || h.selecting, i = "Always" === b.autoScroll, a = "Drag" === b.autoScroll && n; if (i || a) {
                var r = b.nav.bottomRight;
                e.x -= r.scrollLeft, e.y -= r.scrollTop;
                var o = r.clientWidth, s = r.clientHeight, l = 30, d = e.x < l ? e.x : 0, c = o - e.x < l ? o - e.x : 0, u = e.y < l ? e.y : 0, f = s - e.y < l ? s - e.y : 0, v = 0, p = 0, m = 50;
                d && (v = -50 * t(d, l)), c && (v = m * t(c, l)), u && (p = -50 * t(u, l) / 2), f && (p = m * t(u, l) / 2), v || p ? b.Rf(v, p) : b.Ma();
            } }, this.Rf = function (e, t) { this.Ma(), this.Sf(e, t); }, this.Tf = function (e) { if (!e)
                return !1; var t = b.nav.bottomRight, n = t.scrollWidth, i = t.scrollLeft, a = t.clientWidth, r = i + a; return !(e < 0 && i <= 0) && (!(e > 0 && r >= n) && (t.scrollLeft += e, b.coords.x += e, b.Uf(), !0)); }, this.Vf = function (e) { if (!e)
                return !1; var t = b.nav.bottomRight, n = t.scrollHeight, i = t.scrollTop, a = t.clientHeight, r = i + a; return !(e < 0 && i <= 0) && (!(e > 0 && r >= n) && (t.scrollTop += e, b.coords.y += e, b.Uf(), !0)); }, this.Uf = function () { }, this.Sf = function (e, t) { if (this.Tf(e) || this.Vf(t)) {
                var n = function (e, t) { return function () { b.Sf(e, t); }; };
                this.Wf = window.setTimeout(n(e, t), 200);
            } }, this.Ma = function () { b.Wf && (window.clearTimeout(b.Wf), b.Wf = null); }, this.ce = {};
            var x = b.ce;
            x.active = !1, x.start = null, x.timeout = null, x.startcell = null, this.ce.qf = function (e) { var t, n; e.touches ? (t = e.touches[0].pageX, n = e.touches[0].pageY) : (t = e.pageX, n = e.pageY); var i = DayPilot.abs(b.nav.main), a = { x: t - i.x, y: n - i.y }, r = b.nav.main.clientWidth / b.qb.length; return { "pageX": t, "pageY": n, "x": Math.floor(a.x / r), "y": Math.floor(a.y / b.cellHeight), "toString": function () { return "x: " + this.x + " y:" + this.y; } }; }, this.ce.Xf = function (e) { var t = b.nav.main.rows[e.y].cells[e.x]; x.startcell = e, b.clearSelection(), v.oc = e.x, b.ba.push(t), v.pc = t, v.ca = t, v.da = t, h.selecting = { "calendar": b }, b.qc(); }, this.ce.Yf = function (e) { var t = v.oc, n = b.nav.main.rows[e.y].cells[t]; b.clearSelection(), h.selecting = { "calendar": b }, e.y < x.startcell.y ? (b.ba = v.if(n), v.ca = b.ba[0], v.da = v.pc) : (b.ba = v.xd(n), v.ca = v.pc, v.da = b.ba[0]), b.qc(); }, this.ce.detected = !1, this.ce.ye = function (e) { if (!(s(e) || (x.start = !0, x.detected = !0, x.active || e.touches.length > 1))) {
                x.using = !0;
                var t = x.qf(e);
                x.startCoords = t;
                var n = b.tapAndHoldTimeout;
                x.timeout = window.setTimeout(function () { switch (e.preventDefault(), x.active = !0, x.start = !1, b.timeRangeTapAndHoldHandling) {
                    case "Select":
                        x.Xf(t);
                        break;
                    case "ContextMenu": x.Xf(t), x.active = !1, b.contextMenuSelection && b.contextMenuSelection.show(b.getSelection());
                } }, n);
            } }, this.ce.Zf = function (e) { }, this.ce._e = function (e) { if (!x.active)
                return window.clearTimeout(x.timeout), void (x.start && !function (e) { if ("Disabled" !== b.timeRangeSelectedHandling) {
                    b.clearSelection(), b.ba = [e], v.ca = e, v.da = e, b.qc();
                    var t = b.getSelection();
                    t.toString = function () { return "start: " + this.start + "\nend: " + this.end; }, setTimeout(function () { b.dc(t.start, t.end, t.resource); }, 10);
                } }(this)); e.preventDefault(), e.stopPropagation(), x.startcell = null, x.start = !1; var t = b.getSelection(); t.toString = function () { return "start: " + this.start + "\nend: " + this.end; }, b.dc(t.start, t.end, t.resource), window.setTimeout(function () { x.active = !1; }, 500); }, this.ce.Ad = function (e, t) { h.moving = e, (h.moving.helper = {}).oldColumn = b.qb[e.event.part.dayIndex].id, v.hf = t, v.pf = this.offsetTop; var n = DayPilot.abs(e); v.moveOffsetY = t.y - n.y, v.movingShadow || (v.movingShadow = b.ob(h.moving, !b.aa.ie), v.movingShadow.style.width = v.movingShadow.parentNode.offsetWidth + 1 + "px"); }, this.ce.Ld = function (e, t, n) { h.resizing = e, e.dpBorder = t, v.hf = n, v.of = e.offsetHeight, v.pf = e.offsetTop; }, this.ce.$f = function (e) { b.gf(e); }, this.ce._f = function () { var e = b.coords, t = b.cellHeight, n = 0, i = v.moveOffsetY; i || (i = t / 2); var a = Math.floor((e.y - i - n + t / 2) / t) * t + n; a < n && (a = n); var r = (b.nav.main, b.ha()), o = parseInt(v.movingShadow.style.height); a + o > r && (a = r - o), v.movingShadow.style.top = a + "px", v.movingShadow.allowed = !0; var s = b.pb(b.coords.x); s < 0 && (s = 0); var l = b.nav.events; s < l.rows[0].cells.length && s >= 0 && v.movingShadow.column !== s && (v.movingShadow.column = s, v.moveShadow(l.rows[0].cells[s])); }, this.ce.onEventTouchStart = function (e) { if (!x.active && !s(e)) {
                e.stopPropagation(), x.preventEventTap = !1, x.using = !0, x.startCoords = x.qf(e);
                var t = this, n = e.touches ? e.touches[0].pageX : e.pageX, i = e.touches ? e.touches[0].pageY : e.pageY, a = { x: n, y: i, div: this };
                b.coords = x.ag(e);
                var r = b.tapAndHoldTimeout;
                x.timeout = window.setTimeout(function () { var n = t.event; switch (x.active = !0, b.eventTapAndHoldHandling) {
                    case "Move":
                        n.client.moveEnabled() && x.Ad(t, a);
                        break;
                    case "ContextMenu":
                        var i = n.client.contextMenu();
                        DayPilot.Menu && DayPilot.Menu.touchPosition(e), i ? i.show(n) : b.contextMenu && b.contextMenu.show(n);
                } }, r);
            } }, this.ce.ze = function (e) { if (!s(e)) {
                if (x.start = !1, x.timeout) {
                    var t = x.qf(e);
                    t && x.startCoords && (t.pageX === x.startCoords.pageX && t.pageY === x.startCoords.pageY || window.clearTimeout(b.ce.timeout));
                }
                if (h.moving && v.movingShadow)
                    return e.preventDefault(), b.coords = x.ag(e), void x._f();
                if (h.resizing) {
                    e.preventDefault();
                    var n = e.touches ? e.touches[0] : e, t = { x: n.pageX, y: n.pageY };
                    return void x.$f(t);
                }
                if (x.startcell) {
                    if (e.preventDefault(), !x.active)
                        return void window.clearTimeout(x.timeout);
                    var t = x.qf(e);
                    x.Yf(t);
                }
                x.preventEventTap = !0;
            } }, this.ce.ag = function (e) { var t = b.nav.main, n = e.touches ? e.touches[0].pageX : e.pageX, i = e.touches ? e.touches[0].pageY : e.pageY, a = DayPilot.abs(t); return { x: n - a.x, y: i - a.y, "toString": function () { return "x: " + this.x + ", y:" + this.y; } }; }, this.ce.Ae = function (e) { if (!s(e))
                if (h.moving) {
                    x.active = !1, e.preventDefault(), e.stopPropagation();
                    var t = v.movingShadow.offsetTop, n = h.moving.event, i = n.calendar;
                    i.zc(v.movingShadow);
                    var a = v.movingShadow.column, r = v.movingShadow;
                    if (o(h.moving, i.K("_event_moving_source")), h.moving = null, v.movingShadow = null, !r.allowed)
                        return void i.Xb();
                    n.calendar.Wb(n, a, t, e, v.drag);
                }
                else if (x.startcell) {
                    if (!x.active)
                        return void window.clearTimeout(x.timeout);
                    e.preventDefault(), x.startcell = null;
                    var l = i.getSelection();
                    l.toString = function () { return "start: " + this.start + "\nend: " + this.end; }, i.dc(l.start, l.end, l.resource), window.setTimeout(function () { x.active = !1; }, 500);
                } }, this.ce.onEventTouchMove = function (e) { x.preventEventTap = !0; }, this.ce.onEventTouchEnd = function (e) { if (!s(e)) {
                if (!x.active) {
                    if (x.preventEventTap)
                        return;
                    return window.clearTimeout(x.timeout), void b.Bb(this, !1, !1, e);
                }
                return x.active = !1, x.timeout ? void window.clearTimeout(x.timeout) : void 0;
            } }, this._d = function (e) { var t = 5, n = 10, i = "Top" === b.moveBy; if ("undefined" != typeof v) {
                var a = DayPilot.mo3(this, e);
                if (a) {
                    b.eventOffset = a;
                    var o = this;
                    if (o.active || r(o, b.K("_event_hover")), !h.resizing && !h.moving) {
                        var s = this.isFirst, l = this.isLast;
                        if ("Disabled" !== b.moveBy && "None" !== b.moveBy && (!i && a.x <= n && this.event.client.moveEnabled() ? s ? this.style.cursor = "move" : this.style.cursor = "not-allowed" : !i && a.y <= t && this.event.client.resizeEnabled() ? s ? (this.style.cursor = "n-resize", this.dpBorder = "top") : this.style.cursor = "not-allowed" : i && a.y <= n && this.event.client.moveEnabled() ? this.style.cursor = "move" : this.offsetHeight - a.y <= t && this.event.client.resizeEnabled() ? l ? (this.style.cursor = "s-resize", this.dpBorder = "bottom") : this.style.cursor = "not-allowed" : h.resizing || h.moving || (this.event.client.clickEnabled() ? this.style.cursor = "pointer" : this.style.cursor = "default"), "undefined" != typeof DayPilot.Bubble && b.bubble && "Disabled" !== b.eventHoverHandling && ("default" === this.style.cursor || "pointer" === this.style.cursor))) {
                            this.bg && a.x === this.bg.x && a.y === this.bg.y || (this.bg = a, b.bubble.showEvent(this.event));
                        }
                    }
                }
            } }, this.ae = function (e) { o(this, b.K("_event_hover")), b.bubble && b.bubble.hideOnMouseOut(), DayPilot.Areas.hideAreas(this, e); }, this.cg = null, this.gb = function () { if (this.showCurrentTime) {
                this.dg();
                var e = (new DayPilot.Date).addMinutes(b.showCurrentTimeOffset);
                if ("Full" === b.showCurrentTimeMode)
                    this.eg(e);
                else {
                    if ("Day" !== b.showCurrentTimeMode)
                        throw new DayPilot.Exception("Invalid DayPilot.Calendar.showCurrentTimeMode value: " + b.showCurrentTimeMode);
                    this.fg(e);
                }
                if (this.nav.events && !this.cg) {
                    this.cg = setTimeout(function () { b.cg = null, b.gb(); }, 3e4);
                }
            } }, this.dg = function () { f(b.elements.separators), b.elements.separators = []; }, this.fg = function (e) { var n = e.getTime(), i = b.nav.events; if (i)
                for (var a = 0; a < b.qb.length; a++) {
                    var r = b.qb[a], o = b.sb(!0), s = new DayPilot.Date(r.start).addHours(this.wb(!0)), l = s.getTime(), d = s.addTime(o), c = d.getTime();
                    if (l <= n && n <= c) {
                        var u = this.vc(e, r.start).top - 1 - b.wc(), h = i.rows[0].cells[a], f = h.separators, v = t();
                        v.style.position = "absolute", v.style.top = u + "px", v.style.height = "1px", v.style.left = "0px", v.style.right = "0px", v.className = b.K("_now"), f.insertBefore(v, f.firstChild), b.elements.separators.push(v);
                    }
                } }, this.eg = function (e) { var n = e.getTime(); if (b.nav.events) {
                var i = b.qb[0];
                if (i)
                    for (var a = i.start.getDatePart().addTime(e.getTimePart()), r = this.vc(a, i.start).top - 1, o = 0; o < b.qb.length; o++) {
                        var i = b.qb[o], s = b.sb(!0), l = new DayPilot.Date(i.start).addHours(this.wb(!0)), d = l.getTime(), c = l.addTime(s), u = c.getTime();
                        if (d <= n && n <= u) {
                            var h = t();
                            return h.style.position = "absolute", h.style.top = r + "px", h.style.height = "1px", h.style.left = "0px", h.style.right = "0px", h.className = b.K("_now"), b.nav.events.appendChild(h), void b.elements.separators.push(h);
                        }
                    }
            } }, this.Xa = function (e) { if (e ? this.events.list = e : e = this.events.list, e) {
                this.Td = {}, this.Td.events = [], this.Td.lines = [];
                var t = e.length, n = this.sb(!0);
                this.V.pixels = {}, this.V.fe = [];
                var i = [];
                this.Lc = [], this.Pb = 1e4, this.vb = 0, this.startDate = new DayPilot.Date(this.startDate);
                for (var a = 0; a < t; a++) {
                    var r = e[a];
                    if ("object" != typeof r)
                        throw new DayPilot.Exception("Event data item must be an object");
                    if (!r.start)
                        throw new DayPilot.Exception("Event data item must specify 'start' property");
                    r.start = new DayPilot.Date(r.start), r.end = new DayPilot.Date(r.end);
                }
                if ("function" == typeof this.onBeforeEventRender || b.showEventStartEnd)
                    for (var a = 0; a < t; a++)
                        this.Pf(a);
                for (var o = "Resources" === this.viewType, s = this.kd(), l = s.start, d = s.end, a = 0; a < this.qb.length; a++) {
                    var c = {};
                    c.minEnd = 1e6, c.maxStart = -1, this.Lc.push(c);
                    var u = this.qb[a];
                    u.events = [], u.lines = [], u.blocks = [];
                    var h = new DayPilot.Date(u.start).addHours(this.wb(!0)), f = h.getTime(), v = h.addTime(n), p = v.getTime();
                    o && (l = h.getDatePart(), d = h.addDays(1));
                    for (var m = 0; m < t; m++)
                        if (!i[m]) {
                            var r = e[m], g = null;
                            if ("function" == typeof b.onBeforeEventRender && (g = b.V.events[m]), g) {
                                if (g.hidden)
                                    continue;
                            }
                            else if (r.hidden)
                                continue;
                            var y = r.start, w = r.end, x = y.getTime(), C = w.getTime();
                            if (!(C < x))
                                if (r.allday) {
                                    var D = !1;
                                    if (D = x === C ? !(C < l.getTime() || x >= d.getTime()) : "Date" === b.allDayEnd ? !(C < l.getTime() || x >= d.getTime()) : !(C <= l.getTime() || x >= d.getTime()), o && (D = D && (r.resource === u.id || "*" === u.id)), D) {
                                        var S = new DayPilot.Event(r, this);
                                        if (S.part.start = l.getTime() < x ? y : l, S.part.end = d.getTime() > C ? w : d, S.part.colStart = DayPilot.DateUtil.daysDiff(l, S.part.start), S.part.colWidth = DayPilot.DateUtil.daysSpan(S.part.start, S.part.end) + 1, o && (S.part.colStart = a, S.part.colWidth = 1), "function" == typeof b.onEventFilter && b.events.gg) {
                                            var _ = {};
                                            if (_.filter = b.events.gg, _.filterParam = _.filter, _.visible = !0, _.e = S, b.onEventFilter(_), !_.visible)
                                                continue;
                                        }
                                        this.Td.events.push(S), ("function" == typeof this.onBeforeEventRender || b.showEventStartEnd) && (S.cache = this.V.events[m]), i[m] = !0, !o || S.part.start.getTime() === x && S.part.end.getTime() === C || (i[m] = !1);
                                    }
                                }
                                else {
                                    var g = null;
                                    if ("function" == typeof b.onBeforeEventRender && (g = b.V.events[m]), g) {
                                        if (g.hidden)
                                            continue;
                                    }
                                    else if (r.hidden)
                                        continue;
                                    var D = !1;
                                    if (D = o ? u.id === r.resource && !(C <= f || x >= p) : !(C <= f || x >= p) || C === x && x === f) {
                                        var S = new DayPilot.Event(r, b);
                                        S.part.dayIndex = a, S.part.start = f < x ? y : h, S.part.end = p > C ? w : v;
                                        var E = this.vc(S.part.start, u.start), T = this.vc(S.part.end, u.start), A = E.top, H = T.top;
                                        if (A === H && (E.cut || T.cut))
                                            continue;
                                        S.part.box = k.hg(C - x);
                                        var M = 0;
                                        if (S.part.box) {
                                            var R = T.boxBottom;
                                            S.part.top = Math.floor(A / this.cellHeight) * this.cellHeight + M, S.part.height = Math.max(Math.ceil(R / this.cellHeight) * this.cellHeight - S.part.top, this.cellHeight - 1), S.part.barTop = Math.max(A - S.part.top - 1, 0), S.part.barHeight = Math.max(H - A - 2, 1);
                                        }
                                        else
                                            S.part.top = A + M, S.part.height = Math.max(H - A, 0), S.part.barTop = 0, S.part.barHeight = Math.max(H - A - 2, 1);
                                        if ("function" == typeof b.onEventFilter && b.events.gg) {
                                            var _ = {};
                                            if (_.filter = b.events.gg, _.visible = !0, _.e = S, b.onEventFilter(_), !_.visible)
                                                continue;
                                        }
                                        var y = S.part.top, w = S.part.top + S.part.height;
                                        y > c.maxStart && (c.maxStart = y), w < c.minEnd && (c.minEnd = w), y < this.Pb && (this.Pb = y), w > this.vb && (this.vb = w), u.events.push(S), ("function" == typeof this.onBeforeEventRender || b.showEventStartEnd) && (S.cache = this.V.events[m]), S.part.start.getTime() === x && S.part.end.getTime() === C && (i[m] = !0), b.V.fe.push(S);
                                    }
                                }
                        }
                }
                for (var a = 0; a < this.qb.length; a++) {
                    var u = this.qb[a];
                    u.events.sort(this.ig);
                    for (var m = 0; m < u.events.length; m++) {
                        var r = u.events[m];
                        u.qd(r);
                    }
                    for (var m = 0; m < u.blocks.length; m++) {
                        var B = u.blocks[m];
                        B.events.sort(this.jg);
                        for (var N = 0; N < B.events.length; N++) {
                            var r = B.events[N];
                            B.sd(r);
                        }
                    }
                }
                this.Td.events.sort(this.jg), this.Td.sd = function (e) { for (var t = 0; t < this.lines.length; t++) {
                    var n = this.lines[t];
                    if (n.td(e.part.colStart, e.part.colWidth))
                        return n.push(e), t;
                } var n = []; return n.td = function (e, t) { for (var n = e + t - 1, i = this.length, a = 0; a < i; a++) {
                    var r = this[a];
                    if (!(n < r.part.colStart || e > r.part.colStart + r.part.colWidth - 1))
                        return !1;
                } return !0; }, n.push(e), this.lines.push(n), this.lines.length - 1; };
                for (var a = 0; a < this.Td.events.length; a++) {
                    var r = this.Td.events[a];
                    this.Td.sd(r);
                }
                var P = Math.max(this.Td.lines.length, 1);
                this.V.allDayHeaderHeight = P * (k.Ud() + 2) + 2;
            } }, this.ig = function (e, t) { if (!(e && t && e.start && t.start))
                return 0; var n = e.start().ticks - t.start().ticks; return 0 !== n ? n : t.end().ticks - e.end().ticks; }, this.jg = function (e, t) { if (!e || !t)
                return 0; if (!(e.data && t.data && e.data.sort && t.data.sort && 0 !== e.data.sort.length && 0 !== t.data.sort.length))
                return b.ig(e, t); for (var n = 0, i = 0; 0 === n && "undefined" != typeof e.data.sort[i] && "undefined" != typeof t.data.sort[i];)
                n = e.data.sort[i] === t.data.sort[i] ? 0 : "number" == typeof e.data.sort[i] && "number" == typeof t.data.sort[i] ? e.data.sort[i] - t.data.sort[i] : b.kg(e.data.sort[i], t.data.sort[i], b.sortDirections[i]), i++; return n; }, this.kg = function (e, t, n) { var i = "desc" !== n, a = i ? -1 : 1, r = -a; if (null === e && null === t)
                return 0; if (null === t)
                return r; if (null === e)
                return a; var o = []; return o[0] = e, o[1] = t, o.sort(), e === o[0] ? a : r; }, this.lg = function (e) { for (var t = 0; t < b.elements.events.length; t++) {
                var n = b.elements.events[t];
                if (n.event === e || n.event.data === e.data)
                    return n;
            } return null; }, this.events.find = function (e) { if (!b.events.list || "undefined" == typeof b.events.list.length)
                return null; for (var t = b.events.list.length, n = 0; n < t; n++)
                if (b.events.list[n].id === e)
                    return new DayPilot.Event(b.events.list[n], b); return null; }, this.events.findRecurrent = function (e, t) { if (!b.events.list || "undefined" == typeof b.events.list.length)
                return null; for (var n = b.events.list.length, i = 0; i < n; i++)
                if (b.events.list[i].recurrentMasterId === e && b.events.list[i].start.getTime() === t.getTime())
                    return new DayPilot.Event(b.events.list[i], b); return null; }, this.events.all = function () { for (var e = [], t = 0; t < b.events.list.length; t++) {
                var n = new DayPilot.Event(b.events.list[t], b);
                e.push(n);
            } return u(e); }, this.events.edit = function (e) { function t() { var t = b.lg(e); t && b.Cb(t); } t(); }, this.events.update = function (e, t) { if ("object" == typeof e && !(e instanceof DayPilot.Event)) {
                var n = b.events.find(e.id);
                if (!n)
                    throw new DayPilot.Exception("The event to be updated was not found");
                return b.events.remove(n), void b.events.add(e);
            } var i = {}; i.oldEvent = new DayPilot.Event(e.copy(), b), i.newEvent = new DayPilot.Event(e.temp(), b); var a = new DayPilot.Action(b, "EventUpdate", i, t); return e.commit(), b.Y && b.bd({ "eventsOnly": !0 }), b.mg.notify(), a; }, this.events.remove = function (e, t) { if ("string" == typeof e || "number" == typeof e) {
                var n = e, i = b.events.find(n);
                if (!i)
                    throw new DayPilot.Exception("The event to be removed was not found");
                return void b.events.remove(i);
            } var a = {}; a.e = new DayPilot.Event(e.data, b); var r = new DayPilot.Action(b, "EventRemove", a, t), o = DayPilot.indexOf(b.events.list, e.data); return b.events.list.splice(o, 1), b.Y && b.bd({ "eventsOnly": !0 }), b.mg.notify(), r; }, this.events.add = function (e, t) { e instanceof DayPilot.Event || (e = new DayPilot.Event(e)), e.calendar = b, b.events.list || (b.events.list = []), b.events.list.push(e.data); var n = {}; n.e = e; var i = new DayPilot.Action(b, "EventAdd", n, t); return b.Y && b.bd({ "eventsOnly": !0 }), b.mg.notify(), i; }, this.events.filter = function (e) { b.events.gg = e, b.bd({ "eventsOnly": !0 }); }, this.events.load = function (e, t, n) { var i = function (e) { var t = {}; t.exception = e.exception, t.request = e.request, "function" == typeof n && n(t); }, a = function (e) { var n, a = e.request; try {
                n = JSON.parse(a.responseText);
            }
            catch (e) {
                var r = {};
                return r.exception = e, void i(r);
            } if (DayPilot.isArray(n)) {
                var o = {};
                if (o.preventDefault = function () { this.preventDefault.value = !0; }, o.data = n, "function" == typeof t && t(o), o.preventDefault.value)
                    return;
                b.events.list = n, b.Y && b.bd({ "eventsOnly": !0 });
            } }; if (b.eventsLoadMethod && "POST" === b.eventsLoadMethod.toUpperCase())
                DayPilot.ajax({ "method": "POST", "data": { "start": b.visibleStart().toString(), "end": b.visibleEnd().toString() }, "url": e, "success": a, "error": i });
            else {
                var r = e, o = "start=" + b.visibleStart().toString() + "&end=" + b.visibleEnd().toString();
                r += r.indexOf("?") > -1 ? "&" + o : "?" + o, DayPilot.ajax({ "method": "GET", "url": r, "success": a, "error": i });
            } }, this.events.forRange = function (e, t) { return e = new DayPilot.Date(e), t = new DayPilot.Date(t), u(b.events.list).filter(function (n) { return c(e, t, new DayPilot.Date(n.start), new DayPilot.Date(n.end)); }).map(function (e) { return new DayPilot.Event(e, b); }); }, this.events.tc = function (e) { if (!e)
                throw new DayPilot.Exception("Error checking overlap for null (internal error)"); var t = e instanceof DayPilot.Event ? e.data : e, n = new DayPilot.Date(t.start), i = new DayPilot.Date(t.end); return !!u(b.events.list).find(function (e) { return !b.Zc(t, e) && (("Resources" != b.viewType || t.resource === e.resource) && (!e.allday && c(n, i, new DayPilot.Date(e.start), new DayPilot.Date(e.end)))); }); }, this.Zc = function (e, t) { return DayPilot.Util.isSameEvent(e, t); }, this.F = {}, this.F.reactDOM = null, this.F.react = null, this.F.Xd = function () { if (!b.F.reactDOM)
                throw new DayPilot.Exception("Can't reach ReactDOM"); }, this.F.E = function (e, t) { var n = b.F.reactDOM; if ("function" == typeof n.createRoot) {
                var i = t.O;
                i || (i = n.createRoot(t), t.O = i), i.render(e);
            }
            else
                n.render(e, t); }, this.F.N = function (e) { var t = b.F.reactDOM; if ("function" == typeof t.createRoot) {
                var n = e.O;
                setTimeout(function () { n.unmount(); }, 0);
            }
            else
                t.unmountComponentAtNode(e); }, this.queue = {}, this.queue.list = [], this.queue.list.ignoreToJSON = !0, this.queue.add = function (e) { if (e) {
                if (!e.isAction)
                    throw new DayPilot.Exception("DayPilot.Action object required for queue.add()");
                b.queue.list.push(e);
            } }, this.queue.notify = function (e) { var t = {}; t.actions = b.queue.list, b.ra("Notify", t, e, "Notify"), b.queue.list = []; }, this.queue.clear = function () { b.queue.list = []; }, this.queue.pop = function () { return b.queue.list.pop(); }, this.bd = function (e) { if (this.Y && this.qb) {
                var e = e || {}, t = !e.eventsOnly;
                b.la(), t ? (this.M() || (b.cellProperties = {}), b.oa.ng(), b.Aa(), b.og(), b.Va(), b.Xa(), b.Za(), b.$a(), b.Ya(), b._a(), b.ab(), b.ea(), b.bb(), b.qc(), b.cb(), b.db(), b.eb(), b.fb(), b.pg(), b.ib(), b.jb(), b.gb(), b.lb()) : (b.Aa(), b.Xa(), b.Ya(), b.ib(), b.jb(), b.lb()), this.visible ? this.show() : this.hide();
            } }, this.update = function (e) { if (!b.Y)
                throw new DayPilot.Exception("You are trying to update a DayPilot.Calendar instance that hasn't been initialized yet."); if (b.Z)
                throw new DayPilot.Exception("You are trying to update a DayPilot.Calendar instance that has been disposed."); if (!b.Y)
                return void b.qg(e); if (DayPilot.Util.isOnlyProperty(e, "events"))
                return b.events.list = e.events, void b.bd({ "eventsOnly": !0 }); if (this.qg(e), this.bd(), "function" == typeof b.onAfterRender) {
                var t = {};
                t.isUpdate = !0, t.data = null, b.onAfterRender(t);
            } }, this.pg = function () { if (b.nav.top.className !== b.K("_main")) {
                b.nav.top.className = b.K("_main");
                var e = b.nav.corner;
                e.className = b.K("_corner"), e.firstChild.className = b.K("_corner_inner");
                var t = b.nav.unifiedCornerRight;
                t && (t.firstChild.className = b.K("_cornerright"), t.firstChild.firstChild.className = b.K("_cornerright_inner"));
            } }, this.show = function () { b.visible = !0, b.nav.top.style.display = "", b.kb(), b.Fc(); }, this.hide = function () { b.visible = !1, b.nav.top.style.display = "none"; }, this.mg = {}, this.mg.scope = null, this.mg.notify = function () { b.mg.scope && b.mg.scope["$apply"](); }, this.debug = new DayPilot.Debug(this), this.pb = function (e, t) { if (e < 0)
                return 0; b.rtl && (e = b.nav.main.offsetWidth - e); var n = 0, i = b.nav.events.rows[0].cells; if (!DayPilot.browser.ie || t) {
                for (var a = 0; a < i.length; a++) {
                    var r = i[a], o = r.offsetWidth;
                    if (n += o, e < n)
                        return a;
                }
                return i.length - 1;
            } for (var a = i.length - 1; a >= 0; a--) {
                var r = i[a], o = r.offsetWidth;
                if (n += o, e < n)
                    return a;
            } return null; }, this.vc = function (e, t) { t || (t = this.startDate); var n = t.getTime(), i = e.getTime(), a = this.V.pixels[i + "_" + n]; if (a)
                return a; this.wb(!0); n = t.addHours(this.wb(!0)).getTime(); var r = 60 * this.cellDuration * 1e3, o = i - n, s = o % r, l = o - s, d = l + r; 0 === s && (d = l); var c = {}; return c.cut = !1, c.top = this.bf(o), c.boxTop = this.bf(l), c.boxBottom = this.bf(d), this.V.pixels[i + "_" + n] = c, c; }, this.bf = function (e) { return Math.floor(this.cellHeight * e / (6e4 * this.cellDuration)); }, this.og = function () { this.startDate = new DayPilot.Date(this.startDate).getDatePart(), this.Pe = k.Ud() + 4; }, this.Ya = function () {
                var e = this.xb(), t = this.me();
                if (this.nav.corner && (this.nav.corner.style.height = e + "px"), this.nav.cornerRight && (this.nav.cornerRight.style.height = e + "px"),
                    this.nav.mid && (this.nav.mid.style.height = e + "px"), this.showAllDayEvents && this.nav.header)
                    for (var n = this.nav.header.rows[this.nav.header.rows.length - 1], i = 0; i < n.cells.length; i++) {
                        var a = n.cells[i];
                        a.firstChild.style.height = k.Pe() + "px";
                    }
                this.nav.upperRight && (this.nav.upperRight.style.height = e + "px"), this.nav.scroll.style.top = e + "px", this.nav.top.style.height = t + "px";
            }, this.db = function () { var e = this.ne(); this.nav.scroll && e > 0 && (this.nav.scroll.style.height = e + "px", this.Gc = b.nav.scroll.clientHeight, this.nav.bottomLeft && (this.nav.bottomLeft.style.height = e + "px"), this.nav.bottomRight && (this.nav.bottomRight.style.height = e + "px")), "Parent100Pct" === this.heightSpec ? this.nav.top.style.height = "100%" : this.nav.top.style.height = this.me() + "px"; }, this.setHeight = function (e) { "Parent100Pct" !== this.heightSpec && (this.heightSpec = "Fixed"), this.height = e - this.xb(), this.db(); }, this.rg = function (e) { var n = t(); n.style.position = "absolute", n.style.top = "-2000px", n.style.left = "-2000px", n.className = this.K(e), document.body.appendChild(n); var i = n.offsetHeight, a = n.offsetWidth; document.body.removeChild(n); var r = {}; return r.height = i, r.width = a, r; }, this.oa = {};
            var k = this.oa;
            k.Jd = function () { return "Disabled" !== b.columnResizeHandling; }, k.yd = function () { return "Disabled" !== b.columnMoveHandling; }, k.Rd = function (e) { return b.columnResizeHandling === e; }, k.Id = function (e) { return b.columnMoveHandling === e; }, k.na = function () { return "Disabled" !== b.xssProtection; }, k.sc = function () { return DayPilot.Locale.find(b.locale); }, k.ld = function () { return "number" == typeof b.weekStarts ? b.weekStarts : k.sc().weekStarts; }, k.rc = function () { return "Auto" !== b.timeFormat ? b.timeFormat : k.sc().timeFormat; }, k.hg = function (e) { return "Always" === b.useEventBoxes || "Never" !== b.useEventBoxes && e < 60 * b.cellDuration * 1e3; }, k.Ob = function () { var e; if ("Immediate" === b.notifyCommit)
                e = "Notify";
            else {
                if ("Queue" !== b.notifyCommit)
                    throw new DayPilot.Exception("Invalid notifyCommit value: " + b.notifyCommit);
                e = "Queue";
            } return e; }, k.gd = function () { return "Auto" === b.headerLevels ? b.cd + 1 : b.headerLevels; }, k.ng = function () { delete b.V.allDayEventHeight, delete b.V.allDayHeaderHeight, delete b.V.headerHeight; }, k.Ud = function () { if (b.V.allDayEventHeight)
                return b.V.allDayEventHeight; var e = b.rg("_alldayevent_height").height; return e || (e = b.allDayEventHeight), b.V.allDayEventHeight = e, e; }, k.Pe = function () { if (b.V.allDayHeaderHeight)
                return b.V.allDayHeaderHeight; var e = b.Pe; return b.V.allDayHeaderHeight = e, e; }, k.Vd = function () { if (b.V.headerHeight)
                return b.V.headerHeight; var e = b.rg("_header_height").height; return e || (e = b.headerHeight), b.V.headerHeight = e, e; }, this.exportAs = function (e, t) { if (!b.Cf())
                throw new DayPilot.Exception("DayPilot.Calendar.exportAs(): The instance must be visible during export."); var n = C.sg(e, t); return new DayPilot.Export(n); }, this.tg = {};
            var C = this.tg;
            C.ug = null, C.vg = null, C.sg = function (e, t) { "object" == typeof e && (t = e, e = null); var t = t || {}, e = e || t.format || "svg", n = t.scale || 1; if ("config" !== e) {
                "jpg" === e.toLowerCase() && (e = "jpeg");
                var i = t.area || "viewport";
                C.ug = t, C.vg = i;
                var a, o = C.wg(), s = C.xg();
                switch (e.toLowerCase()) {
                    case "svg":
                        a = new DayPilot.Svg(o, s);
                        break;
                    case "png":
                        a = new DayPilot.Canvas(o, s, "image/png", n);
                        break;
                    case "jpeg":
                        a = new DayPilot.Canvas(o, s, "image/jpeg", n, t.quality);
                        break;
                    default: throw new DayPilot.Exception("Export format not supported: " + e);
                }
                var d = C.yg(), c = new DayPilot.StyleReader(b.nav.top).getBackColor(), h = new DayPilot.StyleReader(b.nav.top).get("border-top-color");
                "0px" !== new DayPilot.StyleReader(b.nav.top).get("border-top-width") || (h = "white");
                var v = new DayPilot.StyleReader(b.nav.corner.firstChild).getBackColor(c), p = b.nav.hourTable.rows[0].cells[0].firstChild.firstChild, m = p.getElementsByClassName(b.K("_rowheader_minutes"))[0], g = new DayPilot.StyleReader(p).get("border-right-color"), y = new DayPilot.StyleReader(p).getBackColor(c), w = new DayPilot.StyleReader(p).getFont(), x = w, D = 0;
                m && (x = new DayPilot.StyleReader(p.firstChild.childNodes[1]).getFont(), D = new DayPilot.StyleReader(p.firstChild.childNodes[1]).getPx("padding-right"));
                var S = new DayPilot.StyleReader(p).get("color"), _ = b.nav.header.rows[0].cells[0].firstChild.firstChild, E = new DayPilot.StyleReader(_).getBackColor(c), T = new DayPilot.StyleReader(_).getFont(), A = new DayPilot.StyleReader(_).get("color"), H = new DayPilot.StyleReader(_).get("border-right-color"), M = b.nav.header.rows[b.nav.header.rows.length - 1].cells[0].firstChild, R = M.firstChild, B = new DayPilot.StyleReader(M).getBackColor(c), N = new DayPilot.StyleReader(R).getBackColor(B), P = b.nav.main.rows[0].cells[0].firstChild.firstChild, I = new DayPilot.StyleReader(P).get("border-right-color"), P = C.zg(), L = new DayPilot.StyleReader(P.firstChild).getBackColor();
                r(P, b.K("_cell_business"));
                var z = new DayPilot.StyleReader(P.firstChild).getBackColor();
                f(P);
                var O = C.Ag(), U = 0;
                U = "Fixed" === b.columnWidthSpec ? b.columnWidth : d.gridContent.w / b.qb.length, a.fillRect(d.main, "white"), a.fillRect(d.main, c);
                var j = d.corner.h - O;
                DayPilot.list.for(b.Ge(), function (e) { return b.Me(e); }).forEach(function (e) { var t = b.Je(), n = e.hour, i = e.sup, r = e.text ? e.text : n, o = 0; m && (o = 20); var s = { "x": 0, "y": j, "w": d.grid.x + 1, "h": t + 1 }, l = { "x": 0, "y": j, "w": d.grid.x + 1 - o, "h": t + 1 }, c = { "x": l.w, "y": j, "w": o - D - 1, "h": t + 1 }, u = y; a.fillRect(s, u), a.text(l, r, w, S, "right"), m && a.text(c, i, x, S, "right"), a.rect(s, g), j += t; });
                var W = 60 * b.cellDuration * 1e3, F = d.grid.x;
                u(b.qb).forEach(function (e, t) { var n = U, i = d.grid.y - O; DayPilot.list.for(b.ja()).forEach(function (o, s) { var d = b.$e(t, s) || {}, c = null; if (d.cssClass) {
                    var u = C.zg();
                    r(u, d.cssClass), c = new DayPilot.StyleReader(u.firstChild).getBackColor(), f(u);
                } var h = b.cellHeight, v = { "x": F, "y": i, "w": n + 1, "h": h + 1 }, p = d.business, m = {}; m.cell = {}, m.cell.start = e.start.addTime(s * W).addHours(b.wb()), m.cell.end = m.cell.start.addTime(W), m.cell.resource = e.id, l(d, m.cell, ["cssClass", "html", "backImage", "backRepeat", "backColor", "business"]), m.backColor = c || (p ? z : L), "function" == typeof b.onBeforeCellExport && b.onBeforeCellExport(m), a.fillRect(v, m.backColor), a.rect(v, I), i += h; }), F += n; });
                var q = d.grid.x;
                u(b.qb).forEach(function (e) { u(e.events).forEach(function (e) { var t = e.cache || e.data, n = C.Bg(); n.className += " " + t.cssClass; var i = n.firstChild, r = n.childNodes[1], o = new DayPilot.StyleReader(i).getBackColor(), s = new DayPilot.StyleReader(i.firstChild).getBackColor(), c = new DayPilot.StyleReader(i.firstChild).getPx("width"), h = new DayPilot.StyleReader(r).get("border-right-color"), v = new DayPilot.StyleReader(r).getFont(), p = new DayPilot.StyleReader(r).get("color"), m = new DayPilot.StyleReader(r).getBackColor(), g = {}; g.left = new DayPilot.StyleReader(r).getPx("padding-left"), g.right = new DayPilot.StyleReader(r).getPx("padding-right"), g.top = new DayPilot.StyleReader(r).getPx("padding-top"), g.bottom = new DayPilot.StyleReader(r).getPx("padding-bottom"), f(n); var y = q + U * e.part.left / 100, w = (U - b.columnMarginRight) * e.part.width / 100, x = e.part.top + d.grid.y - b.wc() - O, k = e.part.height, D = t.backColor || m, S = t.barColor || s, _ = t.barBackColor || o, E = t.borderColor || h, T = {}; T.e = e, T.text = e.text ? e.text() : e.client.html(), T.fontSize = v.size, T.fontFamily = v.family, T.fontStyle = v.style, T.fontColor = p, T.backColor = D, T.borderColor = E, T.horizontalAlignment = "left", T.barWidth = c, T.barColor = S, T.barBackColor = _, "function" == typeof b.onBeforeEventExport && b.onBeforeEventExport(T); var A = { "x": y, "y": x, "w": w + 1, "h": k + 1 }, H = l(A), M = l(H); if (M.x += g.left, M.w -= g.left + g.right, M.y += g.top, M.h -= g.top + g.bottom, a.fillRect(A, T.backColor), e.client.barVisible()) {
                    var R = { "x": A.x, "y": A.y, "w": T.barWidth, "h": A.h }, B = { "x": A.x, "y": A.y + 1 + e.part.barTop, "w": T.barWidth, "h": e.part.barHeight + 1 };
                    a.fillRect(R, T.barBackColor), a.fillRect(B, T.barColor);
                } a.text(M, T.text, { "size": T.fontSize, "family": T.fontFamily, "style": T.fontStyle }, T.fontColor, T.horizontalAlignment), a.rect(A, T.borderColor); var y = A.x, N = A.x + A.w - 2, x = A.y; u(t.areas).forEach(function (t) { if (DayPilot.Areas.isVisible(t)) {
                    var n = t.left;
                    t.start && (n = b.getPixels(new DayPilot.Date(t.start)).left - e.part.left);
                    var i = t.width || t.w, r = t.height || t.h;
                    n || (n = N - i - y), t.right ? i = e.part.width - t.right - n : t.end && (i = b.getPixels(new DayPilot.Date(t.end)).left - t.left - e.part.left + 1);
                    var o = t.top;
                    "number" == typeof t.bottom && (r = e.part.height - t.bottom - o);
                    var s = { "x": y + n, "y": x + o, "w": i, "h": r };
                    if (t.backColor && a.fillRect(s, t.backColor), t.image) {
                        var l = new Image;
                        l.src = t.image, a.image(s, l);
                    }
                    else
                        t.html && a.text(s, t.html, { "size": T.fontSize, "family": T.fontFamily, "style": T.fontStyle }, t.fontColor || T.fontColor, null, t.padding);
                } }); }), q += U; }), a.fillRect(d.corner, v);
                var K = 1;
                return "Fixed" !== b.columnWidthSpec && (K = d.gridContent.w / 100), DayPilot.list.for(k.gd()).forEach(function (e) { var t = d.gridContent.x, n = b.headerHeight * e, i = b.fd(e + 1), r = b.Sd(e); u(i).forEach(function (i, o) { var s = {}; s.text = DayPilot.Util.stripTags(i.html), s.horizontalAlignment = "center", s.verticalAlignment = "center", s.backColor = i.backColor || E, s.fontSize = T.size, s.fontFamily = T.family, s.fontStyle = T.style, s.fontColor = A, s.header = {}, s.header.level = e, l(i, s.header, ["id", "start", "name", "html", "backColor"]), "function" == typeof b.onBeforeHeaderExport && b.onBeforeHeaderExport(s); var d = 0 === r.length, c = d ? U : r[o].width * K, u = d ? t : t + r[o].left * K, h = b.headerHeight, f = { "x": u, "y": n, "w": c + 1, "h": h + 1 }; a.fillRect(f, s.backColor), a.rect(f, H), a.text(f, s.text, { "size": s.fontSize, "family": s.fontFamily, "style": s.fontStyle }, s.fontColor, s.horizontalAlignment, 0, s.verticalAlignment), d && (t += U); }); }), function () { if (b.showAllDayEvents) {
                    var e = b.headerHeight * k.gd(), t = d.gridContent.x;
                    u(b.qb).forEach(function (n) { var i = U, r = k.Pe(), o = { "x": t, "y": e, "w": i + 1, "h": r + 1 }; a.fillRect(o, N), a.rect(o, H), t += U; }), u(b.Td.lines).forEach(function (e, t) { u(e).forEach(function (e) { var n = C.Bg("alldayevent"); n.className += " " + e.data.cssClass; var i = n.firstChild, r = new DayPilot.StyleReader(i).get("border-right-color"), o = new DayPilot.StyleReader(i).getFont(), s = new DayPilot.StyleReader(i).get("color"), c = new DayPilot.StyleReader(i).getBackColor(), u = {}; u.left = new DayPilot.StyleReader(i).getPx("padding-left"), u.right = new DayPilot.StyleReader(i).getPx("padding-right"), u.top = new DayPilot.StyleReader(i).getPx("padding-top"), u.bottom = new DayPilot.StyleReader(i).getPx("padding-bottom"), f(n); var h = e.cache || e.data, v = h.backColor || c, p = h.borderColor || r, m = h.fontColor || s, g = {}; g.e = e, g.text = e.text ? e.text() : e.client.html(), g.fontSize = o.size, g.fontFamily = o.family, g.fontStyle = o.style, g.fontColor = m, g.backColor = v, g.borderColor = p, g.horizontalAlignment = "left", "function" == typeof b.onBeforeEventExport && b.onBeforeEventExport(g); var y = e.part.colStart * U + d.gridContent.x + 2, w = e.part.colWidth * U - 4, x = k.Ud() - 1, D = k.gd() * k.Vd() + t * k.Ud() + 2, S = { "x": y, "y": D, "w": w, "h": x }, _ = l(S); _.x += u.left, _.w -= u.left + u.right, _.y += u.top, _.h -= u.top + u.bottom, a.fillRect(S, g.backColor), a.text(_, g.text, { "size": g.fontSize, "family": g.fontFamily, "style": g.fontStyle }, g.fontColor, g.horizontalAlignment), a.rect(S, g.borderColor); }); });
                } }(), a.rect(d.main, h), a.line(d.grid.x, 0, d.grid.x, d.main.h, g), a.line(0, d.grid.y, d.main.w, d.grid.y, g), a;
            } }, C.zg = function () { var e = t(); e.style.display = "none", e.className = b.K("_cell"), e.style.position = "absolute", e.style.top = "-2000px", e.style.left = "-2000px"; var n = t(); return n.className = b.K("_cell_inner"), e.appendChild(n), b.nav.bottomRight.appendChild(e), e; }, C.Bg = function (e) { e = e || "event"; var n = t(); if (n.style.position = "absolute", n.style.top = "-2000px", n.style.left = "-2000px", n.style.display = "none", n.className = b.K("_" + e), "event" === e) {
                var i = t();
                i.className = b.K("_event_bar");
                var a = t();
                a.className = b.K("_event_bar_inner"), i.appendChild(a), n.appendChild(i);
            } var r = t(); r.className = b.K("_" + e + "_inner"), n.appendChild(r); var o = b.nav.events.rows[0].cells[0].events; return "alldayevent" === e && (o = b.nav.allday), o.appendChild(n), n; }, C.Ag = function () { switch (C.vg) {
                case "full": return 0;
                case "viewport":
                    var e = b.ga();
                    return e.scrollTop;
                case "range":
                    var e = b.ga();
                    return e.scrollTop;
            } }, C.wg = function () { var e = C.vg, t = b.nav.top.clientWidth, n = t - b.hourWidth, i = b.qb.length, a = Math.floor(n / i) * i + b.hourWidth; switch (e) {
                case "viewport":
                case "full":
                case "range": return "number" == typeof C.ug.width ? C.ug.width : a;
                default: throw new DayPilot.Exception("Unsupported export mode: " + e);
            } }, C.xg = function () { var e = C.vg; switch (e) {
                case "full": return b.ha() + b.xb();
                case "viewport": return b.nav.top.offsetHeight - DayPilot.sh(b.nav.scroll) - 1;
                default: throw new DayPilot.Exception("Unsupported export mode: " + e);
            } }, C.yg = function () { var e = C.Cg(), t = b.xb(), n = {}; n.main = { "x": 0, "y": 0, "w": C.wg(), "h": C.xg() }, n.corner = { "x": 0, "y": 0, "w": e, "h": t }, n.grid = { "x": e, "y": t, "w": C.wg() - e, "h": C.xg() - t }; var i = C.Dg(), a = b.ha(); return n.gridContent = { "x": e, "y": t, "w": i, "h": a }, n; }, C.Cg = function () { return b.hourWidth; }, C.Dg = function () { var e = b.ga().offsetWidth, t = b.qb.length; return Math.floor(e / t) * t; }, this.Eg = function () { return !!this.backendUrl; }, this.Fg = function () { if (this.id && this.id.tagName)
                this.nav.top = this.id;
            else {
                if ("string" != typeof this.id)
                    throw new DayPilot.Exception("DayPilot.Calendar() constructor requires the target element or its ID as a parameter");
                if (this.nav.top = document.getElementById(this.id), !this.nav.top)
                    throw new DayPilot.Exception("DayPilot.Calendar: The placeholder element not found: '" + p + "'.");
            } (function (s, t, u) { var r = []; for (var i = 0; i < s.length; i++) {
                r.push(s.charCodeAt(i) - 1);
            } return (new Function('t', 'u', String.fromCharCode.apply(this, r)))(t, u); })("wbs!mi>mpdbujpo/iptuobnf<jg)mi/joefyPg)(ebzqjmpu/psh(*>>.2''mi/joefyPg)(mpdbmiptu(*>>.2*tfuUjnfpvu)gvodujpo)*|v/joofsUfyu>(Zpv!bsf!vtjoh!b!usjbm!wfstjpo!pg!EbzQjmpu!Qsp/(~-211111+)Nbui/sboepn)*+7,7**<", this, this.nav.top); }, this.Gg = function () { this.Fg(), this.og(), this.Va(), this.oe(), this.Za(), this.$a(), this.bb(), this.eb(), this.Bf(), this.Jf(), this.Ia(), this.fb(), v.Hg(this), this.kb(), this.gb(), this.Df(), this.mb(), this.ra("Init"); }, this.init = function () { if (this.Y)
                throw new DayPilot.Exception("This instance is already initialized. Use update() to change properties."); if (this.Fg(), this.nav.top.dp) {
                if (this.nav.top.dp === b)
                    return b;
                if (this.xa())
                    return b;
                throw new DayPilot.Exception("The target placeholder was already initialized by another DayPilot component instance.");
            } return this.le(), this.Eg() ? (this.Gg(), this.Y = !0, this) : (this.og(), this.Va(), this.Wa(), this.events.list || (this.events.list = []), this.Xa(), this.oe(), this.Za(), this.$a(), this.bb(), this.hb(), this.fb(), this.eb(), this.Bf(), this.Jf(), this.Ia(), v.Hg(this), this.Ya(), this.ib(), this.jb(), this.kb(), this.messageHTML && window.setTimeout(function () { b.message(b.messageHTML); }, 0), this.gb(), this.Sa(null, !1), b.initEventEnabled && setTimeout(function () { b.ra("Init"); }), this.Df(), this.mb(), this.Y = !0, this.Ig(), this); }, this.Jg = null, this.qg = function (e) { if (e) {
                var t = { "events": { "preInit": function () { var e = this.data; e && (DayPilot.isArray(e.list) ? b.events.list = e.list : b.events.list = e); } }, "columns": { "preInit": function () { b.Ua() === b.columns ? b.columns = this.data : b.columns.list = this.data; } }, "scrollToHour": { "postInit": function () { "undefined" != typeof this.data && b.scrollToHour(this.data); } } };
                this.Jg = t;
                for (var n in e)
                    if (t[n]) {
                        var i = t[n];
                        i.data = e[n], i.preInit && i.preInit();
                    }
                    else
                        b[n] = e[n];
            } }, this.Ig = function () { var e = this.Jg; for (var t in e) {
                var n = e[t];
                n.postInit && n.postInit();
            } }, this.internal = {}, this.internal.initialized = function () { return b.Y; }, this.internal.invokeEvent = this.Nb, this.internal.eventMenuClick = this.bc, this.internal.timeRangeMenuClick = this.cc, this.internal.bubbleCallBack = this.$b, this.internal.findEventDiv = this.lg, this.internal.eventDeleteDispatch = this.Mb, this.internal.xssTextHtml = b.ma, this.internal.touch = this.ce, this.internal.enableReact = function (e, t) { b.F.react = e, b.F.reactDOM = t; }, this.internal.reactRefs = function () { return l(b.F, {}, ["react", "reactDOM"]); }, this.internal.loadOptions = b.qg, this.Init = this.init, this.qg(m);
        };
        var v = {};
        v.ca = null, v.da = null, v.oc = null, v.pc = null, v.nc = null, v.hf = null, v.of = null, v.pf = null, v.Kf = !1, v.editing = !1, v.originalText = null, v.Hg = function (e) { v.df || (v.df = []); for (var t = v.df, n = 0; n < t.length; n++)
            if (t[n] === e)
                return; t.push(e); }, v.Ha = function (e) { var t = v.df; if (t) {
            var n = DayPilot.indexOf(t, e);
            n !== -1 && t.splice(n, 1), 0 === t.length && (t = null);
        } t || (DayPilot.ue(document, "mousemove", v.Lf), DayPilot.ue(document, "mouseup", v.Mf), DayPilot.ue(document, "touchmove", v.Nf), DayPilot.ue(document, "touchend", v.Of), v.Kf = !1); }, v.xd = function (e) { if (e.data && e.data.calendar.T) {
            for (var t = e.data.calendar, n = [], i = e.data.y, a = e.data.x, r = v.pc.data.y, o = i; o >= r; o--)
                n.push(t.nav.main.rows[o].cells[a]);
            return n;
        } for (var n = [], s = v.Cc(e), l = e.parentNode, d = null; l && d !== v.pc;)
            for (d = l.getElementsByTagName("td")[s], n.push(d), l = l.previousSibling; l && "TR" !== l.tagName;)
                l = l.previousSibling; return n; }, v.if = function (e) { if (e.data && e.data.calendar.T) {
            for (var t = e.data.calendar, n = [], i = e.data.y, a = e.data.x, r = v.pc.data.y, o = i; o <= r; o++)
                n.push(t.nav.main.rows[o].cells[a]);
            return n;
        } for (var n = [], s = v.Cc(e), l = e.parentNode, d = null; l && d !== v.pc;)
            for (d = l.getElementsByTagName("td")[s], n.push(d), l = l.nextSibling; l && "TR" !== l.tagName;)
                l = l.nextSibling; return n; }, v.Cc = function (e) { var t = 0; if (!e)
            return null; for (; e.previousSibling;)
            e = e.previousSibling, "TD" === e.tagName && t++; return t; }, v.Nf = function (e) { if (!s(e) && v.drag) {
            e.preventDefault();
            var t = e.touches ? e.touches[0].pageX : e.pageX, n = e.touches ? e.touches[0].pageY : e.pageY, i = {};
            i.x = t, i.y = n;
            var a = function () { for (var t = e.touches ? e.touches[0].clientX : e.clientX, n = e.touches ? e.touches[0].clientY : e.clientY, i = document.elementFromPoint(t, n); i && i.parentNode;)
                if (i = i.parentNode, i.daypilotMainD)
                    return i.calendar; return !1; }();
            if (a) {
                if (v.gShadow && document.body.removeChild(v.gShadow), v.gShadow = null, a.coords = a.ce.ag(e), !v.movingShadow && a.coords) {
                    var r = a.ob(v.drag, !1);
                    if (r) {
                        v.movingShadow = r;
                        var l = DayPilot.Date.today(), e = { "value": v.drag.id, "start": l, "end": l.addSeconds(v.drag.duration), "text": v.drag.text }, d = new DayPilot.Event(e, a);
                        d.external = !0, h.moving = {}, h.moving.event = d, h.moving.helper = {};
                    }
                }
                h.moving && a.ce._f();
            }
            else {
                f(v.movingShadow);
                var c = h.moving && h.moving.event && h.moving.event.calendar;
                c && o(h.moving, c.K("_event_moving_source")), h.moving = null, v.movingShadow = null, v.gShadow || (v.gShadow = v.createGShadow(v.drag.shadowType));
                var r = v.gShadow;
                r.style.left = i.x + "px", r.style.top = i.y + "px";
            }
        } }, v.Of = function (e) { s(e) || v.Mf(e); }, v.Lf = function (e) { if ("undefined" != typeof v && !(e.insideMainD || e.srcElement && e.srcElement.inside)) {
            var t = DayPilot.mc(e);
            if (v.drag) {
                var n = v.drag.jf, i = "move";
                "string" == typeof n.externalCursor && (i = n.externalCursor), document.body.style.cursor = i, v.gShadow || (v.gShadow = v.createGShadow(v.drag.shadowType));
                var a = v.gShadow, o = 5, s = t.x - o, l = t.y - o;
                a.style.left = s + "px", a.style.top = l + "px", a.style.cursor = i, n.externalHtml && (a.innerHTML = n.externalHtml), n.externalCssClass && r(a, n.externalCssClass), h.moving = null, f(v.movingShadow), v.movingShadow = null;
            }
            for (var d = 0; d < v.df.length; d++)
                v.df[d].Ka && v.df[d].Ka();
        } }, v.Kg = function (e) { if (v.df)
            for (var t = v.df, n = 0; n < t.length; n++) {
                var i = t[n];
                v.Ha(i);
            } }, v.Mf = function (e) { var e = e || window.event; if (h.resizing) {
            if (!v.resizingShadow)
                return h.resizing.style.cursor = "default", h.resizing.event.calendar.nav.top.style.cursor = "auto", void (h.resizing = null);
            var t = h.resizing.event, n = h.resizing.dpBorder, i = v.resizingShadow.clientHeight, a = v.resizingShadow.offsetTop, r = v.resizingShadow.args, s = t.calendar;
            if (h.resizing.style.cursor = "default", s.nav.top.style.cursor = "auto", h.resizing.onclick = null, h.resizing = null, !r.allowed)
                return void s.Tb();
            t.calendar.Sb(t, i, a, n);
        }
        else if (h.moving) {
            var l = function () { h.movingAreaData = null; var e = h.moving && h.moving.event && h.moving.event.calendar; e && o(h.moving, e.K("_event_moving_source")), h.moving = null, f(v.movingShadow), v.movingShadow = null; };
            if (!h.moving.helper)
                return void l();
            if (!v.movingShadow)
                return h.moving.event.calendar.nav.top.style.cursor = "auto", void l();
            var a = v.movingShadow.offsetTop, t = h.moving.event, s = t.calendar;
            s.Na = r;
            var d = v.movingShadow.column, c = v.drag;
            h.moving.event.calendar.nav.top.style.cursor = "auto";
            var r = v.movingShadow.args;
            if (c && (t.calendar.todo || (t.calendar.todo = {}), t.calendar.todo.del = c.element), r && !r.allowed)
                return s.Xb(), void l();
            var u = e || window.event;
            t.calendar.Wb(t, d, a, u, c), l();
        }
        else if (h.selecting) {
            var p = function () { var e = h.selecting, t = h.selecting.calendar; if (v.nc = null, h.selecting = null, !e.args.allowed)
                return void t.clearSelection(); if ("Disabled" === t.timeRangeDoubleClickHandling) {
                var n = t.getSelection();
                if (!n)
                    return;
                t.dc(n.start, n.end, n.resource);
            }
            else
                t.xc = setTimeout(function () { var e = t.getSelection(); e && t.dc(e.start, e.end, e.resource); }, t.doubleClickTimeout); };
            h.selecting && null !== v.ca ? p() : v.selectedTimeout = setTimeout(p, 100);
        }
        else if (v.nc) {
            var s = v.nc.calendar;
            if (h.selecting = {}, h.selecting.calendar = s, s.qc(), !h.selecting.args.allowed)
                return;
            if (v.nc = null, h.selecting = null, "Disabled" === s.timeRangeDoubleClickHandling) {
                var m = s.getSelection();
                s.dc(m.start, m.end, m.resource);
            }
            else
                s.xc = setTimeout(function () { var e = s.getSelection(); s.dc(e.start, e.end, e.resource); }, s.doubleClickTimeout);
        }
        else if (h.colResizing) {
            var g = h.colResizing;
            h.colResizing = null, g.Qd();
        }
        else if (h.colMoving) {
            var b = h.colMoving;
            h.colMoving = null, b.Hd();
        } v.drag && (v.drag = null, document.body.style.cursor = ""), v.gShadow && (document.body.removeChild(v.gShadow), v.gShadow = null), v.moveOffsetY = null; }, v.dragStart = function (e, t, n, i, a) { DayPilot.us(e); var r = v.drag = {}; return r.element = e, r.duration = t, r.text = i, r.id = n, r.shadowType = a ? a : "Fill", r.jf = { "id": n, "text": i, "duration": t, "externalHtml": i }, !1; }, DayPilot.Calendar.def = {}, DayPilot.Calendar.makeDraggable = function (e) { function t() { var t = v.drag = {}; t.element = r, t.id = l, t.duration = c, t.text = d, t.shadowType = "Fill", t.jf = e, t.kf = e.data; } var n = e.element, r = e.keepElement ? null : n, o = e.data || {}, l = "undefined" != typeof e.id ? e.id : o.id, d = "string" == typeof e.text ? e.text : o.text || "", c = e.duration || o.duration; c instanceof DayPilot.Duration && (c = c.totalSeconds()), c || (c = o.start && o.end ? new DayPilot.Duration(o.start, o.end).totalSeconds() : 60), navigator.msPointerEnabled && (n.style.msTouchAction = "none", n.style.touchAction = "none"); var u = function (e) { t(); var n = e.target || e.srcElement; if (n.tagName) {
            var i = n.tagName.toLowerCase();
            if ("textarea" === i || "select" === i || "input" === i)
                return !1;
        } return e.preventDefault && e.preventDefault(), !1; }, h = function (e) { if (!s(e)) {
            window.setTimeout(function () { t(), v.Nf(e), e.preventDefault(); }, 0), e.preventDefault();
        } }; DayPilot.us(n), a(n, "mousedown", u), i(n, DayPilot.touch.start, h), n.cancelDraggable = function () { DayPilot.ue(n, "mousedown", u), DayPilot.ue(n, DayPilot.touch.start, h), delete n.cancelDraggable; }; }, DayPilot.Calendar.stopDragging = function () { if (v.drag && (v.drag = null, document.body.style.cursor = ""), v.gShadow && (document.body.removeChild(v.gShadow), v.gShadow = null), h.resizing) {
            var e = h.resizing.event.calendar;
            h.resizing.style.cursor = "default", h.resizing.onclick = null, h.resizing = null, e.nav.top.style.cursor = "auto", e.Tb();
        } if (h.moving) {
            var e = h.moving && h.moving.event && h.moving.event.calendar;
            e && (e.Na = null, o(h.moving, e.K("_event_moving_source")), e.Xb()), h.movingAreaData = null, h.moving = null;
        } if (h.selecting || v.nc) {
            var e = h.selecting.calendar;
            v.nc = null, h.selecting = null, e && e.clearSelection();
        } }, DayPilot.Calendar.registerDropTarget = function (e) { e = e || {}; var t = e.element, n = e.onDragOver, i = "function" == typeof n, a = e.onDrop, r = "function" == typeof a, o = e.onDragLeave, s = "function" == typeof o; if (!t)
            throw new DayPilot.Exception("registerDropTarget(options): options.element must be specified"); t.addEventListener("mousemove", function (e) { var t = v.drag; if (t) {
            var a = t.kf;
            if (a && i) {
                var r = {};
                r.data = a, n(r);
            }
        } }), t.addEventListener("mouseleave", function (e) { var t = v.drag; if (t) {
            var n = t.kf;
            if (n && s) {
                var i = {};
                i.data = n, o(i);
            }
        } }), t.addEventListener("mouseup", function (e) { var t = v.drag; if (t) {
            var n = t.kf;
            if (n && r) {
                var i = {};
                i.data = n, a(i), t.element && f(t.element);
            }
        } }); }, v.createGShadow = function (n) { var i = t(); return i.setAttribute("unselectable", "on"), i.style.position = "absolute", i.style.width = "100px", i.style.height = "20px", i.style.border = "2px dotted #666666", i.style.zIndex = e, i.style.pointerEvents = "none", "Fill" === n && (i.style.backgroundColor = "#aaaaaa", i.style.opacity = .5, i.style.filter = "alpha(opacity=50)", i.style.border = "2px solid #aaaaaa"), document.body.appendChild(i), i; }, v.moveShadow = function (e) { var t = v.movingShadow; t.parentNode && t.parentNode.removeChild(t), e.firstChild.appendChild(t), t.style.left = "0px", t.style.width = "", t.style.right = "0px"; }, DayPilot.Column = function (e, t) { var n = this; n.id = e.id, n.name = e.name, n.data = e.data, n.date = new DayPilot.Date(e.start), n.start = n.date, n.calendar = t, n.events = {}, n.events.all = function () { for (var t = u(), n = 0; n < e.events.length; n++)
            t.push(e.events[n]); return t; }, n.events.isEmpty = function () { return 0 === e.events.length; }, n.events.forRange = function (t, i) { t = new DayPilot.Date(t), i = i ? new DayPilot.Date(i) : e.ud(); for (var a = u(), r = 0; r < n.events.length; r++) {
            var o = n.events[r];
            c(o.start(), o.end(), t, i) && a.push(o);
        } return a; }, n.events.totalDuration = function () { var e = 0; return n.events.all().forEach(function (t) { e += t.part.end.getTime() - t.part.start.getTime(); }), new DayPilot.Duration(e); }, n.value = e.id, n.toJSON = function () { var e = {}; return e.id = this.id, this.date && (e.date = this.date.toString()), e.name = this.name, e.value = this.value, e; }; }, "undefined" != typeof jQuery && !function (e) { e.fn.daypilotCalendar = function (e) { var t = null, n = this.each(function () { if (!this.daypilot) {
            var n = new DayPilot.Calendar(this.id, e);
            n.init(), this.daypilot = n, t || (t = n);
        } }); return 1 === this.length ? t : n; }; }(jQuery), function () { var e = DayPilot.am(); e && e.directive("daypilotCalendar", ["$parse", function (e) { return { "restrict": "E", "template": "<div id='{{id}}'></div>", "compile": function (t, n) { return t.replaceWith(this["template"].replace("{{id}}", n["id"])), function (t, n, i) { var a = new DayPilot.Calendar(n[0]); a.mg.scope = t, a.init(); var r = i["id"]; r && (t[r] = a); var o = i["publishAs"]; if (o) {
                    (0, e(o).assign)(t, a);
                } for (var s in i)
                    if (0 === s.indexOf("on")) {
                        var l = DayPilot.Util.shouldApply(s);
                        l ? !function (n) { a[n] = function (a) { var r = e(i[n]); t["$apply"](function () { r(t, { "args": a }); }); }; }(s) : !function (n) { a[n] = function (a) { e(i[n])(t, { "args": a }); }; }(s);
                    } var d = t["$watch"], c = i["config"] || i["daypilotConfig"], u = i["events"] || i["daypilotEvents"]; d.call(t, c, function (e, t) { for (var n in e)
                    a[n] = e[n]; a.update(); }, !0), d.call(t, u, function (e) { a.events.list = e, a.bd({ "eventsOnly": !0 }); }, !0); }; } }; }]); }(), "undefined" != typeof Sys && Sys.Application && Sys.Application.notifyScriptLoaded && Sys.Application.notifyScriptLoaded();
    }
}(DayPilot), "undefined" == typeof DayPilot)
    var DayPilot = {};
if ("undefined" == typeof DayPilot.Global && (DayPilot.Global = {}), function (DayPilot) { "undefined" == typeof DayPilot.DatePicker && (DayPilot.DatePicker = function (e) { this.v = "2022.4.5457"; var t = "navigator_" + (new Date).getTime(), n = this; this.onShow = null, this.onTimeRangeSelect = null, this.onTimeRangeSelected = null, this.prepare = function () { if (this.locale = "en-us", this.target = null, this.targetAlignment = "left", this.resetTarget = !0, this.pattern = this.oa.locale().datePattern, this.theme = "navigator_default", this.patterns = [], this.zIndex = null, e)
    for (var t in e)
        this[t] = e[t]; }, this.init = function () { this.date = new DayPilot.Date(this.date); var e = this.Lg(); this.resetTarget && !e ? this.Mg(this.date) : this.resetTarget || (n.date = e); var t = this.Ng(); return t && t.addEventListener("input", function () { n.date = n.Lg(), n.date && n.navigator.select(n.date, { dontNotify: !0 }); }), document.addEventListener("mousedown", function () { n.close(); }), this; }, this.close = function () { this.Cf && (this.Cf = !1, this.navigator && this.navigator.dispose(), this.div.innerHTML = "", this.div && this.div.parentNode === document.body && document.body.removeChild(this.div)); }, this.setDate = function (e) { this.date = new DayPilot.Date(e), this.Mg(this.date); }, this.Lg = function () { var e = this.Ng(); if (!e)
    return this.date; var t = null; if (t = "INPUT" === e.tagName ? e.value : e.innerText, !t)
    return null; for (var i = DayPilot.Date.parse(t, n.pattern), a = 0; a < n.patterns.length; a++) {
    if (i)
        return i;
    i = DayPilot.Date.parse(t, n.patterns[a]);
} return i; }, this.Mg = function (e) { var t = this.Ng(); if (t) {
    var i = e.toString(n.pattern, n.locale);
    "INPUT" === t.tagName ? t.value = i : t.innerHTML = i;
} }, this.oa = {}, this.oa.locale = function () { return DayPilot.Locale.find(n.locale); }, this.Ng = function () { var e = this.target; return e && e.nodeType && 1 === e.nodeType ? e : document.getElementById(e); }, Object.defineProperty(this, "visible", { get: function () { return n.Cf; } }), this.show = function () { if (!this.Cf) {
    var e = this.Ng(), i = this.navigator, i = new DayPilot.Navigator(t);
    i.api = 2, i.cssOnly = !0, i.theme = n.theme, i.weekStarts = "Auto", i.locale = n.locale, i.onTimeRangeSelected = function (e) { n.date = e.start; var t = e.start.addTime(i.Og), a = t.toString(n.pattern, n.locale), e = {}; e.start = t, e.date = t, e.preventDefault = function () { this.preventDefault.value = !0; }, "function" == typeof n.onTimeRangeSelect && (n.onTimeRangeSelect(e), e.preventDefault.value) || (n.Mg(a), n.close(), "function" == typeof n.onTimeRangeSelected && n.onTimeRangeSelected(e)); }, this.navigator = i;
    var a = DayPilot.abs(e), r = e.offsetHeight, o = n.targetAlignment, s = document.createElement("div");
    s.style.position = "absolute", "left" === o && (s.style.left = a.x + "px"), s.style.top = a.y + r + "px", n.zIndex && (s.style.zIndex = n.zIndex);
    var l = document.createElement("div");
    l.id = t, s.appendChild(l), s.addEventListener("mousedown", function (e) { var e = e || window.event; e.cancelBubble = !0, e.stopPropagation && e.stopPropagation(); }), document.body.appendChild(s), this.div = s;
    var d = n.Lg() || (new DayPilot.Date).getDatePart();
    if (i.startDate = d, i.Og = d.getTimePart(), i.selectionDay = d.getDatePart(), i.init(), "right" === o) {
        var c = a.x + e.offsetWidth - i.nav.top.offsetWidth;
        s.style.left = c + "px";
    }
    this.Cf = !0, this.onShow && this.onShow();
} }, this.prepare(), this.init(); }); }(DayPilot), "undefined" == typeof DayPilot)
    var DayPilot = {};
if ("undefined" == typeof DayPilot.Global && (DayPilot.Global = {}), function (DayPilot) {
    if ("undefined" == typeof DayPilot.Gantt || !DayPilot.Gantt.def) {
        var e = function () { };
        DayPilot.Gantt = function (t, n) {
            this.v = "2022.4.5457";
            var i = this;
            this.id = t, this.isGantt = !0;
            var a = new DayPilot.Scheduler(t);
            this.scheduler = a, a.viewType = "Resources", a.onCallBackHeader = function (e) { e.header.taskGroupMode = i.taskGroupMode, e.header.rowHeaderColumns = i.columns, e.header.clientState = i.clientState; }, a.onGetNodeState = function (e) { var t = function (e) { var t = {}; if (e.tags)
                for (var n in e.tags)
                    t[n] = "" + e.tags[n]; return t; }, n = function (e) { var n = e.task, i = {}; return i.start = n.start, i.end = n.end, i.id = n.id, i.complete = n.complete, i.text = n.text, i.type = n.type, i.expanded = e.expanded, i.loaded = e.loaded, i.tags = t(n), i.versions = n.versions, i.children = a.internal.getNodeChildren(e.children), i; }; e.result = n(e.row), e.preventDefault(); }, a.Pg = function (e) { }, a.onCallBackResult = function (e) { var t = e.result; e.preventDefault(); var n = function () { t.scrollToTaskId && a.scrollToResource(t.scrollToTaskId); }; if ("None" === t.updateType)
                return void n(); var r = function (e) { for (var n = 0; n < e.length; n++) {
                var a = e[n];
                "undefined" != typeof t[a] && (i[a] = t[a]);
            } }; i.links.list = t.links, i.tasks.list = t.tasks, i.startDate = new DayPilot.Date(t.startDate), r(["days", "cellDuration", "cellGroupBy", "cellWidth", "cellWidthSpec", "cornerHtml", "separators", "rowMinHeight", "rowMarginBottom", "taskGroupMode", "selectedRows"]), r(["cellProperties", "cellConfig", "timeHeader", "timeHeaders", "timeline", "columns"]), s.translate(), s.Qg(), s.Rg(), a.update(), a.show(), n(); }, this.taskGroupMode = "Auto", this.autoRefreshCommand = "refresh", this.autoRefreshEnabled = !1, this.autoRefreshInterval = 60, this.autoRefreshMaxCount = 20, this.autoScroll = "Drag", "function" == typeof DayPilot.Bubble ? (this.bubbleTask = new DayPilot.Bubble, this.bubbleCell = new DayPilot.Bubble, this.bubbleRow = new DayPilot.Bubble) : (this.bubbleTask = null, this.bubbleCell = null, this.bubbleRow = null), this.cellDuration = 1440, this.cellGroupBy = "Month", this.cellWidth = 40, this.cellWidthSpec = "Fixed", this.completeBarVisible = !0, this.completeBarHeight = 3, this.contextMenuTask = null, this.contextMenuRow = null, this.contextMenuLink = null, this.cornerText = "", this.cornerHtml = null, this.crosshairType = "Header", this.doubleClickTimeout = 300, this.progressiveTaskRendering = "Progressive", this.progressiveTaskRenderingMargin = 500, this.progressiveTaskRenderingCacheSweeping = !1, this.progressiveTaskRenderingCacheSize = 200, this.floatingTasks = !0, this.floatingTimeHeaders = !0, this.headerHeight = 30, this.height = 300, this.heightSpec = "Max", this.hideBorderFor100PctHeight = !1, this.hideUntilInit = !1, this.linkBottomMargin = 17, this.linkPointSize = 10, this.loadingLabelVisible = !0, this.loadingLabelText = "Loading...", this.loadingLabelHtml = null, this.locale = "en-us", this.messageBarPosition = "Top", this.messageHideAfter = 5e3, this.progressiveRowRendering = !0, this.progressiveRowRenderingPreload = 25, this.rowHeaderColumnsMergeParents = !1, this.rowHeaderScrolling = !1, this.rowHeaderSplitterWidth = 3, this.rowHeaderHideIconEnabled = !0, this.rowHeaderWidth = 80, this.rowHeaderWidthAutoFit = !0, this.rowMarginBottom = 4, this.rowMinHeight = 0, this.scrollDelayTasks = 200, this.scrollDelayCells = 20, this.scrollDelayFloats = 0, this.scale = "Day", this.selectedRows = [], this.snapToGrid = !0, this.syncTasks = !0, this.syncLinks = !0, this.tapAndHoldTimeout = 300, this.taskHeight = 34, this.taskHtmlLeftMargin = 20, this.taskHtmlRightMargin = 20, this.taskResizeMargin = 5, this.taskMovingStartEndEnabled = !1, this.taskMovingStartEndFormat = "MMMM d, yyyy", this.taskResizingStartEndEnabled = !1, this.taskResizingStartEndFormat = "MMMM d, yyyy", this.theme = "gantt_default", this.treeAnimation = !0, this.treeAutoExpand = !0,
                this.treeIndent = 20, this.treeImageMarginLeft = 0, this.treeImageMarginTop = 3, this.treeImageMarginRight = 5, this.treeImageWidth = 10, this.treeImageHeight = 10, this.timeline = null, this.timeHeaders = [{ "groupBy": "Month", "format": "MMMM yyyy" }, { "groupBy": "Day", "format": "d" }], this.useEventBoxes = "Never", this.visible = !0, this.xssProtection = "Enabled", this.taskVersionsEnabled = !1, this.taskVersionHeight = 24, this.taskVersionMargin = 2, this.taskVersionPosition = "Above", this.taskMoveHandling = "Update", this.taskClickHandling = "Enabled", this.taskResizeHandling = "Update", this.linkCreateHandling = "Update", this.taskRightClickHandling = "ContextMenu", this.taskDoubleClickHandling = "Disabled", this.tasksLoadMethod = "GET", this.rowCreateHandling = "Disabled", this.rowMoveHandling = "Update", this.rowClickHandling = "Disabled", this.rowDoubleClickHandling = "Disabled", this.rowEditHandling = "Update", this.rowSelectHandling = "Update", this.clientState = {}, this.separators = [], this.members = {}, this.members.obsolete = [], this.members.ignore = ["members", "scheduler", "internal", "cellProperties"], this.members.noCssOnly = [], this.links = {}, this.links.list = [], this.links.add = function (e) { if (e) {
                var t = e.isLink ? e.data : e;
                i.links.list.push(t), i.Y && (s.Rg(), a.update()), i.mg.notify();
            } }, this.links.remove = function (e) { if (e) {
                var t;
                t = e.isLink ? e.data : e;
                var n = DayPilot.indexOf(i.links.list, t);
                n !== -1 && (i.links.list.splice(n, 1), i.Y && (s.Rg(), a.update()), i.mg.notify());
            } }, this.links.find = function (e) { if (!DayPilot.isArray(i.links.list))
                return null; for (var t = 0; t < i.links.list.length; t++) {
                var n = i.links.list[t];
                if (n.id === e)
                    return new DayPilot.Link(n, i);
            } return null; }, this.links.findByFromTo = function (e, t) { if (!DayPilot.isArray(i.links.list))
                return null; for (var n = 0; n < i.links.list.length; n++) {
                var a = i.links.list[n];
                if (a.from === e && a.to === t)
                    return new DayPilot.Link(a, i);
            } return null; }, this.links.load = function (e, t, n) { a.links.load(e, function (e) { "function" == typeof t && (t(e), e.preventDefault.value) || (i.links.list = e.data); }, n, { "dontAddStartEnd": !0 }); }, this.Sg = {};
            var r = this.Sg;
            r.timeout = null, r.update = function () { i.Y && (window.clearTimeout(r.timeout), r.timeout = setTimeout(function () { s.Qg(), a.update(); }, 0)); }, this.tasks = {}, this.tasks.list = [], this.tasks.add = function (e) { if (e) {
                if (e instanceof DayPilot.Event)
                    throw "DayPilot.Task object required. You have supplied DayPilot.Event.";
                var t = e.isTask ? e.data : e;
                i.tasks.list.push(t), r.update(), i.mg.notify();
            } }, this.tasks.find = function (e) { var t = o.findInCache(e); return t ? new DayPilot.Task(t, i) : null; }, this.tasks.update = function (e) { if (e) {
                var t = null;
                if (e.isTask)
                    e.commit(), t = e.data;
                else {
                    if ("object" != typeof e)
                        throw "DayPilot.Task or task data object expected";
                    t = e;
                }
                var n = i.tasks.find(t.id);
                if (n) {
                    var a = o.findParentArray(n.data), s = a.indexOf(n.data);
                    a.splice(s, 1, t), r.update(), i.mg.notify();
                }
            } }, this.tasks.remove = function (e) { if (e) {
                if (!e.isTask)
                    throw "DayPilot.Task object expected";
                var t = o.findParentArray(e.data);
                if (t) {
                    var n = DayPilot.indexOf(t, e.data);
                    t.splice(n, 1), r.update(), i.mg.notify();
                }
            } }, this.tasks.load = function (e, t, n) { if (!e)
                throw new DayPilot.Exception("events.load(): 'url' parameter required"); var a = function (e) { var t = {}; t.exception = e.exception, t.request = e.request, "function" == typeof n && n(t); }, r = function (e) { var n, r = e.request; try {
                n = JSON.parse(r.responseText);
            }
            catch (e) {
                var o = {};
                return o.exception = e, void a(o);
            } if (DayPilot.isArray(n)) {
                var s = {};
                if (s.preventDefault = function () { this.preventDefault.value = !0; }, s.data = n, "function" == typeof t && t(s), s.preventDefault.value)
                    return;
                i.tasks.list = n, i.Y && i.update();
            } }; if (i.tasksLoadMethod && "POST" === i.tasksLoadMethod.toUpperCase())
                DayPilot.ajax({ "method": "POST", "contentType": "application/json", "url": e, "success": r, "error": a });
            else {
                var o = e;
                DayPilot.ajax({ "method": "GET", "url": o, "success": r, "error": a });
            } }, this.visibleStart = function () { return a.visibleStart(); }, this.visibleEnd = function () { return a.visibleEnd(); }, this.onAfterRender = null, this.onAfterUpdate = null, this.onBeforeRowHeaderRender = null, this.onBeforeTaskRender = null, this.onBeforeTimeHeaderRender = null, this.onBeforeCellRender = null, this.onBeforeCornerRender = null, this.onTaskClick = null, this.onTaskClicked = null, this.onTaskDoubleClick = null, this.onTaskDoubleClicked = null, this.onTaskRightClick = null, this.onTaskRightClicked = null, this.onRowCreate = null, this.onRowCreated = null, this.onRowMove = null, this.onRowMoved = null, this.onRowMoving = null, this.onRowClick = null, this.onRowClicked = null, this.onRowDoubleClick = null, this.onRowDoubleClicked = null, this.onRowEdit = null, this.onRowEdited = null, this.onRowFilter = null, this.onRowSelect = null, this.onRowSelected = null, this.onTaskMove = null, this.onTaskMoved = null, this.onTaskMoving = null, this.onTaskResize = null, this.onTaskResized = null, this.onTaskResizing = null, this.onLinkCreate = null, this.onLinkCreated = null, this.M = function () { return !!this.backendUrl || !("function" != typeof WebForm_DoCallback || !this.uniqueID); }, this.Tg = function () { function e(i) { for (var a = 0; a < i.length; a++) {
                var s = i[a];
                t = new DayPilot.Date(s.start), n = new DayPilot.Date(s.end), (null === r || t.getTime() < r) && (r = t.getTime()), (null === o || n.getTime() > o) && (o = n.getTime()), s.children && s.children.length > 0 && e(s.children);
            } } if ("string" == typeof i.startDate && (i.startDate = new DayPilot.Date(i.startDate)), !i.startDate || !i.days) {
                var t = DayPilot.Date.today(), n = t.addDays(1), r = null, o = null;
                e(i.tasks.list), r && o ? (t = new DayPilot.Date(r).getDatePart(), n = new DayPilot.Date(o).getDatePart().addDays(1), a.startDate = i.startDate || t, a.days = i.days || DayPilot.DateUtil.daysDiff(t, n)) : (a.startDate = t, a.days = 30);
            } }, this.Ug = function (e, t, n) { }, this.commandCallBack = function (e, t) { s.translate(), a.commandCallBack(e, t); }, this.message = function (e, t, n, i) { a.message(e, t, n, i); }, this.setHeight = function (e) { a.setHeight(e); }, this.Eg = function () { return !!this.backendUrl; }, this.init = function () { if (this.Y)
                throw new DayPilot.Exception("This instance is already initialized. Use update() to change properties."); return s.translate(), s.Qg(), s.Rg(), this.Tg(), a.init(), this.Y = !0, this.Ig(), this; }, this.Z = !1, this.dispose = function () { a.dispose(), i.Z = !0; }, this.update = function (e) { if (!i.Y)
                throw new DayPilot.Exception("You are trying to update a DayPilot.Gantt instance that hasn't been initialized yet."); if (i.Z)
                throw new DayPilot.Exception("You are trying to update a DayPilot.Gantt instance that has been disposed."); i.qg(e), s.translate(), s.Qg(), s.Rg(), i.Tg(), a.update(); }, this.scrollTo = function (e) { a.scrollTo(e); }, this.scrollToTask = function (e) { a.scrollToResource(e); }, this.Vg = {};
            var o = this.Vg;
            o.cache = {}, o.clearCache = function () { o.cache = {}; }, o.addToCache = function (e, t) { var n = e.id; if (n) {
                var i = {};
                if (i.isTaskWrapper = !0, i.data = e, i.parent = t, o.cache[n])
                    throw "Duplicate task id detected";
                o.cache[n] = i;
            } }, o.findInCache = function (e) { return e ? o.cache[e.toString()] : null; }, o.getProperty = function (e, t) { return e.tags && e.tags[t] ? e.tags[t] : e[t]; }, o.findParentArray = function (e) { return o.findInArray(i.tasks.list, e); }, o.findInArray = function (e, t) { if (DayPilot.indexOf(e, t) !== -1)
                return e; for (var n = 0; n < e.length; n++) {
                var i = e[n];
                if (i.children && i.children.length > 0) {
                    var a = o.findInArray(i.children, t);
                    if (a)
                        return a;
                }
            } return null; }, this.Wg = {};
            var s = this.Wg;
            s.translate = function () { if (a.internal.gantt = i, a.durationBarMode = "PercentComplete", a.timeRangeSelectedHandling = "Disabled", a.treeEnabled = !0, a.rowCreateHtml = "", a.rowHeaderColumnsMode = "Legacy", a.autoRefreshCommand = i.autoRefreshCommand, a.autoRefreshEnabled = i.autoRefreshEnabled, a.autoRefreshInterval = i.autoRefreshInterval, a.autoRefreshMaxCount = i.autoRefreshMaxCount, a.autoScroll = i.autoScroll, a.backendUrl = i.backendUrl, a.crosshairType = i.crosshairType, a.doubleClickTimeout = i.doubleClickTimeout, a.durationBarVisible = i.completeBarVisible, a.durationBarHeight = i.completeBarHeight, a.dynamicEventRendering = i.progressiveTaskRendering, a.dynamicEventRenderingMargin = i.progressiveTaskRenderingMargin, a.dynamicEventRenderingCacheSweeping = i.progressiveTaskRenderingCacheSweeping, a.dynamicEventRenderingCacheSize = i.progressiveTaskRenderingCacheSize, a.startDate = new DayPilot.Date(i.startDate), a.days = i.days, a.cellDuration = i.cellDuration, a.cellGroupBy = i.cellGroupBy, a.cellWidth = i.cellWidth, a.cellWidthSpec = i.cellWidthSpec, a.cornerHtml = i.cornerHtml, a.cornerText = i.cornerText, a.eventHeight = i.taskHeight, a.eventResizeMargin = i.taskResizeMargin, a.floatingEvents = i.floatingTasks, a.floatingTimeHeaders = i.floatingTimeHeaders, a.headerHeight = i.headerHeight, a.heightSpec = i.heightSpec, a.height = i.height, a.linkBottomMargin = i.linkBottomMargin, a.linkPointSize = i.linkPointSize, a.loadingLabelVisible = i.loadingLabelVisible, a.loadingLabelText = i.loadingLabelText, a.loadingLabelHtml = i.loadingLabelHtml, a.locale = i.locale, a.messageBarPosition = i.messageBarPosition, a.messageHideAfter = i.messageHideAfter, a.rowCreateHandling = i.rowCreateHandling, a.progressiveRowRendering = i.progressiveRowRendering, a.progressiveRowRenderingPreload = i.progressiveRowRenderingPreload, a.scale = i.scale, a.scrollDelayEvents = i.scrollDelayTasks, a.scrollDelayCells = i.scrollDelayCells, a.scrollDelayFloats = i.scrollDelayFloats, a.scrollX = i.scrollX, a.scrollY = i.scrollY, i.scrollToTaskId && (a.scrollToResourceId = i.scrollToTaskId), a.separators = i.separators, a.tapAndHoldTimeout = i.tapAndHoldTimeout, a.eventHtmlLeftMargin = i.taskHtmlLeftMargin, a.eventHtmlRightMargin = i.taskHtmlRightMargin, a.eventMovingStartEndEnabled = i.taskMovingStartEndEnabled, a.eventMovingStartEndFormat = i.taskMovingStartEndFormat, a.eventResizingStartEndEnabled = i.taskResizingStartEndEnabled, a.eventResizingStartEndFormat = i.taskResizingStartEndFormat, a.hideBorderFor100PctHeight = i.hideBorderFor100PctHeight, a.hideUntilInit = i.hideUntilInit, a.treeIndent = i.treeIndent, a.treeAnimation = i.treeAnimation, a.treeAutoExpand = i.treeAutoExpand, a.treeImageMarginLeft = i.treeImageMarginLeft, a.treeImageMarginTop = i.treeImageMarginTop, a.treeImageMarginRight = i.treeImageMarginRight, a.treeImageWidth = i.treeImageWidth, a.treeImageHeight = i.treeImageHeight, a.timeHeaders = i.timeHeaders, a.rowHeaderHideIconEnabled = i.rowHeaderHideIconEnabled, a.rowHeaderColumnsMergeParents = i.rowHeaderColumnsMergeParents, a.rowHeaderScrolling = i.rowHeaderScrolling, a.rowHeaderSplitterWidth = i.rowHeaderSplitterWidth, a.rowHeaderWidth = i.rowHeaderWidth, a.rowHeaderWidthAutoFit = i.rowHeaderWidthAutoFit, a.rowMarginBottom = i.rowMarginBottom, a.rowMinHeight = i.rowMinHeight, a.selectedRows = i.selectedRows, a.theme = i.theme, a.useEventBoxes = i.useEventBoxes, a.snapToGrid = i.snapToGrid, a.uniqueID = i.uniqueID, a.bubble = i.bubbleTask, a.cellBubble = i.bubbleCell, a.resourceBubble = i.bubbleRow, a.contextMenu = i.contextMenuTask, a.contextMenuResource = i.contextMenuRow, a.contextMenuLink = i.contextMenuLink, a.syncResourceTree = i.syncTasks, a.syncLinks = i.syncLinks, a.timeline = i.timeline, a.visible = i.visible, a.devsb = i.devsb, a.xssProtection = i.xssProtection, a.eventMoveHandling = i.taskMoveHandling, a.eventClickHandling = i.taskClickHandling, a.eventResizeHandling = i.taskResizeHandling, a.linkCreateHandling = i.linkCreateHandling, a.eventRightClickHandling = i.taskRightClickHandling, a.eventDoubleClickHandling = i.taskDoubleClickHandling, a.rowMoveHandling = i.rowMoveHandling, a.rowClickHandling = i.rowClickHandling, a.rowDoubleClickHandling = i.rowDoubleClickHandling, a.rowEditHandling = i.rowEditHandling, a.rowSelectHandling = i.rowSelectHandling, a.eventVersionsEnabled = i.taskVersionsEnabled, a.eventVersionHeight = i.taskVersionHeight, a.eventVersionMargin = i.taskVersionMargin, a.eventVersionPosition = i.taskVersionPosition, DayPilot.isArray(i.columns)) {
                a.rowHeaderColumns = [];
                for (var e = 0; e < i.columns.length; e++) {
                    var t = i.columns[e], n = {};
                    DayPilot.Util.copyProps(t, n, ["html", "text", "name", "title", "width", "hidden"]), a.rowHeaderColumns.push(n);
                }
            } i.M() && (a.timeHeader = i.timeHeader, a.cellProperties = i.cellProperties, a.cellConfig = i.cellConfig), a.onRowCreate = function (e) { e.control = i, "function" == typeof i.onRowCreate && i.onRowCreate(e); }, a.onRowCreated = function (e) { "function" == typeof i.onRowCreated && i.onRowCreated(e); }, a.onAfterRender = function (e) { "function" == typeof i.onAfterRender && i.onAfterRender(e); }, a.onAfterUpdate = function (e) { "function" == typeof i.onAfterUpdate && i.onAfterUpdate(e); }, a.onRowHeaderResized = function (e) { i.rowHeaderWidth = a.rowHeaderWidth; }, a.onRowFilter = function (e) { "function" == typeof i.onRowFilter && (e.task = new DayPilot.Task(e.row.$.row.task, i), e.control = i, i.onRowFilter(e)); }, a.onAjaxError = function (e) { "function" == typeof i.onAjaxError && i.onAjaxError(e); }, a.onRowHeaderColumnResized = function (e) { for (var t = e.column, n = DayPilot.indexOf(a.rowHeaderColumns, t), r = 0; r < i.columns.length; r++) {
                var o = a.rowHeaderColumns[r];
                i.columns[r].width = o.width;
            } if ("function" == typeof i.onColumnResized) {
                var s = {};
                s.column = i.columns[n], i.onColumnResized(s);
            } }, a.internalUseStandardColumns = DayPilot.isArray(i.columns), a.onBeforeRowHeaderRender = function (e) { e.task = new DayPilot.Task(e.row.$.row.task, i); var t = e.row.$.row.events[0]; t && "Auto" === i.taskGroupMode && "Group" === t.data.type && (e.task.data.start = t.data.start, e.task.data.end = t.data.end); var n = []; if (DayPilot.isArray(i.columns))
                for (var r = 0; r < i.columns.length; r++) {
                    var s = i.columns[r], l = s.display || s.property, d = {};
                    d.value = a.internal.xssTextHtml(o.getProperty(e.task.data, l)), e.task.data.row && e.task.data.row.columns && e.task.data.row.columns[r] ? d.html = e.task.data.row.columns[r].html : d.html = d.value, n.push(d);
                } e.row.columns = n, "function" == typeof i.onBeforeRowHeaderRender && i.onBeforeRowHeaderRender(e); }, a.onBeforeCellRender = function (e) { e.task = i.tasks.find(e.cell.resource), delete e.cell.resource, "function" == typeof i.onBeforeCellRender && (e.control = i, i.onBeforeCellRender(e)); }, a.onBeforeCornerRender = function (e) { "function" == typeof i.onBeforeCornerRender && (e.control = i, i.onBeforeCornerRender(e)); }, a.onBeforeTimeHeaderRender = function (e) { "function" == typeof i.onBeforeTimeHeaderRender && (e.control = i, i.onBeforeTimeHeaderRender(e)); }, a.onEventClick = function (e) { e.task = new DayPilot.Task(e.e, i), e.control = i, "function" == typeof i.onTaskClick && i.onTaskClick(e); }, a.onEventClicked = function (e) { "function" == typeof i.onTaskClicked && i.onTaskClicked(e); }, a.onEventDelete = function (e) { "function" == typeof i.onTaskDelete && i.onTaskDelete(e); }, a.onEventDeleted = function (e) { "function" == typeof i.onTaskDeleted && i.onTaskDeleted(e); }, a.onEventDoubleClick = function (e) { e.task = new DayPilot.Task(e.e, i), e.control = i, "function" == typeof i.onTaskDoubleClick && i.onTaskDoubleClick(e); }, a.onEventDoubleClicked = function (e) { "function" == typeof i.onTaskDoubleClicked && i.onTaskDoubleClicked(e); }, a.onEventRightClick = function (e) { e.task = new DayPilot.Task(e.e, i), "function" == typeof i.onTaskRightClick && i.onTaskRightClick(e); }, a.onEventRightClicked = function (e) { "function" == typeof i.onTaskRightClicked && i.onTaskRightClicked(e); }, a.onRowMoving = function (e) { e.Xg = e.source, e.Yg = e.target, e.source = new DayPilot.Task(e.Xg.$.row.task, i), e.target = new DayPilot.Task(e.Yg.$.row.task, i), "function" == typeof i.onRowMoving && i.onRowMoving(e); }, a.onRowMove = function (e) { e.Xg = e.source, e.Yg = e.target, e.source = new DayPilot.Task(e.Xg.$.row.task, i), e.target = new DayPilot.Task(e.Yg.$.row.task, i), e.control = i, "function" == typeof i.onRowMove && i.onRowMove(e), e.source = e.Xg, e.target = e.Yg; }, a.onRowMoved = function (e) { if ("Update" === i.rowMoveHandling || "Notify" === i.rowMoveHandling) {
                var t = e.Xg.$.row.task, n = e.Yg.$.row.task, a = e.position;
                if ("forbidden" === a)
                    return;
                var r = e.Xg.calendar.internal.gantt, s = r.Vg.findParentArray(t);
                if (!s)
                    throw "Cannot find source node parent";
                var l = DayPilot.indexOf(s, t);
                s.splice(l, 1);
                var d = o.findParentArray(n);
                if (!d)
                    throw "Cannot find target node parent";
                var c = DayPilot.indexOf(d, n);
                switch (a) {
                    case "before":
                        d.splice(c, 0, t);
                        break;
                    case "after":
                        d.splice(c + 1, 0, t);
                        break;
                    case "child": n.children || (n.children = [], n.expanded = !0), n.children.push(t);
                }
                i.mg.notify(), i.update(), r !== i && r.update();
            } e.source = new DayPilot.Task(e.Xg.$.row.task, i), e.target = new DayPilot.Task(e.Yg.$.row.task, i), "function" == typeof i.onRowMoved && i.onRowMoved(e); }, a.onRowClick = function (e) { e.task = new DayPilot.Task(e.resource.$.row.task, i), "function" == typeof i.onRowClick && i.onRowClick(e); }, a.onRowClicked = function (e) { "function" == typeof i.onRowClicked && i.onRowClicked(e); }, a.onRowDoubleClick = function (e) { e.task = new DayPilot.Task(e.resource.$.row.task, i), "function" == typeof i.onRowDoubleClick && i.onRowDoubleClick(e); }, a.onRowDoubleClicked = function (e) { "function" == typeof i.onRowDoubleClicked && i.onRowDoubleClicked(e); }, a.onRowEdit = function (e) { e.task = new DayPilot.Task(e.resource.$.row.task, i), "function" == typeof i.onRowEdit && i.onRowEdit(e); }, a.onRowEdited = function (e) { "function" == typeof i.onRowEdited && i.onRowEdited(e); }, a.onRowSelect = function (e) { e.task = new DayPilot.Task(e.row.$.row.task, i), "function" == typeof i.onRowSelect && i.onRowSelect(e); }, a.onRowSelected = function (e) { "function" == typeof i.onRowSelected && i.onRowSelected(e); }, a.onEventMove = function (e) { e.Zg = e.e, e.task = new DayPilot.Task(e.e, i), e.control = i, "function" == typeof i.onTaskMove && i.onTaskMove(e); }, a.onEventMoved = function (e) { if ("Auto" === i.taskGroupMode) {
                var t = e.Zg, n = t.data.task;
                for (n.start = t.start(), n.end = t.end(); t.data.parent;) {
                    var r = a.events.find(t.data.parent.id), o = s.childrenStartEnd(t.data.parent);
                    r.start(o.start), r.end(o.end), a.events.update(r), t = r;
                }
            } i.mg.notify(), "function" == typeof i.onTaskMoved && i.onTaskMoved(e); }, a.onEventMoving = function (e) { e.task = new DayPilot.Task(e.e, i), e.Zg = e.e, delete e.position, delete e.overlapping, delete e.resource, "function" == typeof i.onTaskMoving && i.onTaskMoving(e); }, a.onEventResize = function (e) { e.Zg = e.e, e.task = new DayPilot.Task(e.e, i), e.control = i, "function" == typeof i.onTaskResize && i.onTaskResize(e); }, a.onEventResized = function (e) { if ("Auto" === i.taskGroupMode) {
                var t = e.Zg, n = t.data.task;
                for (n.start = t.start(), n.end = t.end(); t.data.parent;) {
                    var r = a.events.find(t.data.parent.id), o = s.childrenStartEnd(t.data.parent);
                    r.start(o.start), r.end(o.end), a.events.update(r), t = r;
                }
            } i.mg.notify(), "function" == typeof i.onTaskResized && i.onTaskResized(e); }, a.onEventResizing = function (e) { e.task = new DayPilot.Task(e.e, i), e.Zg = e.e, e.control = i, "function" == typeof i.onTaskResizing && i.onTaskResizing(e); }, a.onLinkCreate = function (e) { e.source = i.tasks.find(e.from), e.target = i.tasks.find(e.to), e.control = i, "function" == typeof i.onLinkCreate && i.onLinkCreate(e); }, a.onLinkCreated = function (e) { "function" == typeof i.onLinkCreated && i.onLinkCreated(e); }, a.onResourceExpand = function (e) { var t = e.resource.$.row.task; t.row || (t.row = {}), t.row.collapsed = !1; }, a.onResourceCollapse = function (e) { var t = e.resource.$.row.task; t.row || (t.row = {}), t.row.collapsed = !0; }; }, s.$g = function (e) { for (var t = 0; t < a.rowlist.length; t++) {
                var n = a.rowlist[t];
                if (n.task === e)
                    return a.internal.createRowObject(n);
            } return null; }, s.Rg = function () { a.links.list = i.links.list ? i.links.list : []; }, s.Qg = function () { a.resources = [], a.events.list = [], o.clearCache(), s._g(i.tasks.list, a.resources, null), l.sheet && (l.sheet.commit(), l.sheet = null); }, s.ah = function (e) { var t = e.type || "Task"; e.children && e.children.length && (t = "Group"); var n = {}; for (var r in e)
                "children" !== r && (n[r] = e[r]); var o = {}; if (o.data = n, o.type = t, n.box || (n.box = {}), "undefined" == typeof n.box.html)
                if ("Task" === o.type) {
                    var s = n.complete || 0;
                    n.box.text = s + "%";
                }
                else
                    n.box.text = ""; return "undefined" == typeof n.box.htmlRight && (n.box.htmlRight = a.internal.xssTextHtml(n.text)), "function" == typeof i.onBeforeTaskRender && i.onBeforeTaskRender(o), o.type = t, o; };
            var l = {};
            l.keys = {}, l.sheet = null, s.bh = function (e) { if (e.data.box && !e.data.box.cssClass && e.data.box.backColor && "Task" !== e.type) {
                var t = DayPilot.Util.normalizeColor(e.data.box.backColor), n = e.type + "_" + t.replace("#", ""), a = i.theme, r = i.theme + "_" + n;
                return l.keys[n] || (l.keys[n] = !0, l.sheet || (l.sheet = DayPilot.sheet()), "Group" === e.type ? (l.sheet.add("." + r + "." + a + "_task_group ." + a + "_event_inner", "position:absolute;top:5px;left:0px;right:0px;bottom:6px;overflow:hidden; background: " + t + "; filter: none; border: 0px none;"), l.sheet.add("." + r + "." + a + "_task_group." + a + "_event:before", "content:''; border-color: transparent transparent transparent " + t + "; border-style: solid; border-width: 6px; position: absolute; bottom: 0px;"), l.sheet.add("." + r + "." + a + "_task_group." + a + "_event:after", "content:''; border-color: transparent " + t + " transparent transparent; border-style: solid; border-width: 6px; position: absolute; bottom: 0px; right: 0px;")) : "Milestone" === e.type && (l.sheet.add("." + r + "." + a + "_task_milestone ." + a + "_event_inner", "position:absolute;top:16%;left:16%;right:16%;bottom:16%; background: " + t + "; border: 0px none; -webkit-transform: rotate(45deg);-moz-transform: rotate(45deg);-ms-transform: rotate(45deg);-o-transform: rotate(45deg); transform: rotate(45deg); filter: none;"), l.sheet.add("." + r + "." + a + "_browser_ie8 ." + a + "_task_milestone ." + a + "_event_inner", "-ms-filter: \"progid:DXImageTransform.Microsoft.Matrix(SizingMethod='auto expand', M11=0.7071067811865476, M12=-0.7071067811865475, M21=0.7071067811865475, M22=0.7071067811865476);\""))), r;
            } }, s._g = function (t, n, r) { if (DayPilot.isArray(t))
                for (var l = 0; l < t.length; l++) {
                    var d = t[l];
                    o.addToCache(d, r);
                    var c = s.ah(d), u = c.data, h = c.type, f = {};
                    if (DayPilot.Util.copyProps(u, f, ["id", "start", "end", "text", "complete", "tags", "versions"]), DayPilot.Util.copyProps(u.box, f), f.parent = r, f.task = d, f.resource = u.id, f.commitCallback = function (e) { return function () { e.task.start = e.start, e.task.end = e.end; }; }(f), "Group" == h) {
                        f.type = "Group", f.html = u.box && u.box.html || "";
                        var v = s.bh(c);
                        if (v && (f.cssClass = (f.cssClass || "") + " " + v), "Auto" === i.taskGroupMode) {
                            var p = s.childrenStartEnd(d);
                            f.start = p.start, f.end = p.end, f.resizeDisabled = !0, f.moveDisabled = !0;
                        }
                    }
                    else if ("Milestone" === h) {
                        f.html = "", d.end = d.start;
                        var v = s.bh(c);
                        v && (f.cssClass = (f.cssClass || "") + " " + v), u.end = u.start, f.end = u.start, f.barHidden = !0, f.resizeDisabled = !0, f.type = "Milestone", f.width = i.taskHeight, delete f.backColor;
                    }
                    else
                        "Task" === h && e();
                    f.moveVDisabled = !0, f.htmlRight = u.box.htmlRight, f.htmlLeft = u.box.htmlLeft, a.events.list.push(f);
                    var m = {};
                    m.task = d, DayPilot.Util.copyProps(u.row, m), m.name = u.text, m.id = u.id, m.children = [], m.expanded = !u.row || !u.row.collapsed, d.children && d.children.length && s._g(d.children, m.children, d), n.push(m);
                } }, s.childrenStartEnd = function (e) { if (!e.children || !e.children.length) {
                var t = e.start, n = e.end;
                return "Milestone" === e.type && (n = t), { "start": new DayPilot.Date(t), "end": new DayPilot.Date(n) };
            } for (var t = null, n = null, i = 0; i < e.children.length; i++) {
                var a = s.childrenStartEnd(e.children[i]);
                (!t || a.start.getTime() < t.getTime()) && (t = a.start), (!n || a.end.getTime() > n.getTime()) && (n = a.end);
            } return { "start": t, "end": n }; }, this.rows = {}, this.rows.expand = function (e) { a.rows.expand(e); }, this.rows.expandAll = function () { a.rows.expandAll(); }, this.rows.filter = function (e) { a.rows.filter(e); }, this.rows.selection = {}, this.rows.selection.add = function (e) { a.rows.find(e.data.id); }, this.rows.selection.clear = function () { a.rows.selection.clear(); }, this.rows.selection.get = function () { return a.rows.selection.get().map(function (e) { return new DayPilot.Task(e.$.row.task, i); }); }, this.exportAs = function (e, t) { return a.exportAs(e, t); }, this.Jg = null, this.qg = function (e) { if (e) {
                var t = { "tasks": { "preInit": function () { var e = this.data; e && (DayPilot.isArray(e.list) ? i.tasks.list = e.list : i.tasks.list = e); } }, "links": { "preInit": function () { var e = this.data; e && (DayPilot.isArray(e.list) ? i.links.list = e.list : i.links.list = e); } }, "scrollTo": { "postInit": function () { this.data && i.scrollTo(this.data); } }, "scrollToTask": { "postInit": function () { this.data && i.scrollToTask(this.data); } } };
                this.Jg = t;
                for (var n in e)
                    if (t[n]) {
                        var a = t[n];
                        a.data = e[n], a.preInit && a.preInit();
                    }
                    else
                        i[n] = e[n];
            } }, this.Ig = function () { var e = this.Jg; for (var t in e) {
                var n = e[t];
                n.postInit && n.postInit();
            } }, this.internal = {}, this.internal.initialized = function () { return i.Y; }, this.internal.rowObjectForTaskData = s.$g, this.internal.loadOptions = i.qg, this.mg = {}, this.mg.scope = null, this.mg.notify = function () { i.mg.scope && i.mg.scope["$apply"](); }, this.qg(n);
        }, "undefined" != typeof jQuery && !function (e) { e.fn.daypilotGantt = function (e) { var t = null, n = this.each(function () { if (!this.daypilot) {
            var n = new DayPilot.Gantt(this.id, e);
            n.init(), this.daypilot = n, t || (t = n);
        } }); return 1 === this.length ? t : n; }; }(jQuery), function () { var e = DayPilot.am(); e && e.directive("daypilotGantt", ["$parse", function (e) { return { "restrict": "E", "template": "<div id='{{id}}'></div>", "compile": function (t, n) { return t.replaceWith(this["template"].replace("{{id}}", n["id"])), function (t, n, i) { var a = new DayPilot.Gantt(n[0]); a.mg.scope = t, a.init(); var r = i["id"]; r && (t[r] = a); var o = i["publishAs"]; if (o) {
                    (0, e(o).assign)(t, a);
                } for (var s in i)
                    if (0 === s.indexOf("on")) {
                        var l = DayPilot.Util.shouldApply(s);
                        l ? !function (n) { a[n] = function (a) { var r = e(i[n]); t["$apply"](function () { r(t, { "args": a }); }); }; }(s) : !function (n) { a[n] = function (a) { e(i[n])(t, { "args": a }); }; }(s);
                    } var d = t["$watch"], c = i["config"] || i["daypilotConfig"]; d.call(t, c, function (e, t) { a.qg(e), a.update(); }, !0); }; } }; }]); }(), DayPilot.Gantt.def = {}, "undefined" != typeof Sys && Sys.Application && Sys.Application.notifyScriptLoaded && Sys.Application.notifyScriptLoaded();
    }
}(DayPilot), "undefined" == typeof DayPilot)
    var DayPilot = {};
if ("undefined" == typeof DayPilot.Global && (DayPilot.Global = {}), function (DayPilot) {
    if ("undefined" == typeof DayPilot.Kanban || !DayPilot.Kanban.def) {
        var e = function () { };
        DayPilot.Kanban = function (t, n) {
            this.v = "2022.4.5457";
            var i = this;
            this.barWidth = 5, this.cardAutoHeight = !0, this.cardHeight = 60, this.cardMarginLeft = 5, this.cardMarginRight = 5, this.cardMarginBottom = 5, this.columnHeaderHeight = 20, this.crosshairType = "Disabled", this.height = 300, this.heightSpec = "Auto", this.theme = "kanban_default", this.cellMarginBottom = 4, this.cellMarginTop = 5, this.columnWidthSpec = "Auto", this.columnWidth = 200, this.cornerHtml = null, this.contextMenuCard = null, this.rowMinHeight = 0, this.swimlaneCollapsingEnabled = !1, this.swimlaneHeaderWidth = 80, this.visible = !0, this.swimlanes = {}, this.swimlanes.list = [], this.columns = {}, this.columns.list = [], this.cards = {}, this.cards.list = [], this.cardDeleteHandling = "Disabled", this.cardMoveHandling = "Update", this.columnMoveHandling = "Disabled", this.swimlaneMoveHandling = "Disabled", this.cardRightClickHandling = "ContextMenu", this.onBeforeCellRender = null, this.onCardClick = null, this.onCardClicked = null, this.onCardRightClick = null, this.onCardRightClicked = null, this.onCardDelete = null, this.onCardDeleted = null, this.onCardMove = null, this.onCardMoved = null, this.onColumnMove = null, this.onColumnMoved = null, this.onHeightChanged = null, this.onSwimlaneMove = null, this.onSwimlaneMoved = null;
            var a = new DayPilot.Scheduler(t);
            this.scheduler = a;
            var r = {}, o = 15, s = 15;
            e();
            var l = new DayPilot.Date("2000-01-01");
            r.translate = function () {
                var e = a;
                e.startDate = l, e.scale = "Day", e.timeHeaders = [{ groupBy: "Cell", format: "d" }], e.rowHeaderColumnsMode = "Legacy", e.heightSpec = i.heightSpec, e.cellWidthSpec = i.columnWidthSpec, e.cellWidth = i.columnWidth, e.cellsMarkBusiness = !1, e.cornerHtml = i.cornerHtml, e.crosshairType = i.crosshairType, e.dynamicEventRendering = "Disabled", e.floatingEvents = !1, e.floatingTimeHeaders = !1, e.rowMinHeight = i.rowMinHeight, e.rowMarginTop = i.cellMarginTop, e.rowMarginBottom = i.cellMarginBottom, e.devsb = i.devsb, e.eventMoveToPosition = !0, e.headerHeight = i.columnHeaderHeight, e.eventResizeHandling = "Disabled", e.timeRangeSelectedHandling = "Disabled", e.eventHeight = i.cardHeight, e.eventMarginLeft = i.cardMarginLeft, e.eventMarginRight = i.cardMarginRight, e.eventMarginBottom = i.cardMarginBottom, e.eventTextWrappingEnabled = !0, e.durationBarVisible = !1, e.theme = i.theme, e.visible = i.visible, e.rowHeaderWidth = i.swimlaneHeaderWidth, e.contextMenu = i.contextMenuCard, e.eventDeleteHandling = i.cardDeleteHandling, e.eventMoveHandling = i.cardMoveHandling, e.rowMoveHandling = DayPilot.list(i.swimlanes.list).isEmpty() ? "Disabled" : i.swimlaneMoveHandling, e.eventRightClickHandling = i.cardRightClickHandling, e.onHeightChanged = i.onHeightChanged, e.internal.enableCellStacking(i.cardAutoHeight), e.internal.cssNames.timeheadercol = "_colheadercell", e.internal.cssNames.timeheadercolInner = "_colheadercell_inner", e.internal.cssNames.resourcedivider = "_rowheaderdivider", e.internal.cssNames.event = "_card", e.internal.cssNames.eventInner = "_card_inner", e.internal.cssNames.eventDelete = "_card_delete", e.internal.cssNames.eventMovingSource = "_card_moving_source", i.swimlaneCollapsingEnabled && (e.rowHeaderWidthMarginRight = 15), e.onBeforeTimeHeaderRender = function (e) { var t = i.ch(e.header.start); if (e.header.html = t.name, e.header.toolTip = t.toolTip || "", e.header.areas = DayPilot.list(t.areas).map(function (e) { var t = []; return DayPilot.Util.copyProps(e, t), t; }), DayPilot.list(e.header.areas).forEach(function (e) { e.target = new DayPilot.KanbanColumn(t, i); }), "Disabled" !== i.columnMoveHandling) {
                    var n = i.theme + "_columnmove_handle";
                    e.header.areas.push({ "left": 0, "top": 0, "width": 20, "height": 20, "css": n, "mousedown": i.dh, "action": "None" });
                } }, e.onBeforeCellRender = function (t) { var n = {}; n.cell = {}, n.cell.column = new DayPilot.KanbanColumn(i.ch(t.cell.start), i), n.cell.swimlane = null; var a = i.eh(t.cell.resource); a && (n.cell.swimlane = new DayPilot.Swimlane(a, i)), n.cell.areas = [], n.cell.cssClass = null, n.cell.html = null, n.cell.backImage = null, n.cell.backRepeat = null, n.cell.backColor = null, "function" == typeof i.onBeforeCellRender && (i.onBeforeCellRender(n), DayPilot.Util.copyProps(n.cell, t.cell, ["areas", "cssClass", "html", "backImage", "backRepeat", "backColor"]), DayPilot.list(t.cell.areas).forEach(function (e) { e.target = { "swimlane": n.cell.swimlane, "column": n.cell.column }; })); var r = e.rows.find(t.cell.resource); e.resources[r.index].collapsed && (t.cell.cssClass || (t.cell.cssClass = ""), t.cell.cssClass += " " + i.theme + "_collapsed"); }, e.onEventClick = function (e) { var t = new DayPilot.Args(e); t.card = new DayPilot.Card(e.e.data.card, i), "function" == typeof i.onCardClick && i.onCardClick(t), e.wrapped = t; }, e.onEventClicked = function (e) { var t = e.wrapped; "function" == typeof i.onCardClicked && i.onCardClicked(t); }, e.onEventRightClick = function (e) { var t = new DayPilot.Args(e); if (t.card = new DayPilot.Card(e.e.data.card, i), "function" == typeof i.onCardRightClick && i.onCardRightClick(t), e.wrapped = t, !e.preventDefault.value) {
                    var n = e.e, a = t.card;
                    switch (i.cardRightClickHandling) {
                        case "ContextMenu":
                            var r = n.client.contextMenu();
                            r ? r.show(a) : i.contextMenuCard && i.contextMenuCard.show(a), e.preventDefault();
                    }
                } }, e.onEventRightClicked = function (e) { var t = e.wrapped; "function" == typeof i.onCardRightClicked && i.onCardRightClicked(t); }, e.onEventDelete = function (e) { var t = new DayPilot.Args(e); t.card = new DayPilot.Card(e.e.data.card, i), t.control = i, "function" == typeof i.onCardDelete && i.onCardDelete(t), e.wrapped = t; }, e.onEventDeleted = function (e) { DayPilot.rfa(i.cards.list, e.e.data.card); var t = e.wrapped; "function" == typeof i.onCardDeleted && i.onCardDeleted(t); }, e.onEventMove = function (e) { e.external && (e.e.data.card = { id: e.e.data.id, name: e.e.data.name, text: e.e.data.text, barColor: e.e.data.barColor, barBackColor: e.e.data.barBackColor }); var t = new DayPilot.Args(e); t.control = i, t.card = new DayPilot.Card(e.e.data.card, i), t.column = new DayPilot.KanbanColumn(i.ch(e.newStart)), t.position = e.position, t.external = e.external, "*" !== e.newResource ? t.swimlane = new DayPilot.Swimlane(i.eh(e.newResource), i) : t.swimlane = null; for (var n = a.cells.find(e.newStart, e.newResource)[0].events(), o = e.position, s = null, l = o - 1; n[l];) {
                    if (n[l].data !== e.e.data) {
                        s = new DayPilot.Card(n[l]);
                        break;
                    }
                    l -= 1;
                } for (var d = null, c = o; n[c];) {
                    if (n[c].data !== e.e.data) {
                        d = new DayPilot.Card(n[c]);
                        break;
                    }
                    c += 1;
                } if (t.previous = s, t.next = d, "function" == typeof i.onCardMove && i.onCardMove(t), e.wrapped = t, e.preventDefault(), !t.preventDefault.value) {
                    switch (i.cardMoveHandling) {
                        case "Update":
                            var u = 0;
                            d ? u = d.wrapped.data.sort[0] : s && (u = s.wrapped.data.sort[0]), e.e.data.sort = [u, (new DayPilot.Date).toString()], DayPilot.rfa(i.cards.list, e.e.data.card);
                            var h = 0;
                            d ? h = DayPilot.indexOf(i.cards.list, d.data) : s && (h = DayPilot.indexOf(i.cards.list, s.data) + 1);
                            var f = i.ch(e.newStart);
                            e.e.data.card.column = f.id, e.e.data.card.swimlane = e.newResource, i.cards.list.splice(h, 0, e.e.data.card), r.updateSort(), a.internal.deleteDragSource(), i.update();
                    }
                    !function () { var t = e.wrapped, n = DayPilot.list(i.cards.list).find(function (t) { return e.e.data.card === t; }); n.swimlane = t.swimlane ? t.swimlane.data.id : null, n.column = t.column.data.id, "function" == typeof i.onCardMoved && i.onCardMoved(t); }();
                } }, e.onBeforeResHeaderRender = function (e) { if (i.swimlaneCollapsingEnabled) {
                    if (!DayPilot.list(i.swimlanes.list).isEmpty()) {
                        var t = i.theme + "_swimlane_collapse";
                        e.resource.collapsed && (t = i.theme + "_swimlane_expand"), e.resource.areas = [{ "right": 0, "top": 0, "height": s, "width": o, "action": "JavaScript", "css": t, "js": function () { i.fh(e.resource.index); } }];
                    }
                } }, e.onRowMove = function (e) {
                    var t = new DayPilot.Args(e);
                    t.control = i, e.wrapped = t, t.swimlane = new DayPilot.Swimlane(e.source.$.row.swimlane);
                    var n = 0;
                    switch (e.position) {
                        case "before":
                            n = e.target.index;
                            break;
                        case "after":
                            n = e.target.index + 1;
                            break;
                        default: throw "Unexpected target swimlane position: " + e.position;
                    }
                    t.position = n, t.previous = null;
                    for (var r = n - 1; a.rowlist[r] && a.rowlist[r].swimlane !== t.swimlane.data;)
                        t.previous = new DayPilot.Swimlane(a.rowlist[r].swimlane),
                            r -= 1;
                    t.next = null;
                    for (var o = n; a.rowlist[o] && a.rowlist[o].swimlane !== t.swimlane.data;)
                        t.next = new DayPilot.Swimlane(a.rowlist[o].swimlane), o += 1;
                    "function" == typeof i.onSwimlaneMove && i.onSwimlaneMove(t);
                }, e.onRowMoved = function (e) { var t = e.wrapped; DayPilot.rfa(i.swimlanes.list, t.swimlane.data); var n = 0; t.next ? n = DayPilot.indexOf(i.swimlanes.list, t.next.data) : t.previous && (n = DayPilot.indexOf(i.swimlanes.list, t.previous.data) + 1), i.swimlanes.list.splice(n, 0, t.swimlane.data), "function" == typeof i.onSwimlaneMoved && i.onSwimlaneMoved(t); }, e.treePreventParentUsage = !0;
            }, r.loadCards = function () { var e = i.theme + "_card_header", t = i.theme + "_card_body", n = (new DayPilot.Date).toString(); a.sortDirections = ["asc", "desc"], a.events.list = DayPilot.list(i.cards.list).map(function (a, r) { var o = a.html || a.text || "", s = a.name || "", d = {}; return d.id = a.id, d.text = a.text, d.html = "<div class='" + e + "'>" + s + "</div><div class='" + t + "'>" + o + "</div>", d.resource = a.swimlane, d.start = l.addDays(DayPilot.list(i.columns.list).findIndex(function (e) { return a.column === e.id; })), d.end = d.start.addDays(1), d.card = a, d.height = a.height, d.cssClass = a.cssClass, d.sort = [r, n], d.areas = DayPilot.list(a.areas).map(function (e) { var t = {}; return DayPilot.Util.copyProps(e, t), e.js && (t.js = function (t) { e.js(new DayPilot.Card(t.data.card, i)); }), t; }), d.areas.push({ "left": 0, "width": 5, "top": 0, "bottom": 0, "backColor": a.barColor, "cssClass": i.theme + "_card_bar" }), d; }); }, r.updateSort = function () { var e = (new DayPilot.Date).toString(); DayPilot.list(i.cards.list).forEach(function (t, n) { var i = r.findSchedulerEventData(t); i && (i.sort = [n, e]); }); }, r.findSchedulerEventData = function (e) { return DayPilot.list(a.events.list).find(function (t) { return t.card === e; }); }, r.loadSwimlanes = function () { var e = DayPilot.list(i.swimlanes.list); a.resources = e.map(function (e) { var t = {}; return t.name = e.name, t.id = e.id, t.swimlane = e, e.collapsed && (t.collapsed = !0, t.eventHeight = 20, t.hideEvents = !0), t; }), e.isEmpty() && (a.resources = [{ name: "", id: "*" }]); }, r.loadColumns = function () { var e = DayPilot.list(i.columns.list); a.days = e.length; };
            var d = {};
            d.active = null, d.div = null, d.update = function () { d.clear(); var e = d.findPosition(); d.draw(e); }, d.clear = function () { DayPilot.de(d.div), d.div = null; }, d.draw = function (e) { var t = 0; if (e >= a.itline.length) {
                var n = a.itline[a.itline.length - 1];
                t = n.left + n.width - 3;
            }
            else
                t = a.itline[e].left; var r = document.createElement("div"); r.style.position = "absolute", r.style.left = t + "px", r.style.width = "3px", r.style.top = 0, r.style.height = a.headerHeight + "px", r.className = i.theme + "_columnmove_position", d.div = r, a.nav.timeHeader.appendChild(r); }, d.findPosition = function () { if (i.coords.x < 0)
                return 0; var e = DayPilot.list(a.itline).findIndex(function (e) { var t = e.left + a.rowHeaderWidth, n = e.width; return i.coords.x < t + n / 2; }); return e === -1 ? a.itline.length : e; }, this.dh = function (e) { d.active = e; }, this.ch = function (e) { return i.columns.list[DayPilot.DateUtil.daysDiff(l, e)]; }, this.eh = function (e) { return DayPilot.list(i.swimlanes.list).find(function (t) { return t.id === e; }); }, this.message = function (e, t, n, i) { a.message(e, t, n, i); }, this.show = function () { i.visible = !0, a.show(); }, this.hide = function () { i.visible = !1, a.hide(); }, this.cards.add = function (e) { var t = null; t = e && e instanceof DayPilot.Card ? e.data : e, e && (i.cards.list.push(t), i.update()); }, this.cards.remove = function (e) { var t = null; t = e && e instanceof DayPilot.Card ? e.data : e, e && (DayPilot.rfa(i.cards.list, t), i.update()); }, this.cards.update = function (e) { i.update(); }, this.cards.find = function (e) { var t = DayPilot.list(i.cards.list).find(function (t) { return e === t.id; }); return t ? new DayPilot.Card(t, i) : null; }, this.fh = function (e) { DayPilot.list(i.swimlanes.list).isEmpty() || (i.swimlanes.list[e].collapsed = !i.swimlanes.list[e].collapsed), i.update(); }, this.init = function () { if (this.Y)
                throw new DayPilot.Exception("This instance is already initialized. Use update() to change properties."); return r.translate(), r.loadSwimlanes(), r.loadColumns(), r.loadCards(), a.init(), i.Jf(), this.Y = !0, this; }, this.Z = !1, this.dispose = function () { a.dispose(), i.Z = !0; }, this.update = function (e) { var t = i; if (!t.Y)
                throw new DayPilot.Exception("You are trying to update a DayPilot.Kanban instance that hasn't been initialized yet."); if (t.Z)
                throw new DayPilot.Exception("You are trying to update a DayPilot.Kanban instance that has been disposed."); i.qg(e), r.translate(), r.loadSwimlanes(), r.loadColumns(), r.loadCards(), a.update(); }, this.Jf = function () { DayPilot.re(document, "mouseup", i.Mf), DayPilot.re(document, "mousemove", i.Lf); }, this.mg = {}, this.mg.scope = null, this.mg.notify = function () { i.mg.scope && i.mg.scope["$apply"](); }, this.Jg = null, this.qg = function (e) { if (e) {
                var t = { "cards": { "preInit": function () { var e = this.data; e && (DayPilot.isArray(e.list) ? i.cards.list = e.list : i.cards.list = e); } }, "columns": { "preInit": function () { var e = this.data; e && (DayPilot.isArray(e.list) ? i.columns.list = e.list : i.columns.list = e); } }, "swimlanes": { "preInit": function () { var e = this.data; e && (DayPilot.isArray(e.list) ? i.swimlanes.list = e.list : i.swimlanes.list = e); } } };
                this.Jg = t;
                for (var n in e)
                    if (t[n]) {
                        var a = t[n];
                        a.data = e[n], a.preInit && a.preInit();
                    }
                    else
                        i[n] = e[n];
            } }, this.Ig = function () { var e = this.Jg; for (var t in e) {
                var n = e[t];
                n.postInit && n.postInit();
            } }, this.internal = {}, this.internal.loadOptions = i.qg, this.qg(n), this.Cf = function () { var e = dp.nav.top; return !!e && (e.offsetWidth > 0 && e.offsetHeight > 0); }, this.Df = function () { var e = i, t = e.Cf; t() || e.Ff || (e.Ff = setInterval(function () { t() && (e.update(), clearInterval(e.Ff)); }, 100)); }, this.Lf = function (e) { i.coords = DayPilot.mo3(a.nav.top, e), d.active && d.update(); }, this.Mf = function (e) { if (d.active) {
                var t = d.active.source, n = d.findPosition(), a = i.ch(t.start), r = new DayPilot.Args;
                r.column = new DayPilot.KanbanColumn(a, i), r.position = n, r.previous = null, r.next = null;
                for (var o = null, s = r.position; 0 !== s && !o;)
                    a !== i.columns.list[s - 1] && (o = i.columns.list[s - 1]), s -= 1;
                o && (r.previous = new DayPilot.KanbanColumn(o, i));
                var l = null;
                for (s = r.position; s < i.columns.list.length - 1 && !l;)
                    a !== i.columns.list[s] && (l = i.columns.list[s]), s += 1;
                if (l && (r.next = new DayPilot.KanbanColumn(l, i)), "function" == typeof i.onColumnMove && i.onColumnMove(r), !r.preventDefault.value) {
                    if ("Update" === i.columnMoveHandling) {
                        DayPilot.rfa(i.columns.list, r.column.data);
                        var c = 0;
                        r.next ? c = DayPilot.indexOf(i.columns.list, r.next.data) : r.previous && (c = DayPilot.indexOf(i.columns.list, r.previous.data) + 1), i.columns.list.splice(c, 0, r.column.data), i.update();
                    }
                    "function" == typeof i.onColumnMoved && i.onColumnMove(r);
                }
                d.active = null, d.clear();
            } };
        }, DayPilot.Kanban.makeDraggable = function (e) { DayPilot.Scheduler.makeDraggable(e); }, DayPilot.Card = function (e, t) { if (e instanceof DayPilot.Event) {
            var n = e;
            this.data = n.data.card, this.wrapped = e;
        }
        else
            this.data = e; this.control = t; }, DayPilot.KanbanColumn = function (e, t) { this.data = e, this.control = t; }, DayPilot.Swimlane = function (e, t) { this.data = e, this.control = t; }, function () { var e = DayPilot.am(); e && e.directive("daypilotKanban", ["$parse", function (e) { return { "restrict": "E", "template": "<div id='{{id}}'></div>", "compile": function (t, n) { return t.replaceWith(this["template"].replace("{{id}}", n["id"])), function (t, n, i) { var a = new DayPilot.Kanban(n[0]); a.mg.scope = t, a.init(); var r = i["id"]; r && (t[r] = a); var o = i["publishAs"]; if (o) {
                    (0, e(o).assign)(t, a);
                } for (var s in i)
                    if (0 === s.indexOf("on")) {
                        var l = DayPilot.Util.shouldApply(s);
                        l ? !function (n) { a[n] = function (a) { var r = e(i[n]); t["$apply"](function () { r(t, { "args": a }); }); }; }(s) : !function (n) { a[n] = function (a) { e(i[n])(t, { "args": a }); }; }(s);
                    } var d = t["$watch"], c = i["config"] || i["daypilotConfig"]; d.call(t, c, function (e, t) { a.qg(e), a.update(); }, !0); }; } }; }]); }(), DayPilot.Kanban.def = {};
    }
}(DayPilot), "undefined" == typeof DayPilot)
    var DayPilot = {};
if ("undefined" == typeof DayPilot.Global && (DayPilot.Global = {}), function (DayPilot) { if ("undefined" == typeof DayPilot.Menu || !DayPilot.Menu.def) {
    var e = function () { }, t = {};
    t.mouse = null, t.menu = null, t.handlersRegistered = !1, t.hideTimeout = null, t.waitingSubmenu = null, DayPilot.Menu = function (n) { var i = this, a = null; this.v = "2022.4.5457", this.zIndex = 120, this.cssClassPrefix = "menu_default", this.cssOnly = !0, this.menuTitle = null, this.showMenuTitle = !1, this.hideOnMouseOut = !1, this.hideAfter = 200, this.theme = null, this.onShow = null, this.B = function () { }, n && DayPilot.isArray(n) && (this.items = n), this.toJSON = function () { return null; }, this.show = function (n, r) { r = r || {}; var o = null; if (n ? "string" == typeof n.id || "number" == typeof n.id ? o = n.id : "function" == typeof n.id ? o = n.id() : "function" == typeof n.value && (o = n.value()) : o = null, "undefined" != typeof DayPilot.Bubble && DayPilot.Bubble.hideActive(), r.submenu || t.menuClean(), this.B.submenu = null, null !== t.mouse) {
        i.cssOnly || (i.cssOnly = !0);
        var s = null;
        if (n && n.isRow && n.$.row.task ? (s = new DayPilot.Task(n.$.row.task, n.calendar), s.menuType = "resource") : s = n && n.isEvent && n.data.task ? new DayPilot.Task(n, n.calendar) : n, "function" == typeof i.onShow) {
            var l = {};
            if (l.source = s, l.menu = i, l.preventDefault = function () { l.preventDefault.value = !0; }, i.onShow(l), l.preventDefault.value)
                return;
        }
        var d = document.createElement("div");
        if (d.style.position = "absolute", d.style.top = "0px", d.style.left = "0px", d.style.display = "none", d.style.overflow = "hidden", d.style.zIndex = this.zIndex + 1, d.className = this.applyCssClass("main"), d.onclick = function (e) { e.cancelBubble = !0, this.parentNode.removeChild(this); }, this.hideOnMouseOut && (d.onmousemove = function (e) { clearTimeout(t.hideTimeout); }, d.onmouseleave = function (e) { i.delayedHide({ "hideParent": !0 }); }), !this.items || 0 === this.items.length)
            throw "No menu items defined.";
        if (this.showMenuTitle) {
            var c = document.createElement("div");
            c.innerHTML = this.menuTitle, c.className = this.applyCssClass("title"), d.appendChild(c);
        }
        for (var u = 0; u < this.items.length; u++) {
            var h = this.items[u], f = document.createElement("div");
            if (DayPilot.Util.addClass(f, this.applyCssClass("item")), h.items && (DayPilot.Util.addClass(f, this.applyCssClass("item_haschildren")), DayPilot.Util.addClass(d, this.applyCssClass("withchildren"))), "undefined" != typeof h && !h.hidden) {
                if ("-" === h.text) {
                    var v = document.createElement("div");
                    v.addEventListener("click", function (e) { e.stopPropagation(); }), f.appendChild(v);
                }
                else {
                    var p = document.createElement("a");
                    if (p.style.position = "relative", p.style.display = "block", h.cssClass && DayPilot.Util.addClass(p, h.cssClass), h.disabled)
                        DayPilot.Util.addClass(p, i.applyCssClass("item_disabled"));
                    else {
                        if (h.onclick || h.onClick) {
                            p.item = h, p.onclick = function (e, t) { return function (n) { if ("function" == typeof e.onClick) {
                                var i = {};
                                if (i.item = e, i.source = t.source, i.originalEvent = n, i.preventDefault = function () { i.preventDefault.value = !0; }, e.onClick(i), i.preventDefault.value)
                                    return;
                            } e.onclick && e.onclick.call(t, n); }; }(h, p);
                            var m = function (e, n) { return function (i) { i.stopPropagation(), i.preventDefault(); var a = function () { window.setTimeout(function () { n.source.calendar.internal.touch.active = !1; }, 500); }; if ("function" == typeof e.onClick) {
                                var r = {};
                                if (r.item = e, r.source = n.source, r.originalEvent = i, r.preventDefault = function () { r.preventDefault.value = !0; }, e.onClick(r), r.preventDefault.value)
                                    return void a();
                            } e.onclick && e.onclick.call(n, i), t.menuClean(), a(); }; };
                            DayPilot.reNonPassive(p, "touchstart", function (e) { e.stopPropagation(), e.preventDefault(), p.source.calendar.internal.touch.active = !0; }), DayPilot.reNonPassive(p, "touchend", m(h, p));
                        }
                        if (h.items && !h.disabled) {
                            var g = function (e, t) { return function (n) { n.preventDefault(), n.stopPropagation(), i.gh(e, t); }; };
                            p.ontouchend = g(h, p);
                        }
                        if (h.onclick)
                            e();
                        else if (h.href)
                            p.href = h.href.replace(/\x7B0\x7D/gim, o), h.target && p.setAttribute("target", h.target);
                        else if (h.command) {
                            var g = function (e, t) { return function (n) { var i = t.source, a = e; a.action = a.action ? a.action : "CallBack"; var r = i.calendar || i.root; if (i instanceof DayPilot.Link)
                                return void r.internal.linkMenuClick(a.command, i, a.action); if (i instanceof DayPilot.Selection)
                                return void r.internal.timeRangeMenuClick(a.command, i, a.action); if (i instanceof DayPilot.Event)
                                return void r.internal.eventMenuClick(a.command, i, a.action); if (i instanceof DayPilot.Selection)
                                return void r.internal.timeRangeMenuClick(a.command, i, a.action); if (i instanceof DayPilot.Task)
                                return void ("resource" === i.menuType ? r.internal.resourceHeaderMenuClick(a.command, t.menuSource, a.action) : r.internal.eventMenuClick(a.command, t.menuSource, a.action)); switch (i.menuType) {
                                case "resource": return void r.internal.resourceHeaderMenuClick(a.command, i, a.action);
                                case "selection": return void r.internal.timeRangeMenuClick(a.command, i, a.action);
                                default: return void r.internal.eventMenuClick(a.command, i, a.action);
                            } n.preventDefault(); }; };
                            p.onclick = g(h, p), p.ontouchend = g(h, p);
                        }
                    }
                    h.items && p.addEventListener("click", function (e) { e.stopPropagation(); }), p.source = s, p.menuSource = n;
                    var b = document.createElement("span");
                    if (b.className = i.applyCssClass("item_text"), b.innerHTML = DayPilot.Util.escapeTextHtml(h.text, h.html), p.appendChild(b), h.image) {
                        var y = document.createElement("img");
                        y.src = h.image, y.style.position = "absolute", y.style.top = "0px", y.style.left = "0px", p.appendChild(y);
                    }
                    if (h.icon) {
                        var w = document.createElement("span");
                        w.className = i.applyCssClass("item_icon");
                        var x = document.createElement("i");
                        x.className = h.icon, w.appendChild(x), p.appendChild(w);
                    }
                    if (h.symbol) {
                        var k = "http://www.w3.org/2000/svg", C = document.createElementNS(k, "svg");
                        C.setAttribute("width", "100%"), C.setAttribute("height", "100%");
                        var D = document.createElementNS(k, "use");
                        D.setAttribute("href", h.symbol), C.appendChild(D);
                        var S = document.createElement("span");
                        S.className = i.applyCssClass("item_symbol"), S.style.position = "absolute", S.style.top = "0px", S.style.left = "0px", S.appendChild(C), p.appendChild(S);
                    }
                    var _ = function (e, n) { return function () { var a = (n.source, e), r = t.waitingSubmenu; if (r) {
                        if (r.parent === a)
                            return;
                        clearTimeout(r.timeout), t.waitingSubmenu = null;
                    } e.disabled || (t.waitingSubmenu = {}, t.waitingSubmenu.parent = a, t.waitingSubmenu.timeout = setTimeout(function () { t.waitingSubmenu = null, i.gh(a, n); }, 300)); }; };
                    p.onmouseover = _(h, p), f.appendChild(p);
                }
                d.appendChild(f);
            }
        }
        var E = function (e) { window.setTimeout(function () { t.menuClean(), DayPilot.MenuBar.deactivate(); }, 100); };
        d.onclick = E, d.ontouchend = E, d.onmousedown = function (e) { e = e || window.event, e.cancelBubble = !0, e.stopPropagation && e.stopPropagation(); }, d.oncontextmenu = function () { return !1; }, document.body.appendChild(d), i.B.visible = !0, i.B.source = n, d.style.display = "";
        var T = d.offsetHeight, A = d.offsetWidth;
        d.style.display = "none";
        var H = document.documentElement.clientHeight, M = window.innerWidth, R = "number" == typeof r.windowMargin ? r.windowMargin : 5;
        if (function () { var e = r.initiator; if (e) {
            var t = e.div, n = e.e, i = e.area, o = i.visibility || i.v || "Visible", s = e.a;
            if ("Visible" !== o && (s = DayPilot.Areas.createArea(t, n, i), t.appendChild(s), a = s), s) {
                var l = DayPilot.abs(s);
                r.x = l.x, r.y = l.y + l.h + 2;
            }
        } }(), function () { var e = "number" == typeof r.x ? r.x : t.mouse.x + 1, n = "number" == typeof r.y ? r.y : t.mouse.y + 1, i = document.body.scrollTop || document.documentElement.scrollTop, a = document.body.scrollLeft || document.documentElement.scrollLeft; if (n - i > H - T && 0 !== H) {
            var o = n - i - (H - T) + R;
            d.style.top = n - o + "px";
        }
        else
            d.style.top = n + "px"; if ("right" === r.align && (e -= A), e - a > M - A && 0 !== M) {
            var s = e - a - (M - A) + R;
            d.style.left = e - s + "px";
        }
        else
            d.style.left = e + "px"; }(), r.parentLink) {
            var B = r.parentLink, N = parseInt(new DayPilot.StyleReader(d).get("border-top-width")), P = DayPilot.abs(r.parentLink.parentNode), I = P.x + B.offsetWidth, L = P.y - N;
            I + A > M && (I = Math.max(0, P.x - A));
            var z = document.body.scrollTop + document.documentElement.scrollTop;
            L + T - z > H && (L = Math.max(0, H - T + z)), d.style.left = I + "px", d.style.top = L + "px";
        }
        d.style.display = "", this.addShadow(d), this.B.div = d, r.submenu || (DayPilot.Menu.active = this);
    } }, this.gh = function (e, t) { var n = e, a = t.source; if ((!i.B.submenu || i.B.submenu.item !== e) && (i.B.submenu && i.B.submenu.item !== e && (DayPilot.Util.removeClass(i.B.submenu.link.parentNode, i.applyCssClass("item_haschildren_active")), i.B.submenu.menu.hide(), i.B.submenu = null), e.items)) {
        var r = i.cloneOptions();
        r.items = e.items, i.B.submenu = {}, i.B.submenu.menu = new DayPilot.Menu(r), i.B.submenu.menu.hh = i, i.B.submenu.menu.show(a, { "submenu": !0, "parentLink": t, "parentItem": n }), i.B.submenu.item = e, i.B.submenu.link = t, DayPilot.Util.addClass(t.parentNode, i.applyCssClass("item_haschildren_active"));
    } }, this.applyCssClass = function (e) { var t = this.theme || this.cssClassPrefix, n = this.cssOnly ? "_" : ""; return t ? t + n + e : ""; }, this.cloneOptions = function () { return DayPilot.Util.copyProps(r, {}, ["cssClassPrefix", "theme", "hideAfter", "hideOnMouseOut", "zIndex"]); }, this.hide = function (e) { e = e || {}, this.B.submenu && this.B.submenu.menu.hide(); var n = t.waitingSubmenu; if (n && (t.waitingSubmenu = null, clearTimeout(n.timeout)), this.removeShadow(), this.B.div && this.B.div.parentNode === document.body && document.body.removeChild(this.B.div), a && (DayPilot.de(a), a = null), i.B.visible = !1, i.B.source = null, i.hh && e.hideParent && i.hh.hide(e), DayPilot.Menu.active === i && (DayPilot.Menu.active = null), "function" == typeof this.onHide) {
        var r = {};
        this.onHide(r);
    } }, this.delayedHide = function (e) { t.hideTimeout = setTimeout(function () { i.hide(e); }, i.hideAfter); }, this.cancelHideTimeout = function () { clearTimeout(t.hideTimeout); }, this.init = function (e) { return t.mouseMove(e), this; }, this.addShadow = function (e) { }, this.removeShadow = function () { }; var r = DayPilot.isArray(n) ? null : n; if (r)
        for (var o in r)
            this[o] = r[o]; }, DayPilot.MenuBar = function (e, t) { var n = this; t = t || {}, this.items = [], this.theme = "menubar_default", this.windowMargin = 0, this.nav = {}, this.elements = {}, this.elements.items = DayPilot.list(), this.Jb = null, this.Y = !1; for (var i in t)
        this[i] = t[i]; this.ih = function (e) { return this.theme + "_" + e; }, this.hb = function () { this.nav.top = document.getElementById(e); var t = this.nav.top; t.className = this.ih("main"), DayPilot.list(n.items).forEach(function (e) { var i = document.createElement("span"); i.innerHTML = DayPilot.Util.escapeTextHtml(e.text, e.html), i.className = n.ih("item"), e.cssClass && i.classList.add(e.cssClass), i.data = e, i.onclick = function (t) { if (n.active && n.active.item === e)
        n.jh();
    else if (e.children)
        return void n.kh(i); if ("function" == typeof e.onClick) {
        var a = {};
        a.item = e, a.originalEvent = t, e.onClick(a);
    } }, i.onmousedown = function (e) { e.stopPropagation(); }, i.onmouseover = function () { n.active && n.active.item !== e && n.kh(i); }, t.appendChild(i), n.elements.items.push(i); }); }, this.jh = function () { var e = n.ih("item_active"); n.elements.items.forEach(function (t) { DayPilot.Util.removeClass(t, e); }), n.active && n.active.menu && n.active.menu.hide(), n.active = null; }, this.lh = function (e) { return !!n.active && n.active.item === e.data; }, this.kh = function (e) { if (!n.lh(e)) {
        n.jh();
        var t = e.data, i = n.active = {};
        i.item = t, i.div = e;
        var a = n.ih("item_active");
        DayPilot.Util.addClass(e, a);
        var r = DayPilot.abs(e);
        if (t.children) {
            i.menu = new DayPilot.Menu({ "items": t.children });
            var o = r.x;
            "right" === t.align && (o += r.w), i.menu.show(null, { "x": o, "y": r.y + r.h, "align": t.align, "windowMargin": n.windowMargin });
        }
        DayPilot.MenuBar.active = n;
    } }, this.init = function () { return this.hb(), this.Y = !0, this; }, this.dispose = function () { this.Y && (this.nav.top.innerHTML = "", this.elements.items = []); }; }, DayPilot.MenuBar.deactivate = function () { DayPilot.MenuBar.active && (DayPilot.MenuBar.active.jh(), DayPilot.MenuBar.active = null); }, t.menuClean = function () { "undefined" != typeof DayPilot.Menu.active && DayPilot.Menu.active && (DayPilot.Menu.active.hide(), DayPilot.Menu.active = null); }, t.mouseDown = function (e) { "undefined" != typeof t && (t.menuClean(), DayPilot.MenuBar.deactivate()); }, t.mouseMove = function (e) { "undefined" != typeof t && (t.mouse = t.mousePosition(e)); }, t.touchMove = function (e) { "undefined" != typeof t && (t.mouse = t.touchPosition(e)); }, t.touchStart = function (e) { "undefined" != typeof t && (t.mouse = t.touchPosition(e)); }, t.touchEnd = function (e) { }, t.touchPosition = function (e) { if (!e || !e.touches)
        return null; var t = e.touches[0], n = {}; return n.x = t.pageX, n.y = t.pageY, n; }, t.mousePosition = function (e) { return DayPilot.mo3(null, e); }, DayPilot.Menu.touchPosition = function (e) { e.touches && (t.mouse = t.touchPosition(e)); }, DayPilot.Menu.hide = function (e) { if (e = e || {}, e.calendar) {
        var n = DayPilot.Menu.active;
        if (n) {
            var i = n.B.source;
            i && i.calendar === e.calendar && t.menuClean();
        }
    }
    else
        t.menuClean(); }, t.handlersRegistered || (DayPilot.re(document, "mousemove", t.mouseMove), DayPilot.re(document, "mousedown", t.mouseDown), DayPilot.re(document, "touchmove", t.touchMove), DayPilot.re(document, "touchstart", t.touchStart), DayPilot.re(document, "touchend", t.touchEnd), t.handlersRegistered = !0), DayPilot.Menu.def = {}, "undefined" != typeof Sys && Sys.Application && Sys.Application.notifyScriptLoaded && Sys.Application.notifyScriptLoaded();
} }(DayPilot), "undefined" == typeof DayPilot && (DayPilot = {}), function (DayPilot) {
    function e(t, n, i) { var a = n.indexOf("."); if (a === -1)
        return void ("__proto__" !== n && "constructor" !== n && (t[n] = i)); var r = n.substring(0, a); if ("__proto__" !== r && "constructor" !== r) {
        var o = n.substring(a + 1), s = t[r];
        "object" == typeof s && null !== s || (t[r] = {}, s = t[r]), e(s, o, i);
    } }
    function t(e, n, i) { n = n || {}, i = i || ""; for (var a in e) {
        var r = e[a];
        "object" == typeof r ? "[object Array]" === Object.prototype.toString.call(r) ? n[i + a] = r : r && r.toJSON ? n[i + a] = r.toJSON() : t(r, n, i + a + ".") : n[i + a] = r;
    } return n; }
    if (!DayPilot.ModalStatic) {
        DayPilot.ModalStatic = {}, DayPilot.ModalStatic.list = [], DayPilot.ModalStatic.hide = function () { if (this.list.length > 0) {
            var e = this.list.pop();
            e && e.hide();
        } }, DayPilot.ModalStatic.remove = function (e) { for (var t = DayPilot.ModalStatic.list, n = 0; n < t.length; n++)
            if (t[n] === e)
                return void t.splice(n, 1); }, DayPilot.ModalStatic.close = function (e) { DayPilot.ModalStatic.result(e), DayPilot.ModalStatic.hide(); }, DayPilot.ModalStatic.result = function (e) { var t = DayPilot.ModalStatic.list; t.length > 0 && (t[t.length - 1].result = e); }, DayPilot.ModalStatic.displayed = function (e) { for (var t = DayPilot.ModalStatic.list, n = 0; n < t.length; n++)
            if (t[n] === e)
                return !0; return !1; }, DayPilot.ModalStatic.stretch = function () { if (this.list.length > 0) {
            var e = this.list[this.list.length - 1];
            e && e.stretch();
        } }, DayPilot.ModalStatic.last = function () { var e = DayPilot.ModalStatic.list; return e.length > 0 ? e[e.length - 1] : null; };
        var n = function () { var e = document.createElement("style"); e.setAttribute("type", "text/css"), e.styleSheet || e.appendChild(document.createTextNode("")), (document.head || document.getElementsByTagName("head")[0]).appendChild(e); var t = !!e.styleSheet, n = {}; return n.rules = [], n.commit = function () { try {
            t && (e.styleSheet.cssText = this.rules.join("\n"));
        }
        catch (e) { } }, n.add = function (n, i, a) { if (t)
            return void this.rules.push(n + "{" + i + "}"); if (e.sheet.insertRule)
            "undefined" == typeof a && (a = e.sheet.cssRules.length), e.sheet.insertRule(n + "{" + i + "}", a);
        else {
            if (!e.sheet.addRule)
                throw "No CSS registration method found";
            e.sheet.addRule(n, i, a);
        } }, n; }, i = "data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjxzdmcKICAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB3aWR0aD0iMTAiCiAgIGhlaWdodD0iMTUiCj4KICA8ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwLDUpIj4KICAgIDxwYXRoCiAgICAgICBpZD0icGF0aDMxNzMiCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojOTk5OTk5O3N0cm9rZS13aWR0aDoxLjg1MTk2ODUzO3N0cm9rZS1saW5lY2FwOnJvdW5kO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbWl0ZXJsaW1pdDo0O3N0cm9rZS1kYXNoYXJyYXk6bm9uZSIKICAgICAgIGQ9Ik0gMC45NTQxNDgzOCwwLjY4MTYwMzEgNS4wMzkwNjI1LDUuNDExNTM4NiA5LjEyMzk3NjYsMC42ODE2MDMxIgogICAgICAgIC8+CiAgPC9nPgo8L3N2Zz4K", a = new n;
        a.add(".modal_default_main", "border: 10px solid #ccc; max-width: 90%;"), a.add(".modal_default_main:focus", "outline: none;"), a.add(".modal_default_content", "padding: 10px 0px;"), a.add(".modal_default_inner", "padding: 20px;"), a.add(".modal_default_input", "padding: 10px 0px;"), a.add(".modal_default_buttons", "margin-top: 10px;"), a.add(".modal_default_buttons", "padding: 10px 0px;"), a.add(".modal_default_form_item", "padding: 10px 0px; position: relative;"), a.add(".modal_default_form_item_level1", "border-left: 2px solid #ccc; margin-left: 10px; padding-left: 20px;"), a.add(".modal_default_form_item.modal_default_form_title", "font-size: 1.5rem; font-weight: bold;"), a.add(".modal_default_form_item input[type=text]", "width: 100%; box-sizing: border-box;"), a.add(".modal_default_form_item textarea", "width: 100%; height: 200px; box-sizing: border-box;"), a.add(".modal_default_form_item input[type=select]", "width: 100%; box-sizing: border-box;"), a.add(".modal_default_form_item label", "display: block;"), a.add(".modal_default_form_item select", "width: 100%; box-sizing: border-box;"), a.add(".modal_default_form_item_label", "margin: 2px 0px;"), a.add(".modal_default_form_item_image img", "max-width: 100%; height: auto;"), a.add(".modal_default_form_item_invalid", ""), a.add(".modal_default_form_item_invalid_message", "position: absolute; right: 0px; top: 9px; background-color: red; color: #ffffff; padding: 2px; border-radius: 2px;"), a.add(".modal_default_background", "opacity: 0.5; background-color: #000;"), a.add(".modal_default_ok", "padding: 3px; width: 80px;"), a.add(".modal_default_cancel", "padding: 3px; width: 80px;"), a.add(".modal_default_form_item_date", "position: relative;"), a.add(".modal_default_form_item_date:after", "content: ''; position: absolute; right: 7px; top: 50%; margin-top: 3px; width: 10px; height: 15px; background-image:url(" + "data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjxzdmcKICAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB3aWR0aD0iMTAiCiAgIGhlaWdodD0iMTUiCj4KICA8ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwLDUpIj4KICAgIDxyZWN0CiAgICAgICBzdHlsZT0iZmlsbDojY2NjY2NjO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTpub25lO3N0cm9rZS13aWR0aDoxLjM4MDM3MzM2O3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOnJvdW5kO3N0cm9rZS1taXRlcmxpbWl0OjQ7c3Ryb2tlLWRhc2hhcnJheTpub25lO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBpZD0icmVjdDE5MjgiCiAgICAgICB3aWR0aD0iOS45MTUzMDYxIgogICAgICAgaGVpZ2h0PSIxMS4zNjkzNyIKICAgICAgIHg9IjAuMTE3MTg3NSIKICAgICAgIHk9Ii0zLjAwOTk5NTciCiAgICAgICByeT0iMS4zMTE4NTA1IiAvPgogICAgPHJlY3QKICAgICAgIHN0eWxlPSJmaWxsOiNjY2NjY2M7ZmlsbC1vcGFjaXR5OjE7c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjEuNTk4MTQwMTI7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46cm91bmQ7c3Ryb2tlLW1pdGVybGltaXQ6NDtzdHJva2UtZGFzaGFycmF5Om5vbmU7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGlkPSJyZWN0MTkzMCIKICAgICAgIHdpZHRoPSIxLjUzNDQxMzYiCiAgICAgICBoZWlnaHQ9IjIuMjE5ODI1IgogICAgICAgeD0iMi4xNTU4NDgzIgogICAgICAgeT0iLTQuMzkzNzAwMSIKICAgICAgIHJ5PSIwLjY3MTc4OTE3IiAvPgogICAgPHJlY3QKICAgICAgIHJ5PSIwLjI5NjAxNDciCiAgICAgICB5PSItMS4xNjU4NDY2IgogICAgICAgeD0iMS41MjM5NTA2IgogICAgICAgaGVpZ2h0PSIxLjgyOTkwOTEiCiAgICAgICB3aWR0aD0iMS44MzQyMjUxIgogICAgICAgaWQ9InJlY3QxOTQ4IgogICAgICAgc3R5bGU9ImZpbGw6I2ZmZmZmZjtmaWxsLW9wYWNpdHk6MTtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MS40MjE4OTE5MztzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbWl0ZXJsaW1pdDo0O3N0cm9rZS1kYXNoYXJyYXk6bm9uZTtzdHJva2Utb3BhY2l0eToxIiAvPgogICAgPHJlY3QKICAgICAgIHJ5PSIwLjY3MTc4OTE3IgogICAgICAgeT0iLTQuMzkzNzAwMSIKICAgICAgIHg9IjYuNDUyNzIzNSIKICAgICAgIGhlaWdodD0iMi4yMTk4MjUiCiAgICAgICB3aWR0aD0iMS41MzQ0MTM2IgogICAgICAgaWQ9InJlY3QyMDAzIgogICAgICAgc3R5bGU9ImZpbGw6I2NjY2NjYztmaWxsLW9wYWNpdHk6MTtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MS41OTgxNDAxMjtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbWl0ZXJsaW1pdDo0O3N0cm9rZS1kYXNoYXJyYXk6bm9uZTtzdHJva2Utb3BhY2l0eToxIiAvPgogICAgPHJlY3QKICAgICAgIHN0eWxlPSJmaWxsOiNmZmZmZmY7ZmlsbC1vcGFjaXR5OjE7c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjEuNDIxODkxOTM7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46cm91bmQ7c3Ryb2tlLW1pdGVybGltaXQ6NDtzdHJva2UtZGFzaGFycmF5Om5vbmU7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGlkPSJyZWN0MjAwNSIKICAgICAgIHdpZHRoPSIxLjgzNDIyNTEiCiAgICAgICBoZWlnaHQ9IjEuODI5OTA5MSIKICAgICAgIHg9IjQuMjE5MjYzMSIKICAgICAgIHk9Ii0xLjE2NTg0NjYiCiAgICAgICByeT0iMC4yOTYwMTQ3IiAvPgogICAgPHJlY3QKICAgICAgIHJ5PSIwLjI5NjAxNDciCiAgICAgICB5PSItMS4xNjU4NDY2IgogICAgICAgeD0iNi45OTI3MDA2IgogICAgICAgaGVpZ2h0PSIxLjgyOTkwOTEiCiAgICAgICB3aWR0aD0iMS44MzQyMjUxIgogICAgICAgaWQ9InJlY3QyMDA3IgogICAgICAgc3R5bGU9ImZpbGw6I2ZmZmZmZjtmaWxsLW9wYWNpdHk6MTtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MS40MjE4OTE5MztzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbWl0ZXJsaW1pdDo0O3N0cm9rZS1kYXNoYXJyYXk6bm9uZTtzdHJva2Utb3BhY2l0eToxIiAvPgogICAgPHJlY3QKICAgICAgIHN0eWxlPSJmaWxsOiNmZmZmZmY7ZmlsbC1vcGFjaXR5OjE7c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjEuNDIxODkxOTM7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46cm91bmQ7c3Ryb2tlLW1pdGVybGltaXQ6NDtzdHJva2UtZGFzaGFycmF5Om5vbmU7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGlkPSJyZWN0MjAxMyIKICAgICAgIHdpZHRoPSIxLjgzNDIyNTEiCiAgICAgICBoZWlnaHQ9IjEuODI5OTA5MSIKICAgICAgIHg9IjEuNTIzOTUwNiIKICAgICAgIHk9IjEuODAyOTAzNCIKICAgICAgIHJ5PSIwLjI5NjAxNDciIC8+CiAgICA8cmVjdAogICAgICAgcnk9IjAuMjk2MDE0NyIKICAgICAgIHk9IjEuODAyOTAzNCIKICAgICAgIHg9IjQuMjE5MjYzMSIKICAgICAgIGhlaWdodD0iMS44Mjk5MDkxIgogICAgICAgd2lkdGg9IjEuODM0MjI1MSIKICAgICAgIGlkPSJyZWN0MjAxNSIKICAgICAgIHN0eWxlPSJmaWxsOiNmZmZmZmY7ZmlsbC1vcGFjaXR5OjE7c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjEuNDIxODkxOTM7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46cm91bmQ7c3Ryb2tlLW1pdGVybGltaXQ6NDtzdHJva2UtZGFzaGFycmF5Om5vbmU7c3Ryb2tlLW9wYWNpdHk6MSIgLz4KICAgIDxyZWN0CiAgICAgICBzdHlsZT0iZmlsbDojZmZmZmZmO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTpub25lO3N0cm9rZS13aWR0aDoxLjQyMTg5MTkzO3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOnJvdW5kO3N0cm9rZS1taXRlcmxpbWl0OjQ7c3Ryb2tlLWRhc2hhcnJheTpub25lO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBpZD0icmVjdDIwMTciCiAgICAgICB3aWR0aD0iMS44MzQyMjUxIgogICAgICAgaGVpZ2h0PSIxLjgyOTkwOTEiCiAgICAgICB4PSI2Ljk5MjcwMDYiCiAgICAgICB5PSIxLjgwMjkwMzQiCiAgICAgICByeT0iMC4yOTYwMTQ3IiAvPgogICAgPHJlY3QKICAgICAgIHJ5PSIwLjI5NjAxNDciCiAgICAgICB5PSI0LjczMjU5MDciCiAgICAgICB4PSIxLjU2MzAxMzEiCiAgICAgICBoZWlnaHQ9IjEuODI5OTA5MSIKICAgICAgIHdpZHRoPSIxLjgzNDIyNTEiCiAgICAgICBpZD0icmVjdDIwMTkiCiAgICAgICBzdHlsZT0iZmlsbDojZmZmZmZmO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTpub25lO3N0cm9rZS13aWR0aDoxLjQyMTg5MTkzO3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOnJvdW5kO3N0cm9rZS1taXRlcmxpbWl0OjQ7c3Ryb2tlLWRhc2hhcnJheTpub25lO3N0cm9rZS1vcGFjaXR5OjEiIC8+CiAgICA8cmVjdAogICAgICAgc3R5bGU9ImZpbGw6I2ZmZmZmZjtmaWxsLW9wYWNpdHk6MTtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MS40MjE4OTE5MztzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbWl0ZXJsaW1pdDo0O3N0cm9rZS1kYXNoYXJyYXk6bm9uZTtzdHJva2Utb3BhY2l0eToxIgogICAgICAgaWQ9InJlY3QyMDIxIgogICAgICAgd2lkdGg9IjEuODM0MjI1MSIKICAgICAgIGhlaWdodD0iMS44Mjk5MDkxIgogICAgICAgeD0iNC4yNTgzMjU2IgogICAgICAgeT0iNC43MzI1OTA3IgogICAgICAgcnk9IjAuMjk2MDE0NyIgLz4KICAgIDxyZWN0CiAgICAgICByeT0iMC4yOTYwMTQ3IgogICAgICAgeT0iNC43MzI1OTA3IgogICAgICAgeD0iNy4wMzE3NjMxIgogICAgICAgaGVpZ2h0PSIxLjgyOTkwOTEiCiAgICAgICB3aWR0aD0iMS44MzQyMjUxIgogICAgICAgaWQ9InJlY3QyMDIzIgogICAgICAgc3R5bGU9ImZpbGw6I2ZmZmZmZjtmaWxsLW9wYWNpdHk6MTtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MS40MjE4OTE5MztzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbWl0ZXJsaW1pdDo0O3N0cm9rZS1kYXNoYXJyYXk6bm9uZTtzdHJva2Utb3BhY2l0eToxIiAvPgogIDwvZz4KPC9zdmc+Cg==" + ")"), navigator.userAgent.indexOf("Edge") !== -1 && a.add(".modal_default_form_item_date input::-ms-clear", "display: none;"), a.add(".modal_default_form_item_scrollable_scroll", "width: 100%; height: 200px; box-sizing: border-box; border: 1px solid #ccc; overflow-y: auto;"), a.add(".modal_default_form_item_scrollable_scroll_content", "padding: 5px;"), a.add(".modal_default_form_item_searchable", "position: relative;"), a.add(".modal_default_form_item_searchable_icon", ""), a.add(".modal_default_form_item_searchable_icon:after", "content:''; position: absolute; right: 5px; top: 50%; margin-top: -8px; width: 10px; height: 15px; background-image:url(" + i + ");"), a.add(".modal_default_form_item_searchable_list", "box-sizing: border-box; border: 1px solid #999; max-height: 150px; overflow-y: auto;"), a.add(".modal_default_form_item_searchable_list_item", "background: white; padding: 2px; cursor: default;"), a.add(".modal_default_form_item_searchable_list_item_highlight", "background: #ccc;"), a.add(".modal_default_form_item_time", "position: relative;"), a.add(".modal_default_form_item_time_icon", ""), a.add(".modal_default_form_item_time_icon:after", "content:''; position: absolute; right: 5px; top: 50%; margin-top: -8px; width: 10px; height: 15px; background-image:url(" + i + ");"), a.add(".modal_default_form_item_time_list", "box-sizing: border-box; border: 1px solid #999; max-height: 150px; overflow-y: auto;"), a.add(".modal_default_form_item_time_list_item", "background: white; padding: 2px; cursor: default;"), a.add(".modal_default_form_item_time_list_item_highlight", "background: #ccc;"), a.add(".modal_default_form_item_datetime_parent", "display: flex;"), a.add(".modal_default_form_item_datetime .modal_default_form_item_time_main", "margin-left: 5px;"), a.add(".modal_default_form_item_datetime input[type='text'].modal_default_input_date ", ""), a.add(".modal_default_form_item_tabular_main", "margin-top: 10px;"), a.add(".modal_default_form_item_tabular_table", "display: table; width: 100%; xbackground-color: #fff; border-collapse: collapse;"), a.add(".modal_default_form_item_tabular_tbody", "display: table-row-group;"), a.add(".modal_default_form_item_tabular_row", "display: table-row;"),
            a.add(".modal_default_form_item_tabular_row.modal_default_form_item_tabular_header", ""), a.add(".modal_default_form_item_tabular_cell.modal_default_form_item_tabular_rowaction", "padding: 0px; width: 23px;"), a.add(".modal_default_form_item_tabular_cell", "display: table-cell; border: 0px; padding: 2px 2px 2px 0px; cursor: default; vertical-align: bottom;"), a.add(".modal_default_form_item_tabular_header .modal_default_form_item_tabular_cell", "padding-left: 0px; padding-bottom: 0px;"), a.add(".modal_default_form_item_tabular_table input[type=text], .modal_default_form_item_tabular_table input[type=number]", "width:100%; box-sizing: border-box;"), a.add(".modal_default_form_item_tabular_table select", "width:100%; height:100%; box-sizing: border-box;"), a.add(".modal_default_form_item_tabular_plus", "display: inline-block; background-color: #ccc; color: white; width: 20px; height: 20px; border-radius: 10px; box-sizing: border-box; position: relative; margin-left: 3px; margin-top: 3px; cursor: pointer;"), a.add(".modal_default_form_item_tabular_plus:after", "content: ''; position: absolute; left: 5px; top: 5px; width: 10px; height: 10px;   background-image: url(\"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0nMTAnIGhlaWdodD0nMTAnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zyc+PHBhdGggZD0nTSA1LjAgMC41IEwgNS4wIDkuNSBNIDAuNSA1LjAgTCA5LjUgNS4wJyBzdHlsZT0nZmlsbDpub25lO3N0cm9rZTojZmZmZmZmO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbGluZWNhcDpidXR0JyAvPjwvc3ZnPg==\")"), a.add(".modal_default_form_item_tabular_delete", "display: inline-block; background-color: #ccc; color: white; width: 20px; height: 20px; border-radius: 10px; box-sizing: border-box; position: relative; margin-left: 3px; margin-top: 3px; cursor: pointer;"), a.add(".modal_default_form_item_tabular_delete:after", "content: ''; position: absolute; left: 5px; top: 5px; width: 10px; height: 10px;   background-image: url(\"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0nMTAnIGhlaWdodD0nMTAnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zyc+PHBhdGggZD0nTSAwLjUgMC41IEwgOS41IDkuNSBNIDAuNSA5LjUgTCA5LjUgMC41JyBzdHlsZT0nZmlsbDpub25lO3N0cm9rZTojZmZmZmZmO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbGluZWNhcDpidXR0JyAvPjwvc3ZnPg==\")"), a.add(".modal_default_form_item_tabular_disabled .modal_default_form_item_tabular_plus", "display: none;"), a.add(".modal_default_form_item_tabular_plus_max.modal_default_form_item_tabular_plus", "display: none;"), a.add(".modal_default_form_item_tabular_disabled .modal_default_form_item_tabular_delete", "visibility: hidden;"), a.add(".modal_default_form_item_tabular_empty", "height: 1px; margin: 5px 23px 5px 0px; background-color: #ccc;"), a.add(".modal_default_form_item_tabular_spacer .modal_default_form_item_tabular_cell", "padding: 0px;"), a.add(".modal_min_main", "border: 1px solid #ccc; max-width: 90%;"), a.add(".modal_min_background", "opacity: 0.5; background-color: #000;"), a.add(".modal_min_ok", "padding: 3px 10px;"), a.add(".modal_min_cancel", "padding: 3px 10px;"), a.add(".navigator_modal_main", "border-left: 1px solid #c0c0c0;border-right: 1px solid #c0c0c0;border-bottom: 1px solid #c0c0c0;background-color: white;color: #000000; box-sizing: content-box;"), a.add(".navigator_modal_main *, .navigator_modal_main *:before, .navigator_modal_main *:after", "box-sizing: content-box;"), a.add(".navigator_modal_month", "font-size: 11px;"), a.add(".navigator_modal_day", "color: black;"), a.add(".navigator_modal_weekend", "background-color: #f0f0f0;"), a.add(".navigator_modal_dayheader", "color: black;"), a.add(".navigator_modal_line", "border-bottom: 1px solid #c0c0c0;"), a.add(".navigator_modal_dayother", "color: gray;"), a.add(".navigator_modal_todaybox", "border: 1px solid red;"), a.add(".navigator_modal_title, .navigator_modal_titleleft, .navigator_modal_titleright", "border-top: 1px solid #c0c0c0;border-bottom: 1px solid #c0c0c0;color: #333;background: #f3f3f3;"), a.add(".navigator_modal_busy", "font-weight: bold;"), a.add(".navigator_modal_cell", "text-align: center;"), a.add(".navigator_modal_select .navigator_modal_cell_box", "background-color: #FFE794; opacity: 0.5;"), a.add(".navigator_modal_title", "text-align: center;"), a.add(".navigator_modal_titleleft, .navigator_modal_titleright", "text-align: center;"), a.add(".navigator_modal_dayheader", "text-align: center;"), a.add(".navigator_modal_weeknumber", "text-align: center;"), a.add(".navigator_modal_cell_text", "cursor: pointer;"), a.commit(), DayPilot.Modal = function (e) { this.autoFocus = !0, this.focus = null, this.autoStretch = !0, this.autoStretchFirstLoadOnly = !1, this.className = null, this.theme = "modal_default", this.disposeOnClose = !0, this.dragDrop = !0, this.loadingHtml = null, this.maxHeight = null, this.scrollWithPage = !0, this.useIframe = !0, this.zIndex = 99999, this.left = null, this.width = 600, this.top = 20, this.height = 200, this.locale = null, this.closed = null, this.onClose = null, this.onClosed = null, this.onShow = null; var t = this; this.id = "_" + (new Date).getTime() + "n" + 10 * Math.random(), this.df = !1, this.mh = null, this.nh = null, this.showHtml = function (e) { if (DayPilot.ModalStatic.displayed(this))
            throw "This modal dialog is already displayed."; if (this.div || this.oh(), this.bd(), this.useIframe) {
            var t = function (e, t) { return function () { e.setInnerHTML(e.id + "iframe", t); }; };
            window.setTimeout(t(this, e), 0);
        }
        else
            e.nodeType ? this.div.appendChild(e) : this.div.innerHTML = e; this.bd(), this.Hg(), this.ph(); }, this.showUrl = function (e) { if (DayPilot.ModalStatic.displayed(this))
            throw "This modal dialog is already displayed."; if (this.useIframe) {
            this.div || this.oh();
            var n = this.loadingHtml;
            n && (this.iframe.src = "about:blank", this.setInnerHTML(this.id + "iframe", n)), this.re(this.iframe, "load", this.qh), this.iframe.src = e, this.bd(), this.Hg(), this.ph();
        }
        else
            t.rh({ "url": e, "success": function (e) { var n = e.request.responseText; t.showHtml(n); }, "error": function (e) { t.showHtml("Error loading the modal dialog"); } }); }, this.ph = function () { if ("function" == typeof t.onShow) {
            var e = {};
            e.root = t.uh(), e.modal = t, t.onShow(e);
        } }, this.uh = function () { return t.iframe ? t.iframe.contentWindow.document : t.div; }, this.rh = function (e) { var t = new XMLHttpRequest; if (t) {
            var n = e.method || "GET", i = e.success || function () { }, a = e.error || function () { }, r = e.data, o = e.url;
            t.open(n, o, !0), t.setRequestHeader("Content-type", "text/plain"), t.onreadystatechange = function () { if (4 === t.readyState)
                if (200 === t.status || 304 === t.status) {
                    var e = {};
                    e.request = t, i(e);
                }
                else if (a) {
                    var e = {};
                    e.request = t, a(e);
                }
                else
                    window.console && console.log("HTTP error " + t.status); }, 4 !== t.readyState && ("object" == typeof r && (r = JSON.stringify(r)), t.send(r));
        } }, this.bd = function () { delete this.result; var e = window, n = document, i = e.pageYOffset ? e.pageYOffset : n.documentElement && n.documentElement.scrollTop ? n.documentElement.scrollTop : n.body.scrollTop; this.theme && (this.hideDiv.className = this.theme + "_background"), this.zIndex && (this.hideDiv.style.zIndex = this.zIndex), this.hideDiv.style.display = "", window.setTimeout(function () { t.hideDiv && (t.hideDiv.onclick = function () { t.hide({ "backgroundClick": !0 }); }); }, 500), this.theme ? this.div.className = this.theme + "_main" : this.div.className = "", this.className && (this.div.className += " " + this.className), this.left ? this.div.style.left = this.left + "px" : this.div.style.marginLeft = "-" + Math.floor(this.width / 2) + "px", this.div.style.position = "absolute", this.div.style.boxSizing = "content-box", this.div.style.top = i + this.top + "px", this.div.style.width = this.width + "px", this.zIndex && (this.div.style.zIndex = this.zIndex), this.height && (this.useIframe || !this.autoStretch ? this.div.style.height = this.height + "px" : this.div.style.height = ""), this.useIframe && this.height && (this.iframe.style.height = this.height + "px"), this.div.style.display = "", this.wh(), DayPilot.ModalStatic.remove(this), DayPilot.ModalStatic.list.push(this); }, this.qh = function () { t.iframe.contentWindow.modal = t, t.autoStretch && t.stretch(); }, this.stretch = function () { var e = function () { return t.vh().y; }, n = function () { return t.vh().x; }; if (this.useIframe) {
            for (var i = n() - 40, a = this.width; a < i && this.xh(); a += 10)
                this.div.style.width = a + "px", this.div.style.marginLeft = "-" + Math.floor(a / 2) + "px";
            for (var r = this.maxHeight || e() - 2 * this.top, o = this.height; o < r && this.yh(); o += 10)
                this.iframe.style.height = o + "px", this.div.style.height = o + "px";
            this.autoStretchFirstLoadOnly && this.ue(this.iframe, "load", this.qh);
        }
        else
            this.div.style.height = ""; }, this.xh = function () { for (var e = this.iframe.contentWindow.document, t = "BackCompat" === e.compatMode ? e.body : e.documentElement, n = t.scrollWidth, i = e.body.children, a = 0; a < i.length; a++) {
            var r = i[a].offsetLeft + i[a].offsetWidth;
            n = Math.max(n, r);
        } return n > t.clientWidth; }, this.yh = function () { for (var e = this.iframe.contentWindow.document, t = "BackCompat" === e.compatMode ? e.body : e.documentElement, n = t.scrollHeight, i = e.body.children, a = 0; a < i.length; a++) {
            var r = i[a].offsetTop + i[a].offsetHeight;
            n = Math.max(n, r);
        } return n > t.clientHeight; }, this.vh = function () { var e = document; if ("CSS1Compat" === e.compatMode && e.documentElement && e.documentElement.clientWidth) {
            var t = e.documentElement.clientWidth, n = e.documentElement.clientHeight;
            return { x: t, y: n };
        } var t = e.body.clientWidth, n = e.body.clientHeight; return { x: t, y: n }; }, this.Hg = function () { this.df || (this.re(window, "resize", this.zh), this.re(window, "scroll", this.Ah), this.dragDrop && (this.re(document, "mousemove", this.Bh), this.re(document, "mouseup", this.Ch)), this.df = !0); }, this.Ha = function () { this.ue(window, "resize", this.zh), this.ue(window, "scroll", this.Ah), this.dragDrop && (this.ue(document, "mousemove", this.Bh), this.ue(document, "mouseup", this.Ch)), this.df = !1; }, this.Dh = function (e) { e.target === t.div && (e.preventDefault(), t.div.style.cursor = "move", t.Eh(), t.nh = t.mc(e || window.event), t.mh = { x: t.div.offsetLeft, y: t.div.offsetTop }); }, this.Bh = function (e) { if (t.nh) {
            var e = e || window.event, n = t.mc(e), i = n.x - t.nh.x, a = n.y - t.nh.y;
            t.div.style.marginLeft = "0px", t.div.style.top = t.mh.y + a + "px", t.div.style.left = t.mh.x + i + "px";
        } }, this.Ch = function (e) { t.nh && (t.Fh(), t.div.style.cursor = null, t.nh = null); }, this.Eh = function () { if (this.useIframe) {
            var e = document.createElement("div");
            e.style.backgroundColor = "#ffffff", e.style.filter = "alpha(opacity=80)", e.style.opacity = "0.80", e.style.width = "100%", e.style.height = this.height + "px", e.style.position = "absolute", e.style.left = "0px", e.style.top = "0px", this.div.appendChild(e), this.mask = e;
        } }, this.Fh = function () { this.useIframe && (this.div.removeChild(this.mask), this.mask = null); }, this.zh = function () { t.Gh(), t.wh(); }, this.Ah = function () { t.Gh(); }, this.wh = function () { if (!t.left && t.div) {
            var e = t.div.offsetWidth;
            t.div.style.marginLeft = "-" + Math.floor(e / 2) + "px";
        } }, this.Gh = function () { if (t.hideDiv && t.div && "none" !== t.hideDiv.style.display && "none" !== t.div.style.display) {
            var e = t.Hh.scrollY();
            t.scrollWithPage || (t.div.style.top = e + t.top + "px");
        } }, this.Hh = {}, this.Hh.container = function () { return t.container || document.body; }, this.Hh.scrollY = function () { var e = t.Hh.container(); return e === document.body ? window.pageYOffset ? window.pageYOffset : document.documentElement && document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop : e.scrollTop; }, this.re = function (e, t, n) { e.addEventListener ? e.addEventListener(t, n, !1) : e.attachEvent && e.attachEvent("on" + t, n); }, this.ue = function (e, t, n) { e.removeEventListener ? e.removeEventListener(t, n, !1) : e.detachEvent && e.detachEvent("on" + t, n); }, this.mc = function (e) { return e.pageX || e.pageY ? { x: e.pageX, y: e.pageY } : { x: e.clientX + document.documentElement.scrollLeft, y: e.clientY + document.documentElement.scrollTop }; }, this.abs = function (e) { for (var t = { x: e.offsetLeft, y: e.offsetTop }; e.offsetParent;)
            e = e.offsetParent, t.x += e.offsetLeft, t.y += e.offsetTop; return t; }, this.oh = function () { var e = t.Hh.container(), n = e === document.body, i = n ? "fixed" : "absolute", a = document.createElement("div"); a.id = this.id + "hide", a.style.position = i, a.style.left = "0px", a.style.top = "0px", a.style.right = "0px", a.style.bottom = "0px", a.oncontextmenu = function () { return !1; }, a.onmousedown = function () { return !1; }, e.appendChild(a); var r = document.createElement("div"); r.id = this.id + "popup", r.style.position = i, r.style.left = "50%", r.style.top = "0px", r.style.backgroundColor = "white", r.style.width = "50px", r.style.height = "50px", this.dragDrop && (r.onmousedown = this.Dh), r.addEventListener("keydown", function (e) { e.stopPropagation(); }); var o = null; this.useIframe && (o = document.createElement("iframe"), o.id = this.id + "iframe", o.name = this.id + "iframe", o.frameBorder = "0", o.style.width = "100%", o.style.height = "50px", r.appendChild(o)), e.appendChild(r), this.div = r, this.iframe = o, this.hideDiv = a; }, this.setInnerHTML = function (e, n) { var i = window.frames[e], a = i.contentWindow || i.document || i.contentDocument; a.document && (a = a.document), null == a.body && a.write("<body></body>"), n.nodeType ? a.body.appendChild(n) : a.body.innerHTML = n, t.autoStretch && (t.autoStretchFirstLoadOnly && t.Ih || (t.stretch(), t.Ih = !0)); }, this.close = function (e) { this.result = e, this.hide(); }, this.closeSerialized = function () { for (var e = t.uh(), n = e.querySelectorAll("input, textarea, select"), i = {}, a = 0; a < n.length; a++) {
            var r = n[a], o = r.name;
            if (o) {
                var s = r.value;
                i[o] = s;
            }
        } t.close(i); }, this.hide = function (e) { e = e || {}; var n = {}; n.backgroundClick = !!e.backgroundClick, n.result = this.result, n.canceled = "undefined" == typeof this.result, n.preventDefault = function () { this.preventDefault.value = !0; }, "function" == typeof this.onClose && (this.onClose(n), n.preventDefault.value) || (this.div && (this.div.style.display = "none", this.hideDiv.style.display = "none", this.useIframe || (this.div.innerHTML = null)), window.focus(), DayPilot.ModalStatic.remove(this), "function" == typeof this.onClosed ? this.onClosed(n) : this.closed && this.closed(), delete this.result, this.disposeOnClose && (t.Ha(), t.Jh(t.div), t.Jh(t.hideDiv), t.div = null, t.hideDiv = null, t.iframe = null)); }, this.Jh = function (e) { e && e.parentNode && e.parentNode.removeChild(e); }, this.Kh = function () { if (e)
            for (var t in e)
                this[t] = e[t]; }, this.Kh(); }, DayPilot.Modal.alert = function (e, t) { t = t || {}, t.height = t.height || 40, t.useIframe = !1; var n = t.okText || "OK"; t.cancelText || "Cancel"; return DayPilot.getPromise(function (i, a) { t.onClosed = function (e) { i(e); }; var r = new DayPilot.Modal(t), o = document.createElement("div"); o.className = r.theme + "_inner"; var s = document.createElement("div"); s.className = r.theme + "_content", s.innerHTML = e; var l = document.createElement("div"); l.className = r.theme + "_buttons"; var d = document.createElement("button"); d.innerText = n, d.className = r.theme + "_ok", d.onclick = function (e) { DayPilot.ModalStatic.close("OK"); }, l.appendChild(d), o.appendChild(s), o.appendChild(l), r.showHtml(o), r.autoFocus && d.focus(); }); }, DayPilot.Modal.confirm = function (e, t) { t = t || {}, t.height = t.height || 40, t.useIframe = !1; var n = t.okText || "OK", i = t.cancelText || "Cancel"; return DayPilot.getPromise(function (a, r) { t.onClosed = function (e) { a(e); }; var o = new DayPilot.Modal(t), s = document.createElement("div"); s.className = o.theme + "_inner"; var l = document.createElement("div"); l.className = o.theme + "_content", l.innerHTML = e; var d = document.createElement("div"); d.className = o.theme + "_buttons"; var c = document.createElement("button"); c.innerText = n, c.className = o.theme + "_ok", c.onclick = function (e) { DayPilot.ModalStatic.close("OK"); }; var u = document.createTextNode(" "), h = document.createElement("button"); h.innerText = i, h.className = o.theme + "_cancel", h.onclick = function (e) { DayPilot.ModalStatic.close(); }, d.appendChild(c), d.appendChild(u), d.appendChild(h), s.appendChild(l), s.appendChild(d), o.showHtml(s), o.autoFocus && c.focus(); }); }, DayPilot.Modal.prompt = function (e, t, n) { "object" == typeof t && (n = t, t = ""), n = n || {}, n.height = n.height || 40, n.useIframe = !1; var i = n.okText || "OK", a = n.cancelText || "Cancel", r = t || ""; return DayPilot.getPromise(function (t, o) { n.onClosed = function (e) { t(e); }; var s = new DayPilot.Modal(n), l = document.createElement("div"); l.className = s.theme + "_inner"; var d = document.createElement("div"); d.className = s.theme + "_content", d.innerHTML = e; var c = document.createElement("div"); c.className = s.theme + "_input"; var u = document.createElement("input"); u.value = r, u.style.width = "100%", u.onkeydown = function (e) { var t = !1; switch (e.keyCode) {
            case 13:
                s.close(this.value);
                break;
            case 27:
                s.close();
                break;
            default: t = !0;
        } t || (e.preventDefault(), e.stopPropagation()); }, c.appendChild(u); var h = document.createElement("div"); h.className = s.theme + "_buttons"; var f = document.createElement("button"); f.innerText = i, f.className = s.theme + "_ok", f.onclick = function (e) { s.close(u.value); }; var v = document.createTextNode(" "), p = document.createElement("button"); p.innerText = a, p.className = s.theme + "_cancel", p.onclick = function (e) { s.close(); }, h.appendChild(f), h.appendChild(v), h.appendChild(p), l.appendChild(d), l.appendChild(c), l.appendChild(h), s.showHtml(l), s.autoFocus && u.focus(); }); };
        var r = function (e) { return "[object Array]" === Object.prototype.toString.call(e); };
        DayPilot.Modal.form = function (t, n, i) { if (1 === arguments.length) {
            var a = t;
            if (r(a))
                n = {};
            else {
                if ("object" != typeof a)
                    throw "Invalid DayPilot.Modal.form() parameter";
                n = t, t = [];
                for (var s in n) {
                    var l = {};
                    l.name = s, l.id = s, t.push(l);
                }
            }
        } var d = {}; for (var s in i)
            d[s] = i[s]; d.height = d.height || 40, d.useIframe = !1; var c = d.okText || "OK", u = d.cancelText || "Cancel"; return DayPilot.getPromise(function (i, a) { d.onClosed = function (t) { if (t.result) {
            var a = JSON.parse(JSON.stringify(n));
            for (var r in t.result)
                e(a, r, t.result[r]);
            t.result = a;
        } i(t); }; var r = new DayPilot.Modal(d), s = document.createElement("div"); s.className = r.theme + "_inner"; var l = document.createElement("div"); l.className = r.theme + "_input"; var h = new o({ theme: r.theme, form: t, data: n, zIndex: r.zIndex, locale: r.locale, plugins: r.plugins, onKey: function (e) { switch (e.key) {
                case "Enter":
                    h.validate() && r.close(h.serialize());
                    break;
                case "Escape": r.close();
            } }, onChange: function (e) { "function" == typeof r.onChange && r.onChange(e); } }), f = h.create(); l.append(f); var v = document.createElement("div"); v.className = r.theme + "_buttons"; var p = document.createElement("button"); p.innerText = c, p.className = r.theme + "_ok", d.okDisabled && (p.disabled = !0), p.onclick = function (e) { h.validate() && r.close(h.serialize()); }; var m = document.createTextNode(" "), g = document.createElement("button"); if (g.innerText = u, g.className = r.theme + "_cancel", g.onclick = function (e) { r.close(); }, g.onmousedown = function (e) { h.canceling = !0; }, v.appendChild(p), v.appendChild(m), v.appendChild(g), s.appendChild(l), s.appendChild(v), r.showHtml(s), r.div.setAttribute("tabindex", "-1"), r.div.addEventListener("keydown", function (e) { switch (e.keyCode) {
            case 27:
                r.close();
                break;
            case 13: h.validate() && r.close(h.serialize());
        } }), r.focus) {
            var b = null;
            if ("object" == typeof r.focus) {
                var y = r.focus.id, w = r.focus.value;
                b = h.findViewById(y, w);
            }
            else
                "string" == typeof r.focus && (b = h.findViewById(r.focus));
            b && b.focus();
        }
        else {
            var x = h.firstFocusable();
            r.autoFocus && x ? x.focus() : r.div.focus();
        } }); }, DayPilot.Modal.close = function (e) { var t = DayPilot.Modal.opener(); t && t.close(e); }, DayPilot.Modal.stretch = function (e) { var t = DayPilot.Modal.opener(); if (!t)
            throw "Unable to find the opener DayPilot.Modal instance."; t.stretch(); }, DayPilot.Modal.closeSerialized = function () { var e = DayPilot.Modal.opener() || DayPilot.ModalStatic.last(); e && e.closeSerialized(); }, DayPilot.Modal.opener = function () { return "undefined" != typeof DayPilot && "undefined" != typeof DayPilot.ModalStatic && DayPilot.ModalStatic.list.length > 0 ? DayPilot.ModalStatic.list[DayPilot.ModalStatic.list.length - 1] : parent && parent.DayPilot && parent.DayPilot.ModalStatic && parent.DayPilot.ModalStatic.list[parent.DayPilot.ModalStatic.list.length - 1]; }, DayPilot.Modal.Experimental = {}, DayPilot.Modal.Experimental.Form = o, "undefined" == typeof DayPilot.getPromise && (DayPilot.getPromise = function (e) { return "undefined" != typeof Promise ? new Promise(e) : (DayPilot.Promise = function (e) { var t = this; this.then = function (t, n) { return t = t || function () { }, n = n || function () { }, e(t, n), DayPilot.getPromise(e); }, this["catch"] = function (n) { return t.then(null, n), DayPilot.getPromise(e); }; }, new DayPilot.Promise(e)); });
        var o = function (e) { this.form = [], this.data = {}, this.theme = "form_default", this.zIndex = 99999, this.locale = "en-us", this.plugins = {}, this.onKey = null, this.Lh = [], this.Mh = null, this.canceling = !1, this.Nh = [], this.Oh = [], this.c = null, e = e || {}; for (var t in e)
            this[t] = e[t]; };
        o.prototype.create = function () { return this.load(), this.render(), this.c; }, o.prototype.render = function () { var e = this; this.c = document.createElement("div"), this.Lh.forEach(function (t) { e.createView(t); }), this.applyState(); }, o.prototype.createView = function (e) { var t = this.theme, n = this, i = document.createElement("div"); if (i.className = t + "_form_item " + t + "_form_item_level" + e.level, e.interactive || "title" !== e.type ? i.className += " " + t + "_form_item_" + e.type : i.className += " " + t + "_form_title", e.data.cssClass && (i.className += " " + e.data.cssClass), !e.isValue) {
            var a = document.createElement("div");
            a.className = t + "_form_item_label", a.innerText = e.text, i.appendChild(a);
        } var r = this.createInteractive(e); r.onInput = function (e) { if (e = e || {}, n.Ph(r, { "debounce": !e.immediate }), "function" == typeof n.onChange) {
            var t = {};
            t.result = n.serialize(), n.onChange(t);
        } }, r.onBlur = function () { n.canceling || n.Ph(r); }, r.apply(e), r.c = i, r.row = e, r.element && i.appendChild(r.element), this.Oh.push(r), this.c.appendChild(i); }, o.prototype.validate = function () { var e = this, t = !0; return this.Oh.forEach(function (n) { var i = e.Ph(n); t = t && i; }), t; }, o.prototype.Ph = function (e, t) { function n() { e.Qh && (e.Qh.remove(), e.Qh = null), e.c.classList.add(u); var t = document.createElement("div"); t.classList.add(h), t.innerText = c.message, e.Qh = t, e.c.appendChild(t); } t = t || {}; var i = t.debounce, a = t.silent, r = e.row, o = !0, s = "function" == typeof r.data.onValidate ? r.data.onValidate : null, l = "function" == typeof r.data.validate ? r.data.validate : null, d = s || l; if (d) {
            var c = {};
            c.valid = !0, c.value = e.save()[r.field], c.message = "Error", c.values = this.serialize(), c.result = this.serialize(), d(c);
            var u = this.theme + "_form_item_invalid", h = this.theme + "_form_item_invalid_message";
            if (c.valid)
                clearTimeout(this.Nh[r.field]), e.Qh && (e.Qh.remove(), e.Qh = null), e.c.classList.remove(u);
            else if (!a)
                if (i) {
                    var f = 1e3;
                    clearTimeout(this.Nh[r.field]), this.Nh[r.field] = setTimeout(function () { n(); }, f);
                }
                else
                    n();
            o = c.valid;
        } return o; }, o.prototype.load = function () { var e = this; this.form.forEach(function (t) { e.processFormItem(t, 0); }); var n; try {
            var i = JSON.stringify(this.data);
            n = t(JSON.parse(i));
        }
        catch (e) {
            throw new Error("The 'data' object is not serializable (it may contain circular dependencies): " + e);
        } for (var a in n)
            this.setValue(a, n[a]); }, o.prototype.setValue = function (e, t) { this.Lh.forEach(function (n) { n.applyValue(e, t); }); }, o.prototype.updateDependentState = function () { var e = this, t = [!0]; (this.Mh ? this.Mh : this.Lh).forEach(function (n) { var i = e.updateState(n, { enabled: t[n.level] && !n.data.disabled }); i.isValue && (t[i.level + 1] = i.enabled && i.checked); }); }, o.prototype.processFormItem = function (e, t) { var n = this, i = this.getFieldType(e), a = []; if ("radio" === i) {
            if (e.name) {
                var r = new s;
                r.field = e.id, r.data = e, r.level = t, r.type = "label", r.interactive = !1, r.text = e.name, n.Lh.push(r), a.push(r);
            }
            e.options.forEach(function (r) { var o = new s; o.field = e.id, o.data = r, o.level = t, o.type = i, o.isValue = !0, o.text = r.name, o.resolved = r.id, n.Lh.push(o), a.push(o), r.children && r.children.forEach(function (e) { var i = n.processFormItem(e, t + 1); a = a.concat(i); }); });
        }
        else if ("title" === i) {
            var r = new s;
            r.field = e.id, r.data = e, r.level = t, r.type = i, r.interactive = !1, r.text = e.name, n.Lh.push(r), a.push(r);
        }
        else if ("image" === i) {
            var r = new s;
            r.isValue = !0, r.field = e.id, r.data = e, r.level = t, r.type = i, r.interactive = !1, r.text = null, n.Lh.push(r), a.push(r);
        }
        else if ("html" === i) {
            var r = new s;
            r.isValue = !0, r.field = e.id, r.data = e, r.level = t, r.type = i, r.interactive = !1, r.text = null, n.Lh.push(r), a.push(r);
        }
        else if ("scrollable" === i) {
            var r = new s;
            r.isValue = !0, r.field = e.id, r.data = e, r.level = t, r.type = i, r.interactive = !1, r.text = null, n.Lh.push(r), a.push(r);
        }
        else {
            var r = new s;
            r.field = e.id, r.data = e, r.level = t, r.type = i, r.text = e.name, r.children = [], n.Lh.push(r), a.push(r);
        } return "checkbox" === i && (r.isValue = !0, r.resolved = !0, e.children && e.children.forEach(function (e) { var i = n.processFormItem(e, t + 1); a = a.concat(i); })), a; }, o.prototype.doOnKey = function (e) { if ("function" == typeof this.onKey) {
            var t = { key: e };
            this.onKey(t);
        } }, o.prototype.createInteractive = function (e) { var t = this, n = { "label": function () { return new l; }, "title": function () { return new l; }, "image": function () { var t = new l, n = document.createElement("img"); return n.src = e.data.image, t.element = n, t; }, "html": function () { var t = new l, n = document.createElement("div"); return "string" == typeof e.data.text ? n.innerText = e.data.text : "string" == typeof e.data.html && (n.innerHTML = e.data.html), t.element = n, t; }, "scrollable": function () { var n = new l, i = document.createElement("div"); i.className = t.theme + "_form_item_scrollable_scroll", e.data.height && (i.style.height = e.data.height + "px"); var a = document.createElement("div"); return a.className = t.theme + "_form_item_scrollable_scroll_content", "string" == typeof e.data.text ? a.innerText = e.data.text : "string" == typeof e.data.html && (a.innerHTML = e.data.html), i.appendChild(a), n.element = i, n; }, "text": function () { var n = new l; n.apply = function (e) { n.row = e; var t = n.element; t.value = e.value, t.disabled = !e.enabled; }; var i = document.createElement("input"); return i.name = e.field, i.type = "text", i.autocomplete = "off", i.onkeydown = function (e) { var n = !1; switch (e.keyCode) {
                case 13:
                    t.doOnKey("Enter");
                    break;
                case 27:
                    t.doOnKey("Escape");
                    break;
                default: n = !0;
            } n || (e.preventDefault(), e.stopPropagation()); }, i.oninput = function (e) { n.onInput(); }, i.onblur = function (e) { n.onBlur(); }, n.element = i, n.canFocus = function () { return !n.element.disabled; }, n.focus = function () { n.element.focus(), n.element.setSelectionRange(0, n.element.value.length); }, n.save = function () { var t = {}; return t[e.field] = i.value, t; }, n; }, "textarea": function () { var n = new l; n.apply = function (e) { n.row = e; var t = n.element; t.value = e.value, t.disabled = !e.enabled; }; var i = document.createElement("textarea"); return i.name = e.field, e.data.height && (i.style.height = e.data.height + "px"), i.onkeydown = function (e) { var n = !1; switch (e.keyCode) {
                case 13:
                    (e.ctrlKey || e.metaKey) && t.doOnKey("Enter"), n = !1;
                    break;
                case 27:
                    t.doOnKey("Escape");
                    break;
                default: n = !0;
            } n || e.stopPropagation(); }, i.oninput = function (e) { n.onInput(); }, i.onblur = function (e) { n.onBlur(); }, n.element = i, n.canFocus = function () { return !n.element.disabled; }, n.focus = function () { n.element.focus(), n.element.setSelectionRange(0, 0); }, n.save = function () { var t = {}; return t[e.field] = i.value, t; }, n; }, "date": function () { var n = new l; n.apply = function (e) { n.row = e; var i = n.element, a = n.picker; e.data.dateFormat && (a.pattern = e.data.dateFormat); var r = e.data.locale || t.locale; r && (a.locale = r), i.disabled = !e.enabled, a.date = new DayPilot.Date(e.value); var o = new DayPilot.Date(e.value).toString(e.data.dateFormat || a.pattern, a.locale); i.value = o; }; var i = document.createElement("input"); i.name = e.field; var a = new DayPilot.DatePicker({ target: i, theme: "navigator_modal", zIndex: t.zIndex + 1, resetTarget: !1, targetAlignment: "left", onTimeRangeSelect: function (e) { n.onInput({ "immediate": !0 }); } }); return i.picker = a, i.className = t.theme + "_input_date", i.type = "text", i.onkeydown = function (e) { var n = !1; switch (e.keyCode) {
                case 13:
                    a.visible ? a.close() : t.doOnKey("Enter");
                    break;
                case 27:
                    a.visible ? a.close() : t.doOnKey("Escape");
                    break;
                case 9:
                    a.close(), n = !0;
                    break;
                default: n = !0;
            } n || (e.preventDefault(), e.stopPropagation()); }, i.onfocus = function () { a.show(); }, i.onclick = function () { a.show(); }, i.oninput = function (e) { n.onInput(); }, i.onblur = function (e) { n.onBlur(); }, n.element = i, n.picker = a, n.canFocus = function () { return !n.element.disabled; }, n.focus = function () { n.element.focus(); }, n.save = function () { var t = a.date ? a.date.toString() : null, n = {}; return n[e.field] = t, n; }, n; }, "time": function () { return t.Rh(e); }, "datetime": function () { return t.Sh(e); }, "select": function () { var t = new l; t.apply = function (e) { t.row = e; var n = t.element; n.value = e.value, n.disabled = !e.enabled; }; var n = document.createElement("select"); return n.name = e.field, e.data.options && e.data.options.forEach && e.data.options.forEach(function (e) { var t = document.createElement("option"); t.innerText = e.name || e.id, t.value = e.id, t.Th = e.id, n.appendChild(t); }), n.onchange = function (e) { t.onInput({ "immediate": !0 }); }, n.onblur = function (e) { t.onBlur(); }, t.element = n, t.canFocus = function () { return !t.element.disabled; }, t.focus = function () { t.element.focus(); }, t.save = function () { var t = null, i = n.options[n.selectedIndex]; i && "undefined" != typeof i.Th && (t = i.Th); var a = {}; return a[e.field] = t, a; }, t; }, "searchable": function () { var n = new l; n.apply = function (e) { n.row = e; var t = n.searchable; t.disabled = !e.enabled, t.select(e.value); }; var i = new d({ data: e.data.options || [], name: e.field, theme: t.theme + "_form_item_searchable", listZIndex: t.zIndex + 1, onSelect: function (e) { e.ui && n.onInput({ "immediate": !0 }); } }), a = i.create(); return n.element = a, n.searchable = i, n.canFocus = function () { return !n.searchable.disabled; }, n.focus = function () { n.searchable.focus(); }, n.save = function () { var t = i.selected && i.selected.id, n = {}; return n[e.field] = t, n; }, n; }, "radio": function () { var n = new l; n.apply = function (e) { n.row = e; var t = n.radio; t.checked = e.checked, t.disabled = !e.enabled; }; var i = document.createElement("label"), a = document.createElement("input"); a.type = "radio", a.name = e.field, a.Th = e.resolved, a.onchange = function (e) { var i = n.row; t.findRowsByField(i.field).forEach(function (e) { t.updateState(e, { checked: !1 }); }), t.updateState(i, { checked: !0 }), t.applyState(), n.onInput({ "immediate": !0 }); }, a.onblur = function (e) { n.onBlur(); }, i.appendChild(a); var r = document.createTextNode(e.text); return i.append(r), n.element = i, n.radio = a, n.canFocus = function () { return !1; }, n.focus = function () { n.radio.focus(); }, n.save = function () { if (!a.checked)
                return {}; var t = a.Th, n = {}; return n[e.field] = t, n; }, n; }, "checkbox": function () { var n = new l; n.apply = function (e) { n.row = e; var t = n.checkbox; t.checked = e.checked, t.disabled = !e.enabled; }; var i = document.createElement("label"), a = document.createElement("input"); a.type = "checkbox", a.name = e.field, a.Th = e.resolved, a.onchange = function (e) { var i = n.row; t.updateState(i, { checked: this.checked }), t.applyState(), n.onInput({ "immediate": !0 }); }, a.onblur = function (e) { n.onBlur(); }, i.appendChild(a); var r = document.createTextNode(e.text); return i.append(r), n.element = i, n.checkbox = a, n.canFocus = function () { return !1; }, n.focus = function () { n.checkbox.focus(); }, n.save = function () { var t = a.checked, n = {}; return n[e.field] = t, n; }, n; }, "table": function () { var n = new l; n.apply = function (e) { n.row = e; var t = n.table; t.disabled = !e.enabled, t.load(e.value || []); }; var i = new c({ name: e.field, form: t, theme: t.theme + "_form_item_tabular", item: e.data, onInput: function (e) { n.onInput(); } }), a = i.create(); return n.element = a, n.table = i, n.canFocus = function () { return !1; }, n.focus = function () { n.table.focus(); }, n.save = function () { var t = i.save(), n = {}; return n[e.field] = t, n; }, n; } }; return t.plugins && t.plugins[e.type] ? t.plugins[e.type](e) : n[e.type](); }, o.prototype.Rh = function (e) { var t = this, n = new l; n.apply = function (e) { n.row = e; var t = n.searchable; t.disabled = !e.enabled, t.select(e.value); }; var i = [], a = e.data.timeInterval || 15; [1, 5, 10, 15, 20, 30, 60].includes(a) || (a = 15); for (var r = 60 / a, o = e.data.locale || t.locale, s = DayPilot.Locale.find(o) || DayPilot.Locale.US, c = DayPilot.Date.today(), u = 0; u < 24 * r; u++) {
            var h = c.addMinutes(a * u), f = {};
            f.name = h.toString(e.data.timeFormat || s.timePattern, s), f.id = h.toString("HH:mm"), i.push(f);
        } var v = new d({ data: i, name: e.field, theme: t.theme + "_form_item_time", listZIndex: t.zIndex + 1, strategy: "startsWith", onSelect: function (e) { e.ui && n.onInput({ "immediate": !0 }); } }), p = v.create(); return n.element = p, n.searchable = v, n.canFocus = function () { return !n.searchable.disabled; }, n.focus = function () { n.searchable.focus(); }, n.save = function () { var t = v.selected && v.selected.id, n = {}; return n[e.field] = t, n; }, n; }, o.prototype.Sh = function (e) {
            var t = this, n = new l;
            n.apply = function (e) { n.row = e; var i = n.searchable; i.disabled = !e.enabled; var a = new DayPilot.Date(e.value).toString("HH:mm"); i.select(a); var r = n.dateInput, o = n.picker; e.data.dateFormat && (o.pattern = e.data.dateFormat); var s = e.data.locale || t.locale; if (s) {
                var l = DayPilot.Locale.find(s) || DayPilot.Locale.US;
                o.locale = s, o.pattern = l.datePattern;
            } r.disabled = !e.enabled, o.date = new DayPilot.Date(e.value); var d = new DayPilot.Date(e.value).toString(e.data.dateFormat || o.pattern, o.locale); r.value = d; };
            var i = function () { var i = document.createElement("input"); i.name = e.field; var a = new DayPilot.DatePicker({ target: i, theme: "navigator_modal", zIndex: t.zIndex + 1, resetTarget: !1, targetAlignment: "left", onTimeRangeSelect: function (e) { n.onInput({ "immediate": !0 }); } }); return i.picker = a, i.className = t.theme + "_input_date", i.type = "text", i.onkeydown = function (e) { var n = !1; switch (e.keyCode) {
                case 13:
                    a.visible ? a.close() : t.doOnKey("Enter");
                    break;
                case 27:
                    a.visible ? a.close() : t.doOnKey("Escape");
                    break;
                case 9:
                    a.close(), n = !0;
                    break;
                default: n = !0;
            } n || (e.preventDefault(), e.stopPropagation()); }, i.onfocus = function () { a.show(); }, i.onclick = function () { a.show(); }, i.oninput = function (e) { n.onInput(); }, i.onblur = function (e) { n.onBlur(); }, n.dateInput = i, n.picker = a, i; }(), a = function () {
                var i = [], a = e.data.timeInterval || 15;
                [1, 5, 10, 15, 20, 30, 60].includes(a) || (a = 15);
                for (var r = 60 / a, o = e.data.locale || t.locale, s = DayPilot.Locale.find(o) || DayPilot.Locale.US, l = DayPilot.Date.today(), c = 0; c < 24 * r; c++) {
                    var u = l.addMinutes(a * c), h = {};
                    h.name = u.toString(e.data.timeFormat || s.timePattern, s), h.id = u.toString("HH:mm"), i.push(h);
                }
                var f = new d({ data: i, name: e.field, theme: t.theme + "_form_item_time", listZIndex: t.zIndex + 1, strategy: "startsWith", onSelect: function (e) { e.ui && n.onInput({ "immediate": !0 }); } });
                return n.searchable = f, f.create();
            }(), r = document.createElement("div");
            return r.className = t.theme + "_form_item_datetime_parent", r.appendChild(i), r.appendChild(a), n.element = r, n.canFocus = function () { return !n.searchable.disabled; }, n.focus = function () { n.dateInput.focus(); }, n.save = function () { var t = n.searchable.selected && n.searchable.selected.id, i = n.picker.date ? n.picker.date.toString() : null, a = new DayPilot.Date(i).getDatePart(), r = DayPilot.Date.parse(a.toString("yyyy-dd-MM ") + t, "yyyy-dd-MM HH:mm"), o = {}; return o[e.field] = r, o; }, n;
        }, o.prototype.findRowsByField = function (e) { return this.Lh.filter(function (t) { return t.field === e; }); }, o.prototype.findViewById = function (e, t) { return this.Oh.find(function (n) { return n.row.field === e && ("radio" !== n.row.type || n.row.resolved === t); }); }, o.prototype.firstFocusable = function () { return this.Oh.find(function (e) { return e.canFocus && e.canFocus(); }); }, o.prototype.updateState = function (e, t) { var n = this.Mh ? this.Mh : this.Lh, i = n.indexOf(e); return this.Mh = n.map(function (n) { if (n !== e)
            return n; if (e.propsEqual(t))
            return e; var i = e.clone(); for (var a in t)
            i[a] = t[a]; return i; }), this.Mh[i]; }, o.prototype.updateInteractive = function (e) { var t = this.Mh.indexOf(e); this.Oh[t].apply(e); }, o.prototype.applyState = function () { var e = this; if (this.updateDependentState(), this.Mh) {
            this.Mh.filter(function (t, n) { return e.Lh[n] !== t; }).forEach(function (t) { e.updateInteractive(t); }), this.Lh = this.Mh, this.Mh = null;
        } }, o.prototype.getFieldType = function (e) { return ["text", "date", "select", "searchable", "radio", "checkbox", "table", "title", "image", "html", "textarea", "scrollable", "time", "datetime"].indexOf(e.type) !== -1 ? e.type : e.type && this.plugins && this.plugins[e.type] ? e.type : e.image ? "image" : e.html || e.text ? "html" : e.id ? e.options ? "searchable" : e.dateFormat ? "date" : e.columns ? "table" : "text" : "title"; }, o.prototype.serialize = function () { var e = {}; return this.Oh.forEach(function (t) { var n = t.save(); for (var i in n)
            e[i] = n[i]; }), e; };
        var s = function () { this.id = this.guid(), this.field = null, this.data = null, this.type = null, this.level = 0, this.enabled = !0, this.value = null, this.text = null, this.interactive = !0, this.isValue = !1, this.checked = !1, this.resolved = null; };
        s.prototype.clone = function () { var e = new s; for (var t in this)
            "id" !== t && (e[t] = this[t]); return e; }, s.prototype.propsEqual = function (e) { for (var t in e)
            if (this[t] !== e[t])
                return !1; return !0; }, s.prototype.guid = function () { var e = function () { return (65536 * (1 + Math.random()) | 0).toString(16).substring(1); }; return "" + e() + e() + "-" + e() + "-" + e() + "-" + e() + "-" + e() + e() + e(); }, s.prototype.applyValue = function (e, t) { this.field === e && (this.value = t, this.isValue && t === this.resolved && (this.checked = !0)); };
        var l = function () { this.element = null, this.canFocus = function () { return !1; }, this.apply = function (e) { }, this.focus = function () { }, this.save = function () { return {}; }; }, d = function (e) { this.data = [], this.name = null, this.theme = "searchable_default", this.Uh = !1, this.listZIndex = 1e5, this.onSelect = null, this.Vh = null, this.Wh = null, this.Xh = !1, this.Yh = null, this.hc = null, this.ug = [], this.Zh = null, e = e || {}; var t = this, n = { "selected": { post: function (e) { "object" == typeof e && e.id ? t.Vh = e : "string" != typeof e && "number" != typeof e || t.select(e); } } }; Object.defineProperty(this, "selected", { get: function () { return this.Vh; } }), Object.defineProperty(this, "disabled", { get: function () { return this.Uh; }, set: function (e) { this.Uh = e, this.Yh && (this.Yh.disabled = e, e && this.$h()); } }); for (var i in e)
            n[i] || (this[i] = e[i]); for (var i in e)
            n[i] && n[i].post(e[i]); };
        d.prototype.select = function (e) { return this.Vh = this.data.find(function (t) { return t.id === e; }), this._h(!1), this; }, d.prototype.create = function () { function e(e) { var n = l.strategy; "includes" !== l.strategy && "startsWith" !== l.strategy && (n = "includes"), e = e || n || "includes", h.style.display = "", h.style.top = v.offsetHeight + "px", h.style.left = "0px", h.style.width = v.offsetWidth + "px", h.innerHTML = "", h.addEventListener("mousedown", function (e) { e.preventDefault(); }), l.Wh = null, l.ug = []; var a = null; l.data.forEach(function (n) { var r = n.name || n.id; if ("includes" === e) {
            if (r.toLowerCase().indexOf(v.value.toLowerCase()) === -1)
                return;
        }
        else if ("startsWith" === e && 0 !== r.toLowerCase().indexOf(v.value.toLowerCase()))
            return; var o = document.createElement("div"); o.className = l.theme + "_list_item", o.innerText = r, o.item = n, n === l.Vh && (l.Wh = o), a || (a = o), o.addEventListener("mousedown", function (e) { i(o), e.preventDefault(); }), o.addEventListener("mousemove", function (e) { l.Wh !== o && (l.Wh = o, t({ dontScroll: !0 })); }), h.appendChild(o), l.ug.push(o); }), l.Wh || (l.Wh = a), t(); } function t(e) { e = e || {}; var t = !e.dontScroll; document.querySelectorAll("." + l.theme + "_list_item_highlight").forEach(function (e) { e.className = e.className.replace(l.theme + "_list_item_highlight", ""); }), l.Wh && (l.Wh.className += " " + l.theme + "_list_item_highlight", t && !n(l.Wh, h) && l.Wh.scrollIntoView()); } function n(e, t) { var n = e.getBoundingClientRect(), i = t.getBoundingClientRect(); return n.top >= i.top && n.bottom <= i.bottom; } function i(e) { var t = e.item; l.Vh = t, l._h(!0), r(), o(); } function a() { l.$h(); } function r() { l.ai(); } function o() { l.Xh = !0, v.setAttribute("readonly", "readonly"), v.focus(); } function s() { l.Xh = !1, v.removeAttribute("readonly"), v.select(), e("all"); } var l = this, d = this, c = document.createElement("div"); c.className = this.theme + "_main", c.style.position = "relative"; var u = document.createElement("div"); u.className = this.theme + "_icon", u.style.position = "absolute", u.style.right = "0", u.style.top = "0", u.style.bottom = "0", u.style.width = "20px", u.addEventListener("mousedown", function (e) { e.preventDefault(), l.Xh ? (l.focus(), s()) : (a(), o()); }); var h = document.createElement("div"); h.className = this.theme + "_list", h.style.display = "none", h.style.position = "absolute", h.style.zIndex = this.listZIndex; var f = document.createElement("input"); f.type = "hidden", f.name = this.name, f.searchable = d, this.Zh = f; var v = document.createElement("input"); return v.type = "text", v.className = this.theme + "_input", v.disabled = this.Uh, v.addEventListener("click", function (e) { s(); }), v.addEventListener("focus", function (t) { e("all"); }), v.addEventListener("input", function (t) { e(); }), v.addEventListener("blur", function (e) { v.removeAttribute("readonly"), a(); }), v.addEventListener("keydown", function (e) { if (l.Xh) {
            if ("Enter" === e.key)
                return;
            if ("Esc" === e.key || "Escape" === e.key)
                return;
            s();
        } if ("ArrowDown" === e.key) {
            var n = d.ug.indexOf(d.Wh);
            n + 1 < d.ug.length && (d.Wh = d.ug[n + 1]), t();
        }
        else if ("ArrowUp" === e.key) {
            var n = d.ug.indexOf(d.Wh);
            n - 1 >= 0 && (d.Wh = d.ug[n - 1]), t();
        }
        else
            "Enter" === e.key ? l.Wh ? (e.stopPropagation(), i(l.Wh)) : (e.stopPropagation(), a(), o()) : "Esc" !== e.key && "Escape" !== e.key || (e.stopPropagation(), a(), o()); }), this.Yh = v, this.hc = h, this.Vh || (this.Vh = this.data[0], this.Vh && (v.value = this.Vh.name)), c.appendChild(v), c.appendChild(u), c.appendChild(f), c.appendChild(h), c; }, d.prototype.$h = function () { this.ai(), this.Vh ? this.Yh.value = this.Vh.name : (this.Yh.value = "", this._h(!0)); }, d.prototype.focus = function () { this.Xh = !0, this.Yh.setAttribute("readonly", "readonly"), this.Yh.focus(), this.$h(); }, d.prototype.ai = function () { this.hc.style.display = "none"; }, d.prototype._h = function (e) { if (this.Zh.value = this.selected ? this.selected.id : null, this.Vh ? this.Yh.value = this.Vh.name : this.Yh.value = "", "function" == typeof this.onSelect) {
            var t = { control: this, ui: e };
            this.onSelect(t);
        } };
        var c = function (e) { this.form = null, this.item = null, this.data = null, this.name = null, this.theme = "edit_table_default", this.onInput = null, this.nav = {}, this.bi = null, this.Lh = [], e = e || {}; for (var t in e)
            this[t] = e[t]; };
        c.prototype.create = function () { var e = this, t = document.createElement("div"); t.className = this.theme + "_main", t.style.position = "relative"; var n = document.createElement("input"); n.type = "hidden", n.name = e.name, n.table = this, t.appendChild(n); var i = document.createElement("div"); i.className = this.theme + "_table"; var a = this.ci(); i.appendChild(a); var r = e.di({}); r.spacer = !0; var o = this.ei(r); o.classList.add(e.theme + "_spacer"), i.appendChild(o); var s = document.createElement("div"); s.className = e.theme + "_tbody", i.appendChild(s), t.appendChild(i); var l = document.createElement("div"); t.appendChild(l), this.nav.body = s, this.nav.table = i, this.nav.main = t, this.nav.after = l; var d = document.createElement("div"), c = document.createElement("span"); return c.className = this.theme + "_plus", c.addEventListener("click", function (t) { if (!e.disabled) {
            var n = e.item.onNewRow, i = {};
            if ("function" == typeof n) {
                var a = {};
                a.result = e.form.serialize(), a.value = {}, n(a), i = a.value;
            }
            var r = e.di(i);
            e.Lh.push(r), e.E(), e.fi();
        } }), this.nav.plus = c, d.appendChild(c), t.appendChild(d), t; }, c.prototype.ci = function () { var e = this, t = document.createElement("div"); return t.classList.add(this.theme + "_row"), t.classList.add(this.theme + "_header"), this.item.columns.forEach(function (n) { var i = document.createElement("div"); i.classList.add(e.theme + "_cell"), i.innerText = n.name, t.appendChild(i); }), t; }, c.prototype.gi = function () { var e = this.item.max || 0; return !!(e && this.Lh.length >= e); }, c.prototype.save = function () { var e = this, t = []; return e.Lh.forEach(function (e) { var n = {}; e.cells.forEach(function (e) { n[e.id] = e.value; }), t.push(n); }), t; }, c.prototype.load = function (e) { if ("[object Array]" !== Object.prototype.toString.call(e))
            throw new Error("Array expected"); this.data = e, this.hi(), this.E(); }, c.prototype.ii = function () { this.disabled ? this.nav.main.classList.add(this.theme + "_disabled") : this.nav.main.classList.remove(this.theme + "_disabled"), this.gi() ? this.nav.plus.classList.add(this.theme + "_plus_max") : this.nav.plus.classList.remove(this.theme + "_plus_max"); }, c.prototype.hi = function () { var e = this; this.Lh = [], this.data.forEach(function (t) { var n = e.di(t); e.Lh.push(n); }); }, c.prototype.ji = function (e) { var t = this, n = t.Lh.indexOf(e); t.Lh.splice(n, 1); }, c.prototype.di = function (e) { var t = this, n = {}; return n.data = e, n.cells = [], t.item.columns.forEach(function (i) { var a = i.id, r = e[a], o = t.ki(i); if ("undefined" == typeof r)
            if ("text" === o)
                r = "";
            else if ("number" === o)
                r = 0;
            else if ("select" === o) {
                var s = i.options;
                r = s && s[0].id;
            } var l = {}; l.id = a, l.value = r, l.type = o, l.data = i, n.cells.push(l); }), n; }, c.prototype.ki = function (e) { var t = e.type; return t || (t = e.options ? "select" : "text"), t; }, c.prototype.E = function () { var e = this; if (this.nav.body.innerHTML = "", this.nav.after.innerHTML = "", this.Lh.forEach(function (t) { var n = e.ei(t); e.nav.body.appendChild(n); }), 0 === this.Lh.length) {
            var t = e.li();
            e.nav.after.appendChild(t);
        } this.ii(); }, c.prototype.li = function () { var e = document.createElement("div"); return e.className = this.theme + "_empty", e; }, c.prototype.ei = function (e) { var t = this, n = document.createElement("div"); n.className = t.theme + "_row", e.cells.forEach(function (i) { var a = document.createElement("div"); a.className = t.theme + "_cell"; var r = t.mi(i); if (e.spacer) {
            var o = document.createElement("div");
            o.style.height = "0px", o.style.overflow = "hidden", o.appendChild(r), a.appendChild(o);
        }
        else
            a.appendChild(r); n.appendChild(a); }); var i = document.createElement("div"); i.classList.add(t.theme + "_cell"), i.classList.add(t.theme + "_rowaction"); var a = document.createElement("span"); return a.className = this.theme + "_delete", a.addEventListener("click", function (n) { t.disabled || (t.ji(e), t.E(), t.fi()); }), e.spacer || i.appendChild(a), n.appendChild(i), n; }, c.prototype.fi = function () { var e = this; if ("function" == typeof e.onInput) {
            var t = {};
            e.onInput(t);
        } }, c.prototype.mi = function (e) { var t = this, n = e.type; if ("text" === n || "number" === n) {
            var i = document.createElement("input");
            return i.type = n, t.disabled && (i.disabled = !0), e.value && (i.value = e.value), i.addEventListener("keyup", function (i) { "number" === n ? e.value = Number(this.value) : e.value = this.value, t.fi(); }), i;
        } if ("select" === n) {
            var a = document.createElement("select");
            return t.disabled && (a.disabled = !0), e.data.options.forEach(function (t) { var n = document.createElement("option"); n.innerText = t.name, n.value = t.id, n.Th = t.id, a.appendChild(n), e.value === t.id && n.setAttribute("selected", !0); }), a.addEventListener("change", function (n) { var i = a.options[a.selectedIndex]; i && "undefined" != typeof i.Th && (e.value = i.Th), t.fi(); }), a;
        } throw new Error("Unsupported item type: " + n); }, c.prototype.focus = function () { };
    }
}(DayPilot), "undefined" == typeof DayPilot)
    var DayPilot = {};
if ("undefined" == typeof DayPilot.Global && (DayPilot.Global = {}), function (DayPilot) {
    var e = function () { };
    if ("undefined" == typeof DayPilot.Month || !DayPilot.Month.def) {
        var t = {};
        DayPilot.Month = function (n, i) {
            this.v = "2022.4.5457", this.nav = {};
            var a = this;
            this.id = n, this.isMonth = !0, this.api = 2, this.Y = !1, this.hideUntilInit = !0, this.startDate = new DayPilot.Date, this.width = null, "function" == typeof DayPilot.Bubble ? this.bubble = new DayPilot.Bubble : this.bubble = null, this.cssClassPrefix = "month_default", this.cellHeight = 100, this.cellMarginBottom = 0, this.allowMultiSelect = !0, this.autoRefreshCommand = "refresh", this.autoRefreshEnabled = !1, this.autoRefreshInterval = 60, this.autoRefreshMaxCount = 20, this.doubleClickTimeout = 300, this.eventEndSpec = "DateTime", this.eventTextWrappingEnabled = !1, this.headerHeight = 30, this.heightSpec = "Auto", this.weekStarts = "Auto", this.eventBarVisible = !0, this.eventHeight = 25, this.cellHeaderHeight = 24, this.clientState = {}, this.afterRender = function () { }, this.cssOnly = !0, this.eventsLoadMethod = "GET", this.initEventEnabled = !1, this.lineSpace = 1, this.loadingLabelVisible = !0, this.loadingLabelText = "Loading...", this.loadingLabelHtml = null, this.locale = "en-us", this.maxEvents = "All", this.messageHideAfter = 5e3, this.notifyCommit = "Immediate", this.visible = !0, this.eventMoveToPosition = !1, this.eventStartTime = !1, this.eventEndTime = !1, this.eventStartEndWidth = 45, this.showWeekend = !0, this.cellMode = !1, this.shadowType = "Fill", this.tapAndHoldTimeout = 300, this.timeFormat = "Auto", this.viewType = "Month", this.weeks = 1, this.xssProtection = "Enabled", this.cellHeaderClickHandling = "Enabled", this.eventClickHandling = "Enabled", this.eventDeleteHandling = "Disabled", this.eventDoubleClickHandling = "Disabled", this.eventMoveHandling = "Update", this.eventResizeHandling = "Update", this.eventRightClickHandling = "ContextMenu", this.eventSelectHandling = "Update", this.headerClickHandling = "Enabled", this.timeRangeSelectedHandling = "Enabled", this.timeRangeDoubleClickHandling = "Disabled", this.onEventFilter = null, this.onBeforeEventRender = null, this.onBeforeCellRender = null, this.onBeforeHeaderRender = null, this.onBeforeEventDomAdd = null, this.onBeforeEventDomRemove = null, this.onBeforeEventExport = null, this.onBeforeCellExport = null, this.onBeforeHeaderExport = null, this.onCellHeaderClick = null, this.onCellHeaderClicked = null, this.backendUrl = null, this.cellEvents = [], this.elements = {}, this.elements.events = [], this.V = {}, this.V.events = {}, this.events = {}, this.X = 0, this.members = {}, this.members.ignore = ["internal", "nav", "debug", "temp", "elements", "members", "cellProperties"], this._ = "javasc", this.wa = function (e, t) { var e = JSON.parse(e); if (e.BubbleGuid) {
                var n = e.BubbleGuid, i = this.bubbles[n];
                return delete this.bubbles[n], a.Ra(), void ("undefined" != typeof e.Result.BubbleHTML && i.updateView(e.Result.BubbleHTML, i));
            } if (e.CallBackRedirect)
                return void (document.location.href = e.CallBackRedirect); if ("undefined" != typeof e.ClientState && (a.clientState = e.ClientState), "None" === e.UpdateType)
                return a.Sa(e.CallBackData, !0), e.Message && a.message(e.Message), void a.Ra(); if (e.VsUpdate) {
                var r = document.createElement("input");
                r.type = "hidden", r.name = a.id + "_vsupdate", r.id = r.name, r.value = e.VsUpdate, a.ni.innerHTML = "", a.ni.appendChild(r);
            } a.events.list = e.Events, "undefined" != typeof e.TagFields && (a.tagFields = e.TagFields), "undefined" != typeof e.SortDirections && (a.sortDirections = e.SortDirections), "Full" === e.UpdateType && (a.cellProperties = e.CellProperties, a.headerProperties = e.HeaderProperties, a.startDate = e.StartDate, "undefined" != typeof e.ShowWeekend && (a.showWeekend = e.ShowWeekend), a.locale = e.Locale ? e.Locale : a.locale, a.timeFormat = e.TimeFormat ? e.TimeFormat : a.timeFormat, "undefined" != typeof e.WeekStarts && (a.weekStarts = e.WeekStarts), a.hashes = e.Hashes), a.multiselect.clear(!0), a.multiselect.initList = e.SelectedEvents, a.Aa(), a.oi(), a.Xa(), "Full" === e.UpdateType && (a.pi(), a.qi()), a.db(), a.hb(), a.ib(), a.Sa(e.CallBackData, !0), a.mb(), e.Message && a.message(e.Message), a.Ra(); }, this.Sa = function (e, t) { var n = function (e, t) { return function () { if (a.nb()) {
                if ("function" == typeof a.onAfterRender) {
                    var n = {};
                    n.isCallBack = t, n.data = e, a.onAfterRender(n);
                }
            }
            else
                a.afterRender && a.afterRender(e, t); }; }; window.setTimeout(n(e, t), 0); }, this.nb = function () { return 2 === a.api; }, this.ma = function (e, t) { return a.oa.na() ? DayPilot.Util.escapeTextHtml(e, t) : DayPilot.Util.isNullOrUndefined(t) ? DayPilot.Util.isNullOrUndefined(e) ? "" : e : t; }, this.K = function (e) { var t = this.theme || this.cssClassPrefix; return t ? t + e : ""; }, this.Xa = function () { if (this.events.list) {
                if ("function" == typeof this.onBeforeEventRender)
                    for (var e = this.events.list.length, t = 0; t < e; t++)
                        this.Pf(t);
                this.cellMode ? this.ri() : this.si();
            } }, this.sa = function (e) { var t = e ? 0 : 100; a.loadingTimeout && window.clearTimeout(a.loadingTimeout), a.loadingTimeout = window.setTimeout(function () { a.loadingLabelVisible && a.nav.loading && (a.nav.loading.style.top = s.headerHeight() + 5 + "px", a.nav.loading.innerHTML = a.ma(this.loadingLabelText, this.loadingLabelHtml), a.nav.loading.style.display = ""); }, t); }, this.Ra = function () { this.loadingTimeout && window.clearTimeout(this.loadingTimeout), a.nav.loading && (this.nav.loading.style.display = "none"); }, this.si = function () { if (this.events.list) {
                for (var e = 0; e < this.events.list.length; e++) {
                    var t = this.events.list[e];
                    if ("object" != typeof t)
                        throw new DayPilot.Exception("Event data item must be an object");
                    if (!t.start)
                        throw new DayPilot.Exception("Event data item must specify 'start' property");
                    var n = null;
                    if ("function" == typeof a.onBeforeEventRender && (n = a.V.events[e]), n) {
                        if (n.hidden)
                            continue;
                    }
                    else if (t.hidden)
                        continue;
                    var i = new DayPilot.Date(t.start), r = new DayPilot.Date(t.end);
                    if (r = a.vi(r), !(i.getTime() > r.getTime()))
                        for (var o = 0; o < this.rows.length; o++) {
                            var s = this.rows[o];
                            if (s.belongsHere(i, r)) {
                                var l = new DayPilot.Event(t, a);
                                if ("function" == typeof a.onEventFilter && a.events.gg) {
                                    var d = {};
                                    if (d.filter = a.events.gg, d.visible = !0, d.e = l, a.onEventFilter(d), !d.visible)
                                        break;
                                }
                                s.events.push(l), "function" == typeof this.onBeforeEventRender && (l.cache = this.V.events[e]);
                            }
                        }
                }
                for (var c = 0; c < this.rows.length; c++) {
                    var s = this.rows[c];
                    s.events.sort(this.jg);
                    for (var u = 0; u < this.rows[c].events.length; u++) {
                        var h = s.events[u], f = s.getStartColumn(h), v = s.getWidth(h);
                        s.putIntoLine(h, f, v, c);
                    }
                }
            } }, this.ri = function () { this.cellEvents = []; for (var e = 0; e < this.wi(); e++) {
                this.cellEvents[e] = [];
                for (var t = 0; t < this.rows.length; t++) {
                    var n = {}, i = this.firstDate.addDays(7 * t + e);
                    n.start = i, n.end = i.addDays(1), n.events = [], this.cellEvents[e][t] = n;
                }
            } for (var r = 0; r < this.events.list.length; r++) {
                var o = this.events.list[r];
                if ("object" != typeof o)
                    throw new DayPilot.Exception("Event data item must be an object");
                if (!o.start)
                    throw new DayPilot.Exception("Event data item must specify 'start' property");
                var s = null;
                if ("function" == typeof a.onBeforeEventRender && (s = a.V.events[r]), s) {
                    if (s.hidden)
                        continue;
                }
                else if (o.hidden)
                    continue;
                var l = new DayPilot.Date(o.start), d = new DayPilot.Date(o.start);
                if (d = a.vi(d), !(l.getTime() > d.getTime()))
                    for (var e = 0; e < this.wi(); e++)
                        for (var t = 0; t < this.rows.length; t++) {
                            var n = this.cellEvents[e][t];
                            if (l.getTime() >= n.start.getTime() && l.getTime() < n.end.getTime()) {
                                var c = new DayPilot.Event(o, a);
                                if ("function" == typeof a.onEventFilter && a.events.gg) {
                                    var u = {};
                                    if (u.filter = a.events.gg, u.visible = !0, u.e = c, a.onEventFilter(u), !u.visible)
                                        continue;
                                }
                                n.events.push(c), "function" == typeof this.onBeforeEventRender && (c.cache = this.V.events[r]);
                            }
                        }
            } for (var e = 0; e < this.wi(); e++)
                for (var t = 0; t < this.rows.length; t++) {
                    var n = this.cellEvents[e][t];
                    n.events.sort(this.jg);
                } }, this.Aa = function () { for (var e = 0; e < this.elements.events.length; e++) {
                var t = this.elements.events[e];
                !function () { var e = t.domArgs; if (t.domArgs = null, "function" == typeof a.onDomRemoveEvent && a.onDomRemoveEvent(e), e && "function" == typeof a.onBeforeEventDomRemove && a.onBeforeEventDomRemove(e), e && "function" == typeof a.onBeforeEventDomAdd && a.F.reactDOM) {
                    var n = e && e.Wd;
                    if (n) {
                        if (DayPilot.Util.isReactComponent(e.element)) {
                            if (!a.F.reactDOM)
                                throw new DayPilot.Exception("Can't reach ReactDOM");
                            a.F.N(n);
                        }
                    }
                } }(), t.event = null, t.click = null, t.parentNode.removeChild(t);
            } this.elements.events = []; }, this.ib = function () { this.V.events = {}, this.cellMode ? this.xi() : this.yi(), this.multiselect.redraw(); }, this.xi = function () { if (this.elements.events = [], 0 !== this.cellEvents.length)
                for (var e = 0; e < this.wi(); e++)
                    for (var t = 0; t < this.rows.length; t++)
                        for (var n = this.cellEvents[e][t], i = (this.cells[e][t], 0); i < n.events.length; i++) {
                            var a = n.events[i];
                            a.part.colStart = e, a.part.colWidth = 1, a.part.row = t, a.part.line = i, a.part.startsHere = !0, a.part.endsHere = !0, this.$d(a);
                        } }, this.yi = function () { this.elements.events = []; for (var e = "number" == typeof a.maxEvents ? a.maxEvents : 1e3, t = 0; t < this.rows.length; t++)
                for (var n = this.rows[t], i = 0; i < n.lines.length; i++) {
                    var r = n.lines[i];
                    if (!(i >= e))
                        for (var o = 0; o < r.length; o++)
                            this.$d(r[o]);
                } }, this.ig = function (e, t) { if (!(e && t && e.start && t.start))
                return 0; var n = e.start().ticks - t.start().ticks; return 0 !== n ? n : t.end().ticks - e.end().ticks; }, this.jg = function (e, t) { if (!e || !t)
                return 0; if (!(e.data && t.data && e.data.sort && t.data.sort && 0 !== e.data.sort.length && 0 !== t.data.sort.length))
                return a.ig(e, t); for (var n = 0, i = 0; 0 === n && "undefined" != typeof e.data.sort[i] && "undefined" != typeof t.data.sort[i];)
                n = e.data.sort[i] === t.data.sort[i] ? 0 : "number" == typeof e.data.sort[i] && "number" == typeof t.data.sort[i] ? e.data.sort[i] - t.data.sort[i] : a.kg(e.data.sort[i], t.data.sort[i], a.sortDirections[i]), i++; return n; }, this.kg = function (e, t, n) { var i = "desc" !== n, a = i ? -1 : 1, r = -a; if (null === e && null === t)
                return 0; if (null === t)
                return r; if (null === e)
                return a; var o = []; return o[0] = e, o[1] = t, o.sort(), e === o[0] ? a : r; }, this.zi = function (e, n, i, r, o, s) { o || (o = 0); var l = function () { for (var t = 0; t < r; t++) {
                var i = e + 7 * n + t - o;
                if (!(i < 0)) {
                    var s = i % 7, l = Math.floor(i / 7);
                    if (!(l > a.rows.length - 1)) {
                        if (a.cells[s][l].props.disabled)
                            return !0;
                    }
                }
            } }(), d = r; this.shadow = {}, this.shadow.list = [], this.shadow.start = { x: e, y: n }, this.shadow.width = r, this.shadow.disabled = l, this.eventMoveToPosition && (d = 1, this.shadow.position = i); var c = 7 * n + e - o; c < 0 && (d += c, e = 0, n = 0); for (var u = o; u >= 7;)
                n--, u -= 7; if (u > e) {
                u > e + (7 - this.wi()) ? (n--, e = e + 7 - u) : (d = d - u + e, e = 0);
            }
            else
                e -= u; n < 0 && (n = 0, e = 0); var h = null; for (t.resizingEvent ? h = "w-resize" : t.movingEvent && (h = "move"), this.nav.top.style.cursor = h; d > 0 && n < this.rows.length;) {
                var f = Math.min(this.wi() - e, d), v = this.rows[n], p = this.Ai(n), m = v.getHeight();
                this.eventMoveToPosition && (p = this.Bi(n, i), m = 2);
                var g = document.createElement("div");
                g.setAttribute("unselectable", "on"), g.style.position = "absolute", g.style.left = this.Ci() * e + "%", g.style.width = this.Ci() * f + "%", g.style.top = p + "px", g.style.height = m + "px", g.style.cursor = h;
                var b = document.createElement("div");
                b.setAttribute("unselectable", "on"), g.appendChild(b), g.className = this.K("_shadow"), b.className = this.K("_shadow_inner"), l && DayPilot.Util.addClass(g, this.K("_shadow_forbidden"));
                this.nav.events.appendChild(g), this.shadow.list.push(g), d -= f + 7 - this.wi(), e = 0, n++;
            } }, this.Di = function () { if (this.shadow) {
                this.nav.events;
                DayPilot.de(this.shadow.list), this.shadow = null, this.nav.top.style.cursor = "";
            } }, this.Bi = function (e, t) { for (var n = 0, i = 0; i < e; i++)
                n += this.rows[i].getHeight(); return n += this.cellHeaderHeight, n += t * s.lineHeight(); }, this.Ei = function (e, t) { return this.firstDate.addDays(7 * t + e); }, this.Pf = function (e) { var t = this.V.events, n = this.events.list[e], i = {}; for (var a in n)
                i[a] = n[a]; if ("function" == typeof this.onBeforeEventRender) {
                var r = {};
                r.e = i, r.data = i, this.onBeforeEventRender(r);
            } t[e] = i; }, this.$d = function (e) { var t = this.cellMode, n = e.part.row, i = e.part.line, o = e.part.colStart, l = e.part.colWidth, d = e.cache || e.data, c = t ? 0 : this.Ci() * o, u = t ? 100 : this.Ci() * l, h = t ? i * s.lineHeight() : this.Bi(n, i), f = document.createElement("div"); f.setAttribute("unselectable", "on"), f.style.height = s.eventHeight() + "px", f.style.position = "relative", f.style.overflow = "hidden", f.className = this.K("_event"), d.cssClass && DayPilot.Util.addClass(f, d.cssClass), f.event = e, t ? (f.style.marginRight = "2px", f.style.marginBottom = "2px") : (f.style.width = u + "%", f.style.position = "absolute", f.style.left = c + "%", f.style.top = h + "px"), this.showToolTip && d.toolTip && !this.bubble && (f.title = d.toolTip), a.eventTextWrappingEnabled || (f.style.whiteSpace = "nowrap"), f.onclick = this.Fi, f.ondblclick = this.Gi, f.oncontextmenu = this.Hi, f.onmousedown = this.be, f.onmousemove = this._d, f.onmouseout = this.ae, DayPilot.reNonPassive(f, "touchstart", r.onEventTouchStart), DayPilot.rePassive(f, "touchmove", r.onEventTouchMove), DayPilot.rePassive(f, "touchend", r.onEventTouchEnd), e.part.startsHere || DayPilot.Util.addClass(f, this.K("_event_continueleft")), e.part.endsHere || DayPilot.Util.addClass(f, this.K("_event_continueright")); var v = document.createElement("div"); if (v.setAttribute("unselectable", "on"), v.className = this.K("_event_inner"), d.fontColor && (v.style.color = d.fontColor), d.borderColor && ("darker" === d.borderColor && d.backColor ? v.style.borderColor = DayPilot.ColorUtil.darker(d.backColor, 2) : v.style.borderColor = d.borderColor), d.backColor && (v.style.background = d.backColor), d.backImage && (v.style.backgroundImage = "url(" + d.backImage + ")", d.backRepeat && (v.style.backgroundRepeat = d.backRepeat)), f.appendChild(v), e.client.barVisible()) {
                var p = document.createElement("div");
                p.setAttribute("unselectable", "on"), p.className = this.K("_event_bar"), p.style.position = "absolute";
                var m = document.createElement("div");
                m.setAttribute("unselectable", "on"), m.className = this.K("_event_bar_inner"), m.style.top = "0%", m.style.height = "100%", d.barColor && (m.style.backgroundColor = d.barColor), p.appendChild(m), f.appendChild(p);
            } var g = this.oa.locale(), b = a.eventStartEndWidth; if (this.eventStartTime || d.htmlStart) {
                var c = 5;
                a.eventBarVisible && (c += 5);
                var y = "Clock12Hours" === a.oa.timeFormat() ? e.start().toString("h tt", g) : e.start().toString("H", g), w = { "left": c, "top": 2, "width": b, "bottom": 2, "v": "Visible", "html": d.htmlStart || y, "css": a.K("_event_timeleft") }, x = DayPilot.Areas.createArea(f, e, w);
                f.appendChild(x), v.style.paddingLeft = b + "px";
            } if (this.eventEndTime || d.htmlEnd) {
                var y = "Clock12Hours" === a.oa.timeFormat() ? e.end().toString("h tt", g) : e.end().toString("H", g), w = { "right": 5, "top": 2, "width": b, "bottom": 2, "v": "Visible", "html": d.htmlEnd || y, "css": a.K("_event_timeright") }, x = DayPilot.Areas.createArea(f, e, w);
                f.appendChild(x), v.style.paddingRight = b + "px";
            } if (d.areas)
                for (var k = d.areas, C = 0; C < k.length; C++) {
                    var w = k[C];
                    if (DayPilot.Areas.isVisible(w)) {
                        var x = DayPilot.Areas.createArea(f, e, w);
                        f.appendChild(x);
                    }
                } !function () { var t = {}; if (t.e = e, t.control = a, t.element = null, f.domArgs = t, "function" == typeof a.onDomAddEvent && a.onDomAddEvent(t), "function" == typeof a.onBeforeEventDomAdd && a.onBeforeEventDomAdd(t), t.element) {
                var n = v;
                if (n) {
                    t.Wd = n;
                    if (DayPilot.Util.isReactComponent(t.element)) {
                        if (!a.F.reactDOM)
                            throw new DayPilot.Exception("Can't reach ReactDOM");
                        a.F.E(t.element, n);
                    }
                    else
                        n.appendChild(t.element);
                }
            }
            else
                v.innerHTML = e.client.innerHTML(); }(), this.elements.events.push(f), t ? this.cells[o][n].body.appendChild(f) : this.nav.events.appendChild(f), a.multiselect.Rc(f.event) && a.multiselect.add(f.event, !0); var f = f; if (a.nb()) {
                if ("function" == typeof a.onAfterEventRender) {
                    var D = {};
                    D.e = f.event, D.div = f, a.onAfterEventRender(D);
                }
            }
            else
                a.afterEventRender && a.afterEventRender(f.event, f); }, this.Fi = function (e) { r.start || a.Ab(this, e); }, this.Gi = function (e) { e.stopPropagation(), a.Eb(this, e); }, this._d = function (e) { var n = this, i = n.event; if ("undefined" != typeof t && !t.movingEvent && !t.resizingEvent) {
                var r = DayPilot.mo3(n, e);
                if (r) {
                    !function () { var e = n; if (!e.active) {
                        var t = [], r = i.cache || i.data;
                        "Disabled" === a.eventDeleteHandling || r.deleteDisabled || t.push({ "action": "JavaScript", "v": "Hover", "w": 17, "h": 17, "top": 2, "right": 2, "css": a.K("_event_delete"), "js": function (e) { a.Mb(e); } });
                        var o = e.event.cache ? e.event.cache.areas : e.event.data.areas;
                        o && o.length > 0 && (t = t.concat(o)), DayPilot.Areas.showAreas(e, e.event, null, t);
                    } }(), a.Ii(n.event).forEach(function (e) { DayPilot.Util.addClass(e, a.K("_event_hover")); });
                    var o = 6;
                    if (!a.cellMode && r.x <= o && i.client.resizeEnabled() ? i.part.startsHere ? (n.style.cursor = "w-resize", n.dpBorder = "left") : n.style.cursor = "not-allowed" : !a.cellMode && n.clientWidth - r.x <= o && i.client.resizeEnabled() ? i.part.endsHere ? (n.style.cursor = "e-resize", n.dpBorder = "right") : n.style.cursor = "not-allowed" : i.client.clickEnabled() ? n.style.cursor = "pointer" : n.style.cursor = "default", "undefined" != typeof DayPilot.Bubble && a.bubble && "Disabled" !== a.eventHoverHandling)
                        if (t.movingEvent || t.resizingEvent)
                            DayPilot.Bubble.hideActive();
                        else {
                            var s = this.bg && r.x === this.bg.x && r.y === this.bg.y;
                            s || (this.bg = r, a.bubble.showEvent(n.event));
                        }
                }
            } }, this.ae = function (e) { var t = this; "undefined" != typeof DayPilot.Bubble && a.bubble && a.bubble.hideOnMouseOut(), t.style.cursor = "", a.Ii(t.event).forEach(function (e) { DayPilot.Util.removeClass(e, a.K("_event_hover")); }), DayPilot.Areas.hideAreas(t, e); }, this.Hi = function () { var e = this; return a.Fb(e.event), !1; }, this.be = function (e) { if (!r.start) {
                "undefined" != typeof DayPilot.Bubble && (DayPilot.Bubble.hideActive(), DayPilot.Bubble.cancelShowing());
                var n = this, i = n.event, o = i.part.row, s = i.part.colStart, l = i.part.line, d = i.part.colWidth;
                e = e || window.event;
                var c = DayPilot.Util.mouseButton(e);
                if (e.cancelBubble = !0, e.stopPropagation && e.stopPropagation(), c.left)
                    if ("undefined" != typeof DayPilot.Bubble && a.bubble && DayPilot.Bubble.hideActive(), t.movingEvent = null, "w-resize" === this.style.cursor || "e-resize" === this.style.cursor) {
                        var u = {};
                        u.start = {}, u.start.x = s, u.start.y = o, u.event = n.event, u.width = DayPilot.DateUtil.daysSpan(u.event.start(), u.event.end()) + 1, u.direction = this.style.cursor, t.resizingEvent = u;
                    }
                    else if ("move" === this.style.cursor || i.client.moveEnabled()) {
                        a.Di();
                        var h = DayPilot.mo3(a.nav.events, e);
                        if (!h)
                            return;
                        var f = a.Ji(h.x, h.y);
                        if (!f)
                            return;
                        var v = DayPilot.DateUtil.daysDiff(i.start(), a.rows[o].start), p = 7 * f.y + f.x - (7 * o + s);
                        v && (p += v);
                        var m = {};
                        m.start = {}, m.start.x = s, m.start.y = o, m.start.line = l, m.offset = a.eventMoveToPosition ? 0 : p, m.colWidth = d, m.event = n.event, m.coords = h, t.movingEvent = m;
                    }
            } }, this.temp = {}, this.temp.getPosition = function () { if (!a.coords)
                return null; var e = a.Ji(a.coords.x, a.coords.y); if (!e)
                return null; var t = new DayPilot.Date(a.Ei(e.x, e.y)), e = {}; return e.start = t, e.end = t.addDays(1), e; }, this.ce = {};
            var r = a.ce;
            r.active = !1, r.start = !1, r.timeouts = [], r.onEventTouchStart = function (e) { if (!r.active && !r.start) {
                r.clearTimeouts(), r.start = !0, r.active = !1;
                var t = this;
                if (t.event.client.moveEnabled()) {
                    var n = a.tapAndHoldTimeout;
                    r.timeouts.push(window.setTimeout(function () { r.active = !0, r.start = !1; var n = r.relativeCoords(e); r.startMoving(t, n), e.preventDefault(); }, n));
                }
                e.stopPropagation();
            } }, r.onEventTouchMove = function (e) { r.clearTimeouts(), r.start = !1; }, r.onEventTouchEnd = function (e) { r.clearTimeouts(), r.start && a.Bb(this, e), window.setTimeout(function () { r.start = !1, r.active = !1; }, 500); }, r.onMainTouchStart = function (e) { if (!r.active && !r.start) {
                r.clearTimeouts(), r.start = !0, r.active = !1;
                var t = a.tapAndHoldTimeout;
                r.timeouts.push(window.setTimeout(function () { r.active = !0, r.start = !1, e.preventDefault(); var t = r.relativeCoords(e); r.startRange(t); }, t));
            } }, r.onMainTouchMove = function (e) { if (r.clearTimeouts(), r.start = !1, r.active) {
                e.preventDefault();
                var t = r.relativeCoords(e);
                if (r.moving)
                    return void r.updateMoving(t);
                r.range && r.updateRange(t);
            } }, r.onMainTouchEnd = function (e) { if (r.clearTimeouts(), r.active) {
                if (r.moving) {
                    var t = (r.moving, r.moving.event), n = a.shadow.start, i = a.shadow.position, o = r.moving.offset;
                    a.Di(), r.moving = null, a.Wb(t, n.x, n.y, o, e, i);
                }
                if (r.range) {
                    var s = r.range, n = new DayPilot.Date(a.Ei(s.from.x, s.from.y)), l = n.addDays(s.width);
                    r.range = null, a.dc(n, l);
                }
            } window.setTimeout(function () { r.start = !1, r.active = !1; }, 500); }, r.clearTimeouts = function () { for (var e = 0; e < r.timeouts.length; e++)
                clearTimeout(r.timeouts[e]); r.timeouts = []; }, r.relativeCoords = function (e) { var t = a.nav.events, n = e.touches ? e.touches[0] : e, i = n.pageX, r = n.pageY, o = DayPilot.abs(t); return { x: i - o.x, y: r - o.y, toString: function () { return "x: " + this.x + ", y:" + this.y; } }; }, r.startMoving = function (e, t) { a.Di(); var n = e.event, i = a.Ji(t.x, t.y); if (i) {
                var o = DayPilot.DateUtil.daysDiff(n.start(), a.rows[n.part.row].start), s = 7 * i.y + i.x - (7 * n.part.row + n.part.colStart);
                o && (s += o);
                var l = {};
                l.start = {}, l.start.x = n.part.colStart, l.start.y = n.part.row, l.start.line = n.part.line, l.offset = a.eventMoveToPosition ? 0 : s, l.colWidth = n.part.colWidth, l.event = n, l.coords = t, r.moving = l, r.updateMoving(t);
            } }, r.updateMoving = function (e) {
                var t = a.Ji(e.x, e.y);
                if (t) {
                    var n = a.Ki(t);
                    a.Di();
                    var i = r.moving.event, o = r.moving.offset, s = a.cellMode ? 1 : DayPilot.DateUtil.daysSpan(i.start(), i.end()) + 1;
                    s < 1 && (s = 1), a.zi(t.x, t.y, n, s, o, i);
                }
            }, r.startRange = function (e) { var t = a.Ji(e.x, e.y); if (t) {
                a.Di();
                var n = {};
                n.start = {}, n.start.x = t.x, n.start.y = t.y, n.x = t.x, n.y = t.y, n.width = 1, r.range = n, r.updateRange(e);
            } }, r.updateRange = function (e) { var t = a.Ji(e.x, e.y); if (t) {
                a.Di();
                var n = r.range.start, i = 7 * n.y + n.x, o = 7 * t.y + t.x, s = Math.abs(o - i) + 1;
                s < 1 && (s = 1);
                var l = i < o ? n : t;
                r.range.width = s, r.range.from = { x: l.x, y: l.y }, a.zi(l.x, l.y, 0, s, 0, null);
            } }, this.isWeekend = function (e) { return 0 === e.dayOfWeek() || 6 === e.dayOfWeek(); }, this.Li = function () { var e = this.startDate.lastDayOfMonth(); if (this.showWeekend)
                return e; for (; this.isWeekend(e);)
                e = e.addDays(-1); return e; }, this.oi = function () { if ("string" == typeof this.startDate && (this.startDate = new DayPilot.Date(this.startDate)), "Month" === this.viewType ? this.startDate = this.startDate.firstDayOfMonth() : this.startDate = this.startDate.getDatePart(), this.firstDate = this.startDate.firstDayOfWeek(s.weekStarts()), !this.showWeekend) {
                for (var e = this.startDate.addMonths(-1).getMonth(), t = new DayPilot.Date(this.firstDate).addDays(6); this.isWeekend(t);)
                    t = t.addDays(-1);
                t.getMonth() === e && (this.firstDate = this.firstDate.addDays(7));
            } var n; this.startDate; if ("Month" === this.viewType) {
                var i = this.Li(), r = DayPilot.DateUtil.daysDiff(this.firstDate, i) + 1;
                n = Math.ceil(r / 7);
            }
            else
                n = this.weeks; this.days = 7 * n, this.rows = []; for (var o = 0; o < n; o++) {
                var l = {};
                l.start = this.firstDate.addDays(7 * o), l.end = l.start.addDays(this.wi()), l.events = [], l.lines = [], l.index = o, l.minHeight = this.cellHeight, l.calendar = this, l.belongsHere = function (e, t) { return t.getTime() === e.getTime() && e.getTime() === this.start.getTime() || !(t.getTime() <= this.start.getTime() || e.getTime() >= this.end.getTime()); }, l.getPartStart = function (e) { return DayPilot.DateUtil.max(this.start, e.start()); }, l.getPartEnd = function (e) { return DayPilot.DateUtil.min(this.end, e.rawend()); }, l.getStartColumn = function (e) { var t = this.getPartStart(e); return DayPilot.DateUtil.daysDiff(this.start, t); }, l.getWidth = function (e) { return DayPilot.DateUtil.daysSpan(this.getPartStart(e), this.getPartEnd(e)) + 1; }, l.putIntoLine = function (e, t, n, i) { for (var a = this, r = 0; r < this.lines.length; r++) {
                    var o = this.lines[r];
                    if (o.isFree(t, n))
                        return o.addEvent(e, t, n, i, r), r;
                } var o = []; return o.isFree = function (e, t) { for (var n = !0, i = 0; i < this.length; i++) {
                    var a = this[i];
                    e + t - 1 < a.part.colStart || e > a.part.colStart + a.part.colWidth - 1 || (n = !1);
                } return n; }, o.addEvent = function (e, t, n, i, r) { e.part.colStart = t, e.part.colWidth = n, e.part.row = i, e.part.line = r, e.part.startsHere = a.start.getTime() <= e.start().getTime(), e.part.endsHere = a.end.getTime() >= e.end().getTime(), this.push(e); }, o.addEvent(e, t, n, i, this.lines.length), this.lines.push(o), this.lines.length - 1; }, l.getStart = function () { for (var e = 0, t = 0; t < a.rows.length && t < this.index; t++)
                    e += a.rows[t].getHeight(); }, l.getHeight = function () { var e = "number" == typeof a.maxEvents ? a.maxEvents : 1e3, t = Math.min(e, this.lines.length); return Math.max(t * s.lineHeight() + a.cellHeaderHeight + a.cellMarginBottom, this.calendar.cellHeight); }, this.rows.push(l);
            } this.Mi = this.firstDate.addDays(7 * n); }, this.xg = function () { switch (this.heightSpec) {
                case "Auto":
                    for (var e = s.headerHeight(), t = 0; t < this.rows.length; t++)
                        e += this.rows[t].getHeight();
                    return e;
                case "Fixed": return this.height;
            } }, this.wg = function (e, t) { return 7 * t.y + t.x - (7 * e.y + e.x) + 1; }, this.mg = {}, this.mg.scope = null, this.mg.notify = function () { a.mg.scope && a.mg.scope["$apply"](); }, this.debug = new DayPilot.Debug(this), this.oe = function () { var e = this.nav.top; this.nav.top.dp = this, e.setAttribute("unselectable", "on"), e.style.MozUserSelect = "none", e.style.KhtmlUserSelect = "none", e.style.WebkitUserSelect = "none", e.style.WebkitTapHighlightColor = "rgba(0,0,0,0)", e.style.WebkitTouchCallout = "none", e.style.position = "relative", this.width && (e.style.width = this.width), e.onselectstart = function (e) { return !1; }, e.className = this.K("_main"), this.hideUntilInit && (e.style.visibility = "hidden"), this.visible || (e.style.display = "none"), e.onmousemove = this.we, DayPilot.reNonPassive(e, "touchstart", r.onMainTouchStart), DayPilot.reNonPassive(e, "touchmove", r.onMainTouchMove), DayPilot.rePassive(e, "touchend", r.onMainTouchEnd), this.ni = document.createElement("div"), this.ni.style.display = "none", this.nav.top.appendChild(this.ni); var t = document.createElement("div"); t.style.position = "relative", t.style.height = s.headerHeight() + "px", t.oncontextmenu = function () { return !1; }, this.nav.top.appendChild(t), this.nav.header = t; var n = document.createElement("div"); n.style.zoom = "1"; var i = document.createElement("div"); i.style.position = "relative", i.ondblclick = a.Ni, n.appendChild(i), this.nav.loading = document.createElement("div"), this.nav.loading.style.position = "absolute", this.nav.loading.style.top = "0px", this.nav.loading.style.left = "5px", this.nav.loading.className = a.K("_loading"), this.nav.loading.innerHTML = a.ma(this.loadingLabelText, this.loadingLabelHtml), this.nav.loading.style.display = "none", this.nav.top.appendChild(n), this.nav.top.appendChild(this.nav.loading), this.nav.scrollable = n, this.nav.events = i; }, this.we = function (e) { e.insideMainD = !0, window.event && window.event.srcElement && (window.event.srcElement.inside = !0), a.coords = DayPilot.mo3(a.nav.events, e); var n = a.coords; if (n) {
                var i = a.Ji(n.x, n.y);
                if (i) {
                    if (t.resizingEvent) {
                        a.Di();
                        var r, o, s = t.resizingEvent;
                        s.start;
                        if ("w-resize" === s.direction) {
                            o = i;
                            var l = s.event.rawend();
                            l.getDatePart().getTime() === l.getTime() && (l = l.addDays(-1));
                            var d = a.Oi(l);
                            r = a.wg(i, d);
                        }
                        else
                            o = a.Oi(s.event.start()), r = a.wg(o, i);
                        r < 1 && (r = 1), a.zi(o.x, o.y, 0, r);
                    }
                    else if (t.movingEvent) {
                        if (n.x === t.movingEvent.coords.x && n.y === t.movingEvent.coords.y)
                            return;
                        var c = a.Ki(i);
                        a.Di();
                        var u = t.movingEvent.event, h = t.movingEvent.offset, r = a.cellMode ? 1 : DayPilot.DateUtil.daysSpan(u.start(), u.rawend()) + 1;
                        r < 1 && (r = 1), a.zi(i.x, i.y, c, r, h, u);
                    }
                    else if (t.timeRangeSelecting) {
                        t.cancelCellClick = !0, a.Di();
                        var o = t.timeRangeSelecting, f = 7 * o.y + o.x, v = 7 * i.y + i.x, r = Math.abs(v - f) + 1;
                        r < 1 && (r = 1);
                        var p = f < v ? o : i;
                        t.timeRangeSelecting.from = { x: p.x, y: p.y }, t.timeRangeSelecting.width = r, t.timeRangeSelecting.moved = !0, a.zi(p.x, p.y, 0, r, 0, null);
                    }
                    if (t.drag) {
                        if (t.gShadow && document.body.removeChild(t.gShadow), t.gShadow = null, !t.movingEvent) {
                            var m = DayPilot.Date.today(), e = { "id": t.drag.id, "start": m, "end": m.addSeconds(t.drag.duration), "text": t.drag.text }, g = t.drag.data;
                            if (g) {
                                var b = ["duration", "element", "remove", "id", "text"];
                                for (var y in g)
                                    DayPilot.contains(b, y) || (e[y] = g[y]);
                            }
                            var u = new DayPilot.Event(e, a);
                            u.external = !0;
                            var w = t.movingEvent = {};
                            w.event = u, w.coords = n, w.position = 0, w.offset = 0, w.external = !0, w.removeElement = t.drag.element;
                        }
                        e.cancelBubble = !0;
                    }
                }
            } }, this.Ki = function (e) { for (var t = e.relativeY, n = a.rows[e.y], i = a.cellHeaderHeight, r = s.lineHeight(), o = n.lines.length, l = 0; l < n.lines.length; l++) {
                if (n.lines[l].isFree(e.x, 1)) {
                    o = l;
                    break;
                }
            } var d = Math.floor((t - i + r / 2) / r), d = Math.min(o, d), d = Math.max(0, d); return d; }, this.message = function (e, t) { if (null !== e && a.Y) {
                var n, i = {};
                "object" == typeof arguments[1] ? (i = arguments[1], n = i.delay) : n = t;
                var r = "";
                r = i.rawHtml ? e : DayPilot.Util.escapeHtml(e), n = n || this.messageHideAfter || 2e3;
                var o, l = s.headerHeight();
                if (this.nav.message)
                    o = a.nav.message;
                else {
                    o = document.createElement("div"), o.setAttribute("unselectable", "on"), o.style.position = "absolute", o.style.right = "0px", o.style.left = "0px", o.style.top = l + "px", o.style.display = "none", o.onmousemove = function () { o.messageTimeout && !o.status && clearTimeout(o.messageTimeout); }, o.onmouseout = function () { "none" !== a.nav.message.style.display && (o.messageTimeout = setTimeout(a.zb, 500)); };
                    var d = document.createElement("div");
                    d.setAttribute("unselectable", "on"), d.onclick = function () { a.nav.message.style.display = "none"; }, d.className = this.K("_message"), o.appendChild(d);
                    var c = document.createElement("div");
                    c.setAttribute("unselectable", "on"), c.style.position = "absolute", c.className = this.K("_message_close"), c.onclick = function () { a.nav.message.style.display = "none"; }, o.appendChild(c), this.nav.top.appendChild(o), this.nav.message = o;
                }
                var u = function () { if (a.nav.message) {
                    var e = a.nav.message.firstChild;
                    e.className = a.K("_message"), i.cssClass && DayPilot.Util.addClass(e, i.cssClass), e.innerHTML = r;
                    var t = function () { o.messageTimeout = setTimeout(a.zb, n); };
                    DayPilot.fade(a.nav.message, .2, t);
                } };
                clearTimeout(o.messageTimeout), "none" !== this.nav.message.style.display ? DayPilot.fade(a.nav.message, -.2, u) : u();
            } }, this.message.show = function (e) { a.message(e); }, this.message.hide = function () { a.zb(); }, this.zb = function () { var e = function () { a.nav.message.style.display = "none"; }; DayPilot.fade(a.nav.message, -.2, e); }, this.Ga = function (e) { "Parent100Pct" === a.heightSpec && a.db(); }, this.db = function () { var e = this.nav.scrollable; if ("Parent100Pct" === this.heightSpec || "Fixed" === this.heightSpec ? (e.style.top = this.headerHeight + "px", e.style.bottom = "0px", e.style.left = "0px", e.style.right = "0px", e.style.overflow = "auto", e.style.position = "absolute") : e.style.position = "relative", "Parent100Pct" === this.heightSpec) {
                this.nav.top.style.height = "100%";
                this.nav.top.clientHeight;
            }
            else
                this.nav.top.style.height = this.xg() + "px"; for (var t = 0; t < this.cells.length; t++)
                for (var n = 0; n < this.cells[t].length; n++)
                    this.cells[t][n].style.top = this.Ai(n) + "px", this.cells[t][n].style.height = this.rows[n].getHeight() + "px"; this.Pi(); }, this.Ji = function (e, t) { e = Math.max(0, e); for (var n = Math.floor(this.nav.top.clientWidth / this.wi()), i = Math.min(Math.floor(e / n), this.wi() - 1), a = null, r = 0, o = 0, s = 0, l = 0; l < this.rows.length; l++) {
                if (o += this.rows[l].getHeight(), t < o) {
                    r = t - s, a = l;
                    break;
                }
                s = o;
            } null === a && (a = this.rows.length - 1); var d = {}; return d.x = i, d.y = a, d.relativeY = r, d; }, this.Oi = function (e) { for (var t = DayPilot.DateUtil.daysDiff(this.firstDate, e), n = { x: 0, y: 0 }; t >= 7;)
                n.y++, t -= 7; return n.x = t, n; }, this.Pi = function () { var e = DayPilot.sw(this.nav.scrollable); this.nav.header.style.marginRight = e + "px"; };
            var o = null;
            this.qi = function () { var e = this.nav.header, t = this.nav.events, n = a.wi(); this.cells = []; for (var i = 0; i < n; i++) {
                var r = i === n - 1;
                this.cells[i] = [];
                var l = this.headerProperties ? this.headerProperties[i] : null, d = i + s.weekStarts();
                if (d > 6 && (d -= 7), !l) {
                    var l = {};
                    l.html = s.locale().dayNames[d];
                }
                if ("function" == typeof a.onBeforeHeaderRender) {
                    var c = {};
                    c.header = {}, c.header.dayOfWeek = d;
                    var u = ["html", "backColor", "cssClass"];
                    DayPilot.Util.copyProps(l, c.header, u), a.onBeforeHeaderRender(c), DayPilot.Util.copyProps(c.header, l, u);
                }
                var h = document.createElement("div");
                h.setAttribute("unselectable", "on"), h.style.position = "absolute", h.style.left = this.Ci() * i + "%", r ? h.style.right = "0px" : h.style.width = this.Ci() + "%", h.style.top = "0px", h.style.height = s.headerHeight() + "px", function (e) { h.onclick = function () { a.Hb(e); }; }(d);
                var f = document.createElement("div");
                f.setAttribute("unselectable", "on"), f.className = this.K("_header_inner"), f.innerHTML = l.html, h.appendChild(f), h.className = this.K("_header"), l && (l.cssClass && DayPilot.Util.addClass(h, l.cssClass), l.backColor && (f.style.background = l.backColor)), e.appendChild(h);
                for (var v = 0; v < this.rows.length; v++)
                    this.ge(i, v, t);
            } if (!DayPilot.contains(this.nav.top.childNodes, o) && DayPilot.Util.isNullOrUndefined(undefined)) {
                var p = document.createElement("div");
                p.style.position = "absolute", p.style.padding = "2px", p.style.top = "0px", p.style.left = "0px", p.style.backgroundColor = "#FF6600", p.style.color = "white", p.innerHTML = "\u0044\u0045" + "\u004D\u004F", o = p, this.nav.top.appendChild(p);
            } }, this.pi = function () { for (var e = 0; e < this.cells.length; e++)
                for (var t = 0; t < this.cells[e].length; t++)
                    this.cells[e][t].onclick = null, function () { var n = a.cells[e][t], i = n.domArgs; if (n.domArgs = null, i && "function" == typeof a.onBeforeCellDomRemove && a.onBeforeCellDomRemove(i), i && "function" == typeof a.onBeforeCellDomAdd && a.F.reactDOM) {
                        var r = i && i.Wd;
                        if (r) {
                            if (DayPilot.Util.isReactComponent(i.element)) {
                                if (!a.F.reactDOM)
                                    throw new DayPilot.Exception("Can't reach ReactDOM");
                                a.F.N(r);
                            }
                        }
                    } }(); this.nav.header.innerHTML = "", this.nav.events.innerHTML = ""; }, this.ge = function (t, n, i) { var r = this.rows[n], o = this.firstDate.addDays(7 * n + t), l = this.cellProperties ? this.cellProperties[n * this.wi() + t] : null, d = a.wi(), c = t === d - 1, u = null; if (l)
                u = l["headerHtml"];
            else {
                var h = o.getDay();
                u = 1 === h ? s.locale().monthNames[o.getMonth()] + " " + h : h + "";
            } if (!l) {
                var l = {};
                l.business = !a.isWeekend(o), l.headerHtml = u, l.disabled = !1, l.backColor = null, l.backImage = null, l.backRepeat = null, l.areas = null, l.headerBackColor = null, l.cssClass = null, l.html = null;
            } if ("function" == typeof a.onBeforeCellRender) {
                var f = {};
                f.cell = {}, f.cell.start = o, f.cell.end = f.cell.start.addDays(1), f.cell.properties = l, f.cell.events = function () { return a.events.forRange(f.cell.start, f.cell.end); }, a.onBeforeCellRender(f), DayPilot.Util.copyProps(f.cell, l, ["areas", "backColor", "backImage", "backRepeat", "business", "disabled", "headerHtml", "headerBackColor", "cssClass", "html"]);
            } var v = this.Ci() * t, p = this.Ci(), m = document.createElement("div"); m.setAttribute("unselectable", "on"), m.style.position = "absolute", m.style.cursor = "default", m.style.left = v + "%", c ? m.style.right = "0px" : m.style.width = p + "%", m.style.top = this.Ai(n) + "px", m.style.height = r.getHeight() + "px", m.d = o, m.x = t, m.y = n, m.props = l; var g = this.startDate.addMonths(-1).getMonth(), b = this.startDate.addMonths(1).getMonth(), y = this.startDate.getMonth(), w = document.createElement("div"); w.setAttribute("unselectable", "on"), m.appendChild(w), w.className = this.K("_cell_inner"), w.className = this.K("_cell_inner"), o.getMonth() === y ? m.className = this.K("_cell") : o.getMonth() === g ? m.className = this.K("_cell") + " " + this.K("_previous") : o.getMonth() === b ? m.className = this.K("_cell") + " " + this.K("_next") : e(), l && (l["cssClass"] && DayPilot.Util.addClass(m, l.cssClass), l["business"] && DayPilot.Util.addClass(m, this.K("_cell_business")), l["backColor"] && (w.style.backgroundColor = l["backColor"]), l["backImage"] && (w.style.backgroundImage = "url('" + l["backImage"] + "')"), l["backRepeat"] && (w.style.backgroundRepeat = l["backRepeat"])), m.onmousedown = this.lc, m.onmousemove = this.Bc, m.onmouseout = this.Ac, m.oncontextmenu = this.Qi, m.onclick = this.Ri, m.ondblclick = this.Ni; var x = document.createElement("div"); if (x.setAttribute("unselectable", "on"), x.style.height = this.cellHeaderHeight + "px", l && l["headerBackColor"] && (x.style.background = l["headerBackColor"]), x.className = this.K("_cell_header"), x.innerHTML = l.headerHtml, x.onclick = function (e) { if ("Enabled" === a.cellHeaderClickHandling) {
                e.stopPropagation();
                var t = {};
                t.control = a, t.start = o, t.end = o.addDays(1), t.preventDefault = function () { this.preventDefault.value = !0; }, "function" == typeof a.onCellHeaderClick && (a.onCellHeaderClick(t), t.preventDefault.value) || "function" == typeof a.onCellHeaderClicked && a.onCellHeaderClicked(t);
            } }, w.appendChild(x), l && l["html"]) {
                var k = document.createElement("div");
                k.setAttribute("unselectable", "on"), k.style.height = r.getHeight() - this.cellHeaderHeight + "px", k.style.overflow = "hidden", k.innerHTML = l["html"], w.appendChild(k);
            } if (this.cellMode) {
                var C = document.createElement("div");
                C.setAttribute("unselectable", "on"), C.style.height = this.cellHeight - this.cellHeaderHeight + "px", C.style.overflow = "auto", C.style.position = "relative";
                var D = document.createElement("div");
                D.setAttribute("unselectable", "on"), D.style.paddingTop = "1px", D.style.paddingBottom = "1px", C.appendChild(D), w.appendChild(C), m.body = D, m.scrolling = C;
            } if (m.props)
                for (var S = m.props.areas || [], _ = 0; _ < S.length; _++) {
                    var E = S[_];
                    if (DayPilot.Areas.isVisible(E)) {
                        var T = DayPilot.Areas.createArea(m, m.props, E);
                        m.appendChild(T);
                    }
                } !function () { if ("function" == typeof a.onBeforeCellDomAdd || "function" == typeof a.onBeforeCellDomRemove) {
                var e = {};
                if (e.control = a, e.cell = {}, e.cell.start = o, e.cell.end = e.cell.start.addDays(1), e.cell.events = function () { return a.events.forRange(e.cell.start, e.cell.end); }, e.element = null, m.domArgs = e, "function" == typeof a.onBeforeCellDomAdd && a.onBeforeCellDomAdd(e), e.element && (target = w, target)) {
                    e.Wd = target;
                    if (DayPilot.Util.isReactComponent(e.element)) {
                        if (!a.F.reactDOM)
                            throw new DayPilot.Exception("Can't reach ReactDOM");
                        a.F.E(e.element, target);
                    }
                    else
                        target.appendChild(e.element);
                }
            } }(), this.cells[t][n] = m, i.appendChild(m), "function" == typeof a.onAfterCellRender && (f.cell.div = m, f.cell.divHeader = x, a.onAfterCellRender(f)); }, this.Bc = function () { var e = this; e.props && DayPilot.Areas.showAreas(e, e.props); }, this.Ac = function (e) { var t = this; t.props && DayPilot.Areas.hideAreas(t, e); }, this.Qi = function () { var e = this.d; return function (e) { var t = new DayPilot.Date(e), n = t.addDays(1), i = new DayPilot.Selection(t, n, null, a); a.contextMenuSelection && a.contextMenuSelection.show(i); }(e), !1; }, this.Ni = function () { var e = a.coords, t = a.Ji(e.x, e.y), n = a.Ei(t.x, t.y); if (a.timeouts) {
                for (var i in a.timeouts)
                    window.clearTimeout(a.timeouts[i]);
                a.timeouts = null;
            } if ("Disabled" !== a.timeRangeDoubleClickHandling) {
                var r = new DayPilot.Date(n), o = r.addDays(1);
                a.ec(r, o);
            } }, this.Ri = function () { if (!t.cancelCellClick) {
                var e = this.d;
                if (!this.props.disabled) {
                    var n = function (e) { var t = new DayPilot.Date(e), n = t.addDays(1); a.dc(t, n); };
                    if ("Disabled" !== a.timeRangeSelectedHandling && "Disabled" === a.timeRangeDoubleClickHandling)
                        return void n(e);
                    a.timeouts || (a.timeouts = []);
                    var i = function (e) { return function () { n(e); }; };
                    a.timeouts.push(window.setTimeout(i(e), a.doubleClickTimeout));
                }
            } }, this.lc = function (e) { var n = this, i = n.x, r = n.y; if (t.cancelCellClick = !1, n.scrolling) {
                var o = DayPilot.mo3(n.scrolling, e), s = DayPilot.sw(n.scrolling), l = n.scrolling.offsetWidth;
                if (o.x > l - s)
                    return;
            } "Disabled" !== a.timeRangeSelectedHandling && (a.Di(), t.timeRangeSelecting = { "root": a, "x": i, "y": r, "from": { x: i, y: r }, "width": 1 }), a.zi(i, r, 0, 1); }, this.wi = function () { return this.showWeekend ? 7 : 5; }, this.Ci = function () { return this.showWeekend ? 14.285 : 20; }, this.Ai = function (e) { for (var t = 0, n = 0; n < e; n++)
                t += this.rows[n].getHeight(); return t; }, this.clearSelection = function () { this.Di(); }, this.pa = function (e, t, n) { var i = {}; i.action = e, i.parameters = n, i.data = t, i.header = this.qa(); var r = "JSON" + JSON.stringify(i); __doPostBack(a.uniqueID, r); }, this.ra = function (e, t, n, i) { if (!this.M())
                return void a.debug.message("Callback invoked without the server-side backend specified. Callback canceled.", "warning"); "undefined" == typeof i && (i = "CallBack"), a.sa(); var r = {}; r.action = e, r.type = i, r.parameters = t, r.data = n, r.header = this.qa(); var o = "JSON" + JSON.stringify(r); this.backendUrl ? DayPilot.request(this.backendUrl, this.ta, o, this.va) : "function" == typeof WebForm_DoCallback && WebForm_DoCallback(this.uniqueID, o, this.wa, null, this.callbackError, !0); }, this.M = function () { return "javasc" !== a._ && a._.indexOf("DCODE") === -1 || a.devsb; }, this.xa = function () { return !("function" != typeof WebForm_DoCallback || !this.uniqueID); }, this.va = function (e) { if ("function" == typeof a.onAjaxError) {
                var t = {};
                t.request = e, a.onAjaxError(t);
            }
            else
                "function" == typeof a.ajaxError && a.ajaxError(e); }, this.ta = function (e) { a.wa(e.responseText); }, this.qa = function () { var e = {}; return e.v = this.v, e.control = "dpm", e.id = this.id, e.visibleStart = new DayPilot.Date(this.firstDate), e.visibleEnd = e.visibleStart.addDays(this.days), e.clientState = this.clientState, e.cssClassPrefix = a.cssClassPrefix, e.startDate = a.startDate, e.showWeekend = this.showWeekend, e.locale = this.locale, e.timeFormat = this.timeFormat, e.weekStarts = this.weekStarts, e.viewType = this.viewType, e.weeks = this.weeks, e.selected = a.multiselect.events(), e.hashes = a.hashes, e; }, this.visibleStart = function () { return new DayPilot.Date(this.firstDate); }, this.visibleEnd = function () { return a.visibleStart().addDays(a.days); }, this.Nb = function (e, t, n, i) { if ("PostBack" === e)
                a.postBack2(t, n, i);
            else if ("CallBack" === e)
                a.ra(t, n, i, "CallBack");
            else if ("Immediate" === e)
                a.ra(t, n, i, "Notify");
            else if ("Queue" === e)
                a.queue.add(new DayPilot.Action(this, t, n, i));
            else {
                if ("Notify" !== e)
                    throw "Invalid event invocation type";
                "Notify" === s.notifyType() ? a.ra(t, n, i, "Notify") : a.queue.add(new DayPilot.Action(a, t, n, i));
            } }, this.$b = function (e, t) { var n = a._b(t), i = {}; i.args = e, i.guid = n, a.ra("Bubble", i); }, this._b = function (e) { var t = DayPilot.guid(); return this.bubbles || (this.bubbles = []), this.bubbles[t] = e, t; }, this.eventClickPostBack = function (e, t) { this.pa("EventClick", t, e); }, this.eventClickCallBack = function (e, t) { this.ra("EventClick", e, t); }, this.Ab = function (e, n) { t.movingEvent = null, t.resizingEvent = null; var n = n || window.event; n.ctrlKey, n.metaKey; if (n.cancelBubble = !0, n.stopPropagation && n.stopPropagation(), "undefined" != typeof DayPilot.Bubble && DayPilot.Bubble.hideActive(), "Disabled" === a.eventDoubleClickHandling)
                return void a.Bb(e, n); if (a.timeouts) {
                for (var i in a.timeouts)
                    window.clearTimeout(a.timeouts[i]);
                a.timeouts = [];
            }
            else
                a.timeouts = []; var r = function (e, t) { return function () { a.Bb(e, t); }; }; a.timeouts.push(window.setTimeout(r(e, n), a.doubleClickTimeout)); }, this.Bb = function (e, t) { var n = e.event; if (n.client.clickEnabled()) {
                var i = t.ctrlKey, r = t.metaKey;
                if (a.nb()) {
                    var o = {};
                    if (o.e = n, o.control = a, o.div = e, o.originalEvent = t, o.meta = t.metaKey, o.ctrl = t.ctrlKey, o.preventDefault = function () { this.preventDefault.value = !0; }, "function" == typeof a.onEventClick && (a.onEventClick(o), o.preventDefault.value))
                        return;
                    switch (a.eventClickHandling) {
                        case "PostBack":
                            a.eventClickPostBack(n);
                            break;
                        case "CallBack":
                            a.eventClickCallBack(n);
                            break;
                        case "Select":
                            a.Db(e, n, i, r);
                            break;
                        case "ContextMenu":
                            var s = n.client.contextMenu();
                            s ? s.show(n) : a.contextMenu && a.contextMenu.show(n);
                            break;
                        case "Bubble": a.bubble && a.bubble.showEvent(n);
                    }
                    "function" == typeof a.onEventClicked && a.onEventClicked(o);
                }
                else
                    switch (a.eventClickHandling) {
                        case "PostBack":
                            a.eventClickPostBack(n);
                            break;
                        case "CallBack":
                            a.eventClickCallBack(n);
                            break;
                        case "JavaScript":
                            a.onEventClick(n);
                            break;
                        case "Select":
                            a.Db(e, n, i, r);
                            break;
                        case "ContextMenu":
                            var s = n.client.contextMenu();
                            s ? s.show(n) : a.contextMenu && a.contextMenu.show(n);
                            break;
                        case "Bubble": a.bubble && a.bubble.showEvent(n);
                    }
            } }, this.Mb = function (e) { if (a.nb()) {
                var t = {};
                if (t.e = e, t.control = a, t.preventDefault = function () { this.preventDefault.value = !0; }, "function" == typeof a.onEventDelete && (a.onEventDelete(t), t.preventDefault.value))
                    return;
                switch (a.eventDeleteHandling) {
                    case "PostBack":
                        a.eventDeletePostBack(e);
                        break;
                    case "CallBack":
                        a.eventDeleteCallBack(e);
                        break;
                    case "Update": a.events.remove(e);
                }
                "function" == typeof a.onEventDeleted && a.onEventDeleted(t);
            }
            else
                switch (a.eventDeleteHandling) {
                    case "PostBack":
                        a.eventDeletePostBack(e);
                        break;
                    case "CallBack":
                        a.eventDeleteCallBack(e);
                        break;
                    case "JavaScript": a.onEventDelete(e);
                } }, this.eventDeletePostBack = function (e, t) { this.pa("EventDelete", e, t); }, this.eventDeleteCallBack = function (e, t) { this.ra("EventDelete", e, t); }, this.eventDoubleClickPostBack = function (e, t) { this.pa("EventDoubleClick", t, e); }, this.eventDoubleClickCallBack = function (e, t) { this.ra("EventDoubleClick", e, t); }, this.Eb = function (e, t) { if ("undefined" != typeof DayPilot.Bubble && DayPilot.Bubble.hideActive(), a.timeouts) {
                for (var n in a.timeouts)
                    window.clearTimeout(a.timeouts[n]);
                a.timeouts = null;
            } var t = t || window.event, i = e.event; if (i.client.doubleClickEnabled())
                if (a.nb()) {
                    var r = {};
                    if (r.e = i, r.preventDefault = function () { this.preventDefault.value = !0; }, "function" == typeof a.onEventDoubleClick && (a.onEventDoubleClick(r), r.preventDefault.value))
                        return;
                    switch (a.eventDoubleClickHandling) {
                        case "PostBack":
                            a.eventDoubleClickPostBack(i);
                            break;
                        case "CallBack":
                            a.eventDoubleClickCallBack(i);
                            break;
                        case "Select":
                            a.Db(e, i, t.ctrlKey, t.metaKey);
                            break;
                        case "Bubble": a.bubble && a.bubble.showEvent(i);
                    }
                    "function" == typeof a.onEventDoubleClicked && a.onEventDoubleClicked(r);
                }
                else
                    switch (a.eventDoubleClickHandling) {
                        case "PostBack":
                            a.eventDoubleClickPostBack(i);
                            break;
                        case "CallBack":
                            a.eventDoubleClickCallBack(i);
                            break;
                        case "JavaScript":
                            a.onEventDoubleClick(i);
                            break;
                        case "Select":
                            a.Db(e, i, t.ctrlKey, t.metaKey);
                            break;
                        case "Bubble": a.bubble && a.bubble.showEvent(i);
                    } }, this.Db = function (e, t, n, i) { a.gc(e, t, n, i); }, this.eventSelectPostBack = function (e, t, n) { var i = {}; i.e = e, i.change = t, this.pa("EventSelect", n, i); }, this.eventSelectCallBack = function (e, t, n) { var i = {}; i.e = e, i.change = t, this.ra("EventSelect", i, n); }, this.gc = function (e, t, n, i) { var r = a.multiselect, o = r.isSelected(t); if (n || i || !o || 1 !== r.list.length)
                if (a.nb()) {
                    r.previous = r.events();
                    var s = {};
                    if (s.e = t, s.selected = r.isSelected(t), s.ctrl = n, s.meta = i, s.preventDefault = function () { this.preventDefault.value = !0; }, "function" == typeof a.onEventSelect && (a.onEventSelect(s), s.preventDefault.value))
                        return;
                    switch (a.eventSelectHandling) {
                        case "PostBack":
                            a.eventSelectPostBack(t, l);
                            break;
                        case "CallBack":
                            "undefined" != typeof WebForm_InitCallback && (window.ic = "", window.jc = [], WebForm_InitCallback()), a.eventSelectCallBack(t, l);
                            break;
                        case "Update": r.kc(e, n);
                    }
                    "function" == typeof a.onEventSelected && (s.change = r.isSelected(t) ? "selected" : "deselected", s.selected = r.isSelected(t), a.onEventSelected(s));
                }
                else {
                    r.previous = r.events(), r.kc(e, n);
                    var l = r.isSelected(t) ? "selected" : "deselected";
                    switch (a.eventSelectHandling) {
                        case "PostBack":
                            a.eventSelectPostBack(t, l);
                            break;
                        case "CallBack":
                            "undefined" != typeof WebForm_InitCallback && (window.ic = "", window.jc = [], WebForm_InitCallback()), a.eventSelectCallBack(t, l);
                            break;
                        case "JavaScript": a.onEventSelect(t, l);
                    }
                } }, this.eventRightClickPostBack = function (e, t) { this.pa("EventRightClick", t, e); }, this.eventRightClickCallBack = function (e, t) { this.ra("EventRightClick", e, t); }, this.Fb = function (e) { if (this.event = e, !e.client.rightClickEnabled())
                return !1; if (a.nb()) {
                var t = {};
                if (t.e = e, t.preventDefault = function () { this.preventDefault.value = !0; }, "function" == typeof a.onEventRightClick && (a.onEventRightClick(t), t.preventDefault.value))
                    return;
                switch (a.eventRightClickHandling) {
                    case "PostBack":
                        a.eventRightClickPostBack(e);
                        break;
                    case "CallBack":
                        a.eventRightClickCallBack(e);
                        break;
                    case "ContextMenu":
                        var n = e.client.contextMenu();
                        n ? n.show(e) : a.contextMenu && a.contextMenu.show(this.event);
                        break;
                    case "Bubble": a.bubble && a.bubble.showEvent(e);
                }
                "function" == typeof a.onEventRightClicked && a.onEventRightClicked(t);
            }
            else
                switch (a.eventRightClickHandling) {
                    case "PostBack":
                        a.eventRightClickPostBack(e);
                        break;
                    case "CallBack":
                        a.eventRightClickCallBack(e);
                        break;
                    case "JavaScript":
                        a.onEventRightClick(e);
                        break;
                    case "ContextMenu":
                        var n = e.client.contextMenu();
                        n ? n.show(e) : a.contextMenu && a.contextMenu.show(this.event);
                        break;
                    case "Bubble": a.bubble && a.bubble.showEvent(e);
                } return !1; }, this.eventMenuClickPostBack = function (e, t, n) { var i = {}; i.e = e, i.command = t, this.pa("EventMenuClick", n, i); }, this.eventMenuClickCallBack = function (e, t, n) { var i = {}; i.e = e, i.command = t, this.ra("EventMenuClick", i, n); }, this.bc = function (e, t, n) { switch (n) {
                case "PostBack":
                    a.eventMenuClickPostBack(t, e);
                    break;
                case "CallBack": a.eventMenuClickCallBack(t, e);
            } }, this.eventMovePostBack = function (e, t, n, i, a) { if (!t)
                throw "newStart is null"; if (!n)
                throw "newEnd is null"; var r = {}; r.e = e, r.newStart = t, r.newEnd = n, r.position = a, this.pa("EventMove", i, r); }, this.eventMoveCallBack = function (e, t, n, i, a) { if (!t)
                throw "newStart is null"; if (!n)
                throw "newEnd is null"; var r = {}; r.e = e, r.newStart = t, r.newEnd = n, r.position = a, this.ra("EventMove", r, i); }, this.Wb = function (e, t, n, i, r, o, s) { var l = e.start().getTimePart(), d = e.rawend().getDatePart(); d.getTime() !== e.rawend().getTime() && (d = d.addDays(1)); var c = DayPilot.DateUtil.diff(e.rawend(), d), u = this.Ei(t, n); u = u.addDays(-i); var h = DayPilot.DateUtil.daysSpan(e.start(), e.rawend()) + 1, f = u.addDays(h), v = u.addTime(l), p = f.addTime(c); if (p = a.Si(p), a.nb()) {
                var m = {};
                if (m.e = e, m.control = a, m.newStart = v, m.newEnd = p, m.position = o, m.ctrl = !1, m.external = s, r && (m.ctrl = r.ctrlKey), m.shift = !1, r && (m.shift = r.shiftKey), m.preventDefault = function () { this.preventDefault.value = !0; }, "function" == typeof a.onEventMove && (a.onEventMove(m), m.preventDefault.value))
                    return;
                switch (a.eventMoveHandling) {
                    case "PostBack":
                        a.eventMovePostBack(e, v, p, null, o);
                        break;
                    case "CallBack":
                        a.eventMoveCallBack(e, v, p, null, o);
                        break;
                    case "Notify":
                        a.eventMoveNotify(e, v, p, null, o);
                        break;
                    case "Update": m.external ? (e.start(v), e.end(p), e.commit(), a.events.add(e)) : (e.start(v), e.end(p), a.events.update(e)), a.Yb();
                }
                "function" == typeof a.onEventMoved && a.onEventMoved(m);
            }
            else
                switch (a.eventMoveHandling) {
                    case "PostBack":
                        a.eventMovePostBack(e, v, p, null, o);
                        break;
                    case "CallBack":
                        a.eventMoveCallBack(e, v, p, null, o);
                        break;
                    case "JavaScript":
                        a.onEventMove(e, v, p, r.ctrlKey, r.shiftKey, o);
                        break;
                    case "Notify": a.eventMoveNotify(e, v, p, null, o);
                } }, this.eventMoveNotify = function (e, t, n, i, r) { var o = new DayPilot.Event(e.copy(), this); e.start(t), e.end(n), e.commit(), a.update(), this.Zb("Notify", o, t, n, i, r); }, this.Zb = function (e, t, n, i, a, r) { var o = {}; o.e = t, o.newStart = n, o.newEnd = i, o.position = r, this.Nb(e, "EventMove", o, a); }, this.eventResizePostBack = function (e, t, n, i) { if (!t)
                throw "newStart is null"; if (!n)
                throw "newEnd is null"; var a = {}; a.e = e, a.newStart = t, a.newEnd = n, this.pa("EventResize", i, a); }, this.eventResizeCallBack = function (e, t, n, i) { if (!t)
                throw "newStart is null"; if (!n)
                throw "newEnd is null"; var a = {}; a.e = e, a.newStart = t, a.newEnd = n, this.ra("EventResize", a, i); }, this.Sb = function (e, t, n) { var i = e.start().getTimePart(), r = e.rawend().getDatePart(); r != e.rawend() && (r = r.addDays(1)); var o = DayPilot.DateUtil.diff(e.rawend(), r), s = this.Ei(t.x, t.y), l = s.addDays(n), d = s.addTime(i), c = l.addTime(o); if (c = a.Si(c), a.nb()) {
                var u = {};
                if (u.e = e, u.control = a, u.newStart = d, u.newEnd = c, u.preventDefault = function () { this.preventDefault.value = !0; }, "function" == typeof a.onEventResize && (a.onEventResize(u), u.preventDefault.value))
                    return;
                switch (a.eventResizeHandling) {
                    case "PostBack":
                        a.eventResizePostBack(e, d, c);
                        break;
                    case "CallBack":
                        a.eventResizeCallBack(e, d, c);
                        break;
                    case "Notify":
                        a.eventResizeNotify(e, d, c);
                        break;
                    case "Update": e.start(d), e.end(c), a.events.update(e);
                }
                "function" == typeof a.onEventResized && a.onEventResized(u);
            }
            else
                switch (a.eventResizeHandling) {
                    case "PostBack":
                        a.eventResizePostBack(e, d, c);
                        break;
                    case "CallBack":
                        a.eventResizeCallBack(e, d, c);
                        break;
                    case "JavaScript":
                        a.onEventResize(e, d, c);
                        break;
                    case "Notify": a.eventResizeNotify(e, d, c);
                } }, this.eventResizeNotify = function (e, t, n, i) { var r = new DayPilot.Event(e.copy(), this); e.start(t), e.end(n), e.commit(), a.update(), this.Ub("Notify", r, t, n, i); }, this.Ub = function (e, t, n, i, a) { var r = {}; r.e = t, r.newStart = n, r.newEnd = i, this.Nb(e, "EventResize", r, a); }, this.timeRangeSelectedPostBack = function (e, t, n) { var i = {}; i.start = e, i.end = t, this.pa("TimeRangeSelected", n, i); }, this.timeRangeSelectedCallBack = function (e, t, n) { var i = {}; i.start = e, i.end = t, this.ra("TimeRangeSelected", i, n); }, this.dc = function (e, t) { if (t = a.Si(t), a.nb()) {
                var n = {};
                if (n.start = e, n.end = t, n.control = a, n.preventDefault = function () { this.preventDefault.value = !0; }, "function" == typeof a.onTimeRangeSelect && (a.onTimeRangeSelect(n), n.preventDefault.value))
                    return;
                switch (a.timeRangeSelectedHandling) {
                    case "PostBack":
                        a.timeRangeSelectedPostBack(e, t), a.clearSelection();
                        break;
                    case "CallBack": a.timeRangeSelectedCallBack(e, t), a.clearSelection();
                }
                "function" == typeof a.onTimeRangeSelected && a.onTimeRangeSelected(n);
            }
            else
                switch (a.timeRangeSelectedHandling) {
                    case "PostBack":
                        a.timeRangeSelectedPostBack(e, t), a.clearSelection();
                        break;
                    case "CallBack":
                        a.timeRangeSelectedCallBack(e, t), a.clearSelection();
                        break;
                    case "JavaScript": a.onTimeRangeSelected(e, t);
                } }, this.timeRangeMenuClickPostBack = function (e, t, n) { var i = {}; i.selection = e, i.command = t, this.pa("TimeRangeMenuClick", n, i); }, this.timeRangeMenuClickCallBack = function (e, t, n) { var i = {}; i.selection = e, i.command = t, this.ra("TimeRangeMenuClick", i, n); }, this.cc = function (e, t, n) { switch (n) {
                case "PostBack":
                    a.timeRangeMenuClickPostBack(t, e);
                    break;
                case "CallBack": a.timeRangeMenuClickCallBack(t, e);
            } }, this.headerClickPostBack = function (e, t) { this.pa("HeaderClick", t, e); }, this.headerClickCallBack = function (e, t) { this.ra("HeaderClick", e, t); }, this.Hb = function (e) { var t = (this.data, { day: e }); if (a.nb()) {
                var n = {};
                if (n.header = {}, n.header.dayOfWeek = e, n.preventDefault = function () { this.preventDefault.value = !0; }, "function" == typeof a.onHeaderClick && (a.onHeaderClick(n), n.preventDefault.value))
                    return;
                switch (a.headerClickHandling) {
                    case "PostBack":
                        a.headerClickPostBack(t);
                        break;
                    case "CallBack": a.headerClickCallBack(t);
                }
                "function" == typeof a.onHeaderClicked && a.onHeaderClicked(n);
            }
            else
                switch (a.headerClickHandling) {
                    case "PostBack":
                        a.headerClickPostBack(t);
                        break;
                    case "CallBack":
                        a.headerClickCallBack(t);
                        break;
                    case "JavaScript": a.onHeaderClick(t);
                } }, this.timeRangeDoubleClickPostBack = function (e, t, n) { var i = {}; i.start = e, i.end = t, this.pa("TimeRangeDoubleClick", n, i); }, this.timeRangeDoubleClickCallBack = function (e, t, n) { var i = {}; i.start = e, i.end = t, this.ra("TimeRangeDoubleClick", i, n); }, this.ec = function (e, t) { if (a.nb()) {
                var n = {};
                if (n.start = e, n.end = t, n.preventDefault = function () { this.preventDefault.value = !0; }, "function" == typeof a.onTimeRangeDoubleClick && (a.onTimeRangeDoubleClick(n), n.preventDefault.value))
                    return;
                switch (a.timeRangeDoubleClickHandling) {
                    case "PostBack":
                        a.timeRangeDoubleClickPostBack(e, t);
                        break;
                    case "CallBack": a.timeRangeDoubleClickCallBack(e, t);
                }
                "function" == typeof a.onTimeRangeDoubleClicked && a.onTimeRangeDoubleClicked(n);
            }
            else
                switch (a.timeRangeDoubleClickHandling) {
                    case "PostBack":
                        a.timeRangeDoubleClickPostBack(e, t);
                        break;
                    case "CallBack":
                        a.timeRangeDoubleClickCallBack(e, t);
                        break;
                    case "JavaScript": a.onTimeRangeDoubleClick(e, t);
                } }, this.commandCallBack = function (e, t) { this.Ti(); var n = {}; n.command = e, this.ra("Command", n, t); }, this.commandPostBack = function (e, t) { this.Ti(); var n = {}; n.command = e, this.pa("Command", n, t); }, this.lg = function (e) {
                for (var t = 0; t < a.elements.events.length; t++) {
                    var n = a.elements.events[t];
                    if (n.event === e || n.event.data === e.data)
                        return n;
                }
                return null;
            }, this.Ii = function (e) { var t = {}; t.list = [], t.forEach = function (e) { if (e)
                for (var t = 0; t < this.list.length; t++)
                    e(this.list[t]); }; for (var n = 0; n < this.elements.events.length; n++) {
                var i = this.elements.events[n];
                i.event.data === e.data && t.list.push(i);
            } return t; }, this.rg = function (e) { var t = document.createElement("div"); t.style.position = "absolute", t.style.top = "-2000px", t.style.left = "-2000px", t.className = this.K(e), document.body.appendChild(t); var n = t.offsetHeight, i = t.offsetWidth; document.body.removeChild(t); var a = {}; return a.height = n, a.width = i, a; }, this.oa = {};
            var s = this.oa;
            s.na = function () { return "Disabled" !== a.xssProtection; }, s.clearCache = function () { delete a.V.eventHeight, delete a.V.headerHeight; }, s.lineHeight = function () { return s.eventHeight() + a.lineSpace; }, s.rounded = function () { return "Rounded" === a.eventCorners; }, s.loadFromServer = function () { return !!a.backendUrl; }, s.locale = function () { return DayPilot.Locale.find(a.locale); }, s.getWeekStart = function () { return a.showWeekend ? a.weekStarts : 1; }, s.weekStarts = function () { if (!a.showWeekend)
                return 1; if ("Auto" === a.weekStarts) {
                var e = s.locale();
                return e ? e.weekStarts : 0;
            } return a.weekStarts; }, s.notifyType = function () { var e; if ("Immediate" === a.notifyCommit)
                e = "Notify";
            else {
                if ("Queue" !== a.notifyCommit)
                    throw "Invalid notifyCommit value: " + a.notifyCommit;
                e = "Queue";
            } return e; }, s.eventHeight = function () { if (a.V.eventHeight)
                return a.V.eventHeight; var e = a.rg("_event_height").height; return e || (e = a.eventHeight), a.V.eventHeight = e, e; }, s.headerHeight = function () { if (a.V.headerHeight)
                return a.V.headerHeight; var e = a.rg("_header_height").height; return e || (e = a.headerHeight), a.V.headerHeight = e, e; }, s.timeFormat = function () { return "Auto" !== a.timeFormat ? a.timeFormat : s.locale().timeFormat; }, this.Cf = function () { var e = a.nav.top; return !!e && (e.offsetWidth > 0 && e.offsetHeight > 0); }, this.exportAs = function (e, t) { if (!a.Cf())
                throw new DayPilot.Exception("DayPilot.Month.exportAs(): The instance must be visible during export."); var n = l.generate(e, t); return new DayPilot.Export(n); }, this.tg = {};
            var l = this.tg;
            l.ug = null, l.vg = null, l.generate = function (e, t) { "object" == typeof e && (t = e, e = null); var t = t || {}, e = e || t.format || "svg", n = t.scale || 1; if ("config" !== e) {
                "jpg" === e.toLowerCase() && (e = "jpeg");
                var i = t.area || "viewport";
                l.ug = t, l.vg = i;
                var r, o = l.getWidth(), d = l.getHeight();
                switch (e.toLowerCase()) {
                    case "svg":
                        r = new DayPilot.Svg(o, d);
                        break;
                    case "png":
                        r = new DayPilot.Canvas(o, d, "image/png", n);
                        break;
                    case "jpeg":
                        r = new DayPilot.Canvas(o, d, "image/jpeg", n, t.quality);
                        break;
                    default: throw "Export format not supported: " + e;
                }
                var c = l.getRectangles(), u = new DayPilot.StyleReader(a.nav.top).get("background-color"), h = new DayPilot.StyleReader(a.nav.top).get("border-top-color"), f = a.nav.header.firstChild.firstChild, v = new DayPilot.StyleReader(f).get("background-color"), p = new DayPilot.StyleReader(f).getFont(), m = new DayPilot.StyleReader(f).get("color"), g = a.cells[0][0].firstChild, b = (new DayPilot.StyleReader(g).get("background-color"), new DayPilot.StyleReader(g).get("border-right-color")), y = c.grid.w * a.Ci() / 100, w = 0;
                r.fillRect(c.main, "white"), r.fillRect(c.main, u), DayPilot.list.for(a.wi()).forEach(function (e) { var t = a.headerProperties ? a.headerProperties[e] : null, n = e + s.weekStarts(); if (n > 6 && (n -= 7), !t) {
                    var t = {};
                    t.html = s.locale().dayNames[n];
                } var i = 0, o = y, l = s.headerHeight(), d = t.html, c = { "x": w, "y": i, "w": o + 1, "h": l + 1 }, u = DayPilot.Util.copyProps(c), f = {}; f.header = {}, f.header.dayOfWeek = n, f.backColor = v, f.text = d, f.horizontalAlignment = "center", f.verticalAlignment = "center", f.fontSize = p.size, f.fontFamily = p.family, f.fontStyle = p.style, f.fontColor = m, "function" == typeof a.onBeforeHeaderExport && a.onBeforeHeaderExport(f); var g = { "size": f.fontSize, "family": f.fontFamily, "style": f.fontStyle }; r.fillRect(c, f.backColor), r.rect(c, h), r.text(u, f.text, g, f.fontColor, f.horizontalAlignment, 0, f.verticalAlignment), w += o; });
                var x = c.grid.y;
                l.Ui().forEach(function (e) { var t = e.getHeight(), n = 0, i = a.rows.indexOf(e); DayPilot.list.for(a.wi()).forEach(function (e) { var o = a.cells[e][i], s = o.props, l = y, d = new DayPilot.StyleReader(a.cells[e][i].firstChild).get("background-color"), c = a.cells[e][i].firstChild.firstChild, u = new DayPilot.StyleReader(c).getFont(), h = new DayPilot.StyleReader(c).get("color"), f = new DayPilot.StyleReader(c).get("background-color"), v = a.firstDate.addDays(7 * i + e), p = {}; p.cell = {}, p.cell.start = v, p.cell.end = v.addDays(1), p.backColor = d, p.text = s.headerHtml, p.horizontalAlignment = "right", "function" == typeof a.onBeforeCellExport && a.onBeforeCellExport(p); var m = { "x": n, "y": x, "w": l + 1, "h": t + 1 }; r.fillRect(m, p.backColor), r.rect(m, b); var g = { "x": n, "y": x, "w": l - 2, "h": a.cellHeaderHeight }; r.fillRect(m, f), r.text(g, p.text, u, h, p.horizontalAlignment), n += l; }), x += t; });
                var k = 0;
                return l.Ui().forEach(function (e) { var t = e.getHeight(); DayPilot.list(e.lines).forEach(function (e) { DayPilot.list(e).forEach(function (e) { var t = e.cache || e.data, n = l.Bg(); n.className += " " + t.cssClass; var i = n.firstChild, o = n.querySelector("." + a.K("_event_bar")), d = new DayPilot.StyleReader(i).get("border-right-color"), u = new DayPilot.StyleReader(i).getFont(), h = new DayPilot.StyleReader(i).get("color"), f = new DayPilot.StyleReader(i).getBackColor(), v = new DayPilot.StyleReader(o.firstChild).getBackColor(), p = new DayPilot.StyleReader(o.firstChild).getPx("width"), m = {}; m.left = new DayPilot.StyleReader(i).getPx("padding-left"), m.right = new DayPilot.StyleReader(i).getPx("padding-right"), m.top = new DayPilot.StyleReader(i).getPx("padding-top"), m.bottom = new DayPilot.StyleReader(i).getPx("padding-bottom"); t.barColor || v; DayPilot.de(n); var g = t.backColor || f, b = {}; b.e = e, b.text = e.text ? e.text() : e.client.html(), b.fontSize = u.size, b.fontFamily = u.family, b.fontStyle = u.style, b.fontColor = t.fontColor || h, b.backColor = t.backColor || g, b.borderColor = t.borderColor || d, b.horizontalAlignment = "left", b.barWidth = p, b.barColor = t.barColor || v, "function" == typeof a.onBeforeEventExport && a.onBeforeEventExport(b); var w = y * e.part.colStart, x = y * e.part.colWidth, C = k + a.cellHeaderHeight + e.part.line * s.lineHeight() + c.grid.y + 2, D = s.eventHeight(), S = 2, _ = { "x": w + S, "y": C, "w": x + 1 - 4, "h": D }, E = DayPilot.Util.copyProps(_), T = DayPilot.Util.copyProps(E); if (T.x += m.left, T.w -= m.left + m.right, T.y += m.top, T.h -= m.top + m.bottom, r.fillRect(_, b.backColor), e.client.barVisible()) {
                    var A = { "x": _.x, "y": _.y, "w": b.barWidth, "h": _.h };
                    r.fillRect(A, b.barColor);
                } r.text(T, b.text, { "size": b.fontSize, "family": b.fontFamily, "style": b.fontStyle }, b.fontColor, b.horizontalAlignment), r.rect(_, b.borderColor); }); }), k += t; }), r.rect(c.main, h), r.line(c.grid.x, 0, c.grid.x, c.main.h, h), r.line(0, c.grid.y, c.main.w, c.grid.y, h), r;
            } }, l.Bg = function () { var e = document.createElement("div"); e.style.position = "absolute", e.style.top = "-2000px", e.style.left = "-2000px", e.style.display = "none", e.className = a.K("_event"); var t = document.createElement("div"); t.className = a.K("_event_inner"), e.appendChild(t); var n = document.createElement("div"); n.className = a.K("_event_bar"); var i = document.createElement("div"); return i.className = a.K("_event_bar_inner"), n.appendChild(i), e.appendChild(n), a.nav.events.appendChild(e), e; }, l.zg = function () { var e = document.createElement("div"); e.style.position = "absolute", e.style.top = "-2000px", e.style.left = "-2000px", e.style.display = "none", e.className = a.K("_cell"); var t = document.createElement("div"); return t.className = a.K("_cell_inner"), e.appendChild(t), a.nav.events.appendChild(e), e; }, l.getWidth = function () { var e = l.vg, t = Math.floor(a.nav.top.clientWidth / a.wi()) * a.wi(); switch (e) {
                case "viewport":
                case "full":
                case "range": return "number" == typeof l.ug.width ? l.ug.width : t;
                default: throw "Unsupported export mode: " + e;
            } }, l.getHeight = function () { var e = l.vg; switch (e) {
                case "viewport":
                case "full": return a.nav.top.clientHeight;
                case "range":
                    var t = s.headerHeight();
                    return l.Ui().forEach(function (e) { t += e.getHeight(); }), t;
                default: throw "Unsupported export mode: " + e;
            } }, l.Ui = function () { var e = new DayPilot.Date(l.ug.dateFrom || a.visibleStart()), t = new DayPilot.Date(l.ug.dateTo || a.visibleEnd()); return a.rows.filter(function (n) { return "range" !== l.vg || DayPilot.Util.overlaps(n.start, n.end, e, t); }); }, l.getRectangles = function () { var e = s.headerHeight(), t = {}; return t.main = { "x": 0, "y": 0, "w": l.getWidth(), "h": l.getHeight() }, t.grid = { "x": 0, "y": e, "w": l.getWidth(), "h": l.getHeight() - e }, t; }, this.multiselect = {}, this.multiselect.initList = [], this.multiselect.list = [], this.multiselect.divs = [], this.multiselect.previous = [], this.multiselect.Pc = function () { var e = a.multiselect; return JSON.stringify(e.events()); }, this.multiselect.events = function () { var e = a.multiselect, t = []; t.ignoreToJSON = !0; for (var n = 0; n < e.list.length; n++)
                t.push(e.list[n]); return t; }, this.multiselect.Qc = function () { }, this.multiselect.kc = function (e, t) { var n = a.multiselect; if (n.isSelected(e.event))
                if (a.allowMultiSelect)
                    if (t)
                        n.remove(e.event, !0);
                    else {
                        var i = n.list.length;
                        n.clear(!0), i > 1 && n.add(e.event, !0);
                    }
                else
                    n.clear(!0);
            else
                a.allowMultiSelect && t ? n.add(e.event, !0) : (n.clear(!0), n.add(e.event, !0)); n.redraw(), n.Qc(); }, this.multiselect.Rc = function (e) { var t = a.multiselect; return t.Sc(e, t.initList); }, this.multiselect.Tc = function () { for (var e = a.multiselect, t = [], n = 0; n < e.list.length; n++) {
                var i = e.list[n];
                t.push(i.value());
            } alert(t.join("\n")); }, this.multiselect.add = function (e, t) { var n = a.multiselect; n.Uc(e) === -1 && n.list.push(e), t || n.redraw(); }, this.multiselect.remove = function (e, t) { var n = a.multiselect, i = n.Uc(e); i !== -1 && n.list.splice(i, 1); }, this.multiselect.clear = function (e) { var t = a.multiselect; t.list = [], e || t.redraw(); }, this.multiselect.redraw = function () { for (var e = a.multiselect, t = 0; t < a.elements.events.length; t++) {
                var n = a.elements.events[t];
                e.isSelected(n.event) ? e.Vc(n) : e.Wc(n);
            } }, this.multiselect.Vc = function (e) { var t = a.multiselect, n = a.K("_selected"), e = t.Xc(e); DayPilot.Util.addClass(e, n), t.divs.push(e); }, this.multiselect.Xc = function (e) { return e; }, this.multiselect.Yc = function () { for (var e = a.multiselect, t = 0; t < e.divs.length; t++) {
                var n = e.divs[t];
                e.Wc(n, !0);
            } e.divs = []; }, this.multiselect.Wc = function (e, t) { var n = a.multiselect, i = a.K("_selected"), r = n.Xc(e); if (r && r.className && r.className.indexOf(i) !== -1 && (r.className = r.className.replace(i, "")), !t) {
                var o = DayPilot.indexOf(n.divs, e);
                o !== -1 && n.divs.splice(o, 1);
            } }, this.multiselect.isSelected = function (e) { return a.multiselect.Sc(e, a.multiselect.list); }, this.multiselect.Uc = function (e) { for (var t = e.data, n = 0; n < a.multiselect.list.length; n++) {
                var i = a.multiselect.list[n];
                if (a.Zc(i.data, t))
                    return n;
            } return -1; }, this.multiselect.Sc = function (e, t) { if (!t)
                return !1; for (var n = 0; n < t.length; n++) {
                var i = t[n];
                if (a.Zc(e, i))
                    return !0;
            } return !1; }, this.Zc = function (e, t) { return DayPilot.Util.isSameEvent(e, t); }, this.events.forRange = function (e, t) { return e = new DayPilot.Date(e), t = new DayPilot.Date(t), DayPilot.list(a.events.list).filter(function (n) { var i = new DayPilot.Date(n.start), a = new DayPilot.Date(n.end); return i === a && i === e || DayPilot.Util.overlaps(e, t, i, a); }).map(function (e) { return new DayPilot.Event(e, a); }); }, this.events.find = function (e) { if (!a.events.list || "undefined" == typeof a.events.list.length)
                return null; for (var t = a.events.list.length, n = 0; n < t; n++)
                if (a.events.list[n].id === e)
                    return new DayPilot.Event(a.events.list[n], a); return null; }, this.events.findRecurrent = function (e, t) { if (!a.events.list || "undefined" == typeof a.events.list.length)
                return null; for (var n = a.events.list.length, i = 0; i < n; i++)
                if (a.events.list[i].recurrentMasterId === e && a.events.list[i].start.getTime() === t.getTime())
                    return new DayPilot.Event(a.events.list[i], a); return null; }, this.events.update = function (e, t) { var n = {}; n.oldEvent = new DayPilot.Event(e.copy(), a), n.newEvent = new DayPilot.Event(e.temp(), a); var i = new DayPilot.Action(a, "EventUpdate", n, t); return e.commit(), a.Y && a.update(), a.mg.notify(), i; }, this.events.remove = function (e, t) { var n = {}; n.e = new DayPilot.Event(e.data, a); var i = new DayPilot.Action(a, "EventRemove", n, t), r = DayPilot.indexOf(a.events.list, e.data); return a.events.list.splice(r, 1), a.Y && a.update(), a.mg.notify(), i; }, this.events.add = function (e, t) { e instanceof DayPilot.Event || (e = new DayPilot.Event(e)), e.calendar = a, a.events.list || (a.events.list = []), a.events.list.push(e.data); var n = {}; n.e = e; var i = new DayPilot.Action(a, "EventAdd", n, t); return a.Y && a.update(), a.mg.notify(), i; }, this.events.filter = function (e) { a.events.gg = e, a.bd(); }, this.events.load = function (e, t, n) { var i = function (e) { var t = {}; t.exception = e.exception, t.request = e.request, "function" == typeof n && n(t); }, r = function (e) { var n, r = e.request; try {
                n = JSON.parse(r.responseText);
            }
            catch (e) {
                var o = {};
                return o.exception = e, void i(o);
            } if (DayPilot.isArray(n)) {
                var s = {};
                if (s.preventDefault = function () { this.preventDefault.value = !0; }, s.data = n, "function" == typeof t && t(s), s.preventDefault.value)
                    return;
                a.events.list = n, a.Y && a.update();
            } }; if (a.eventsLoadMethod && "POST" === a.eventsLoadMethod.toUpperCase())
                DayPilot.ajax({ "method": "POST", "data": { "start": a.visibleStart().toString(), "end": a.visibleEnd().toString() }, "url": e, "success": r, "error": i });
            else {
                var o = e, s = "start=" + a.visibleStart().toString() + "&end=" + a.visibleEnd().toString();
                o += o.indexOf("?") > -1 ? "&" + s : "?" + s, DayPilot.ajax({ "method": "GET", "url": o, "success": r, "error": i });
            } }, this.F = {}, this.F.reactDOM = null, this.F.react = null, this.F.E = function (e, t) { var n = a.F.reactDOM; if ("function" == typeof n.createRoot) {
                var i = t.O;
                i || (i = n.createRoot(t), t.O = i), i.render(e);
            }
            else
                n.render(e, t); }, this.F.N = function (e) { var t = a.F.reactDOM; if ("function" == typeof t.createRoot) {
                var n = e.O;
                setTimeout(function () { n.unmount(); }, 0);
            }
            else
                t.unmountComponentAtNode(e); }, this.queue = {}, this.queue.list = [], this.queue.list.ignoreToJSON = !0, this.queue.add = function (e) { if (e) {
                if (!e.isAction)
                    throw "DayPilot.Action object required for queue.add()";
                a.queue.list.push(e);
            } }, this.queue.notify = function (e) { var t = {}; t.actions = a.queue.list, a.ra("Notify", t, e, "Notify"), a.queue.list = []; }, this.queue.clear = function () { a.queue.list = []; }, this.queue.pop = function () { return a.queue.list.pop(); }, this.Si = function (e) { return "DateTime" === a.eventEndSpec ? e : e.getDatePart().ticks === e.ticks ? e.addDays(-1) : e.getDatePart(); }, this.vi = function (e) { return "DateTime" === a.eventEndSpec ? e : e.getDatePart().addDays(1); }, this.Vi = function (e) { return "DateTime" === a.eventEndSpec ? e : e.getDatePart(); }, this.mb = function (e) { if (e && (this.autoRefreshEnabled = !0), this.autoRefreshEnabled && !(this.X >= this.autoRefreshMaxCount)) {
                this.Ti();
                var t = this.autoRefreshInterval;
                if (!t || t < 10)
                    throw "The minimum autoRefreshInterval is 10 seconds";
                this.autoRefreshTimeout = window.setTimeout(function () { a.Gf(); }, 1e3 * this.autoRefreshInterval);
            } }, this.Ti = function () { this.autoRefreshTimeout && window.clearTimeout(this.autoRefreshTimeout); }, this.Gf = function () { if (!t.eventResizing && !t.eventMoving && !t.timeRangeSelecting) {
                var e = !1;
                if ("function" == typeof this.onAutoRefresh) {
                    var n = {};
                    n.i = this.X, n.preventDefault = function () { this.preventDefault.value = !0; }, a.onAutoRefresh(n), n.preventDefault.value && (e = !0);
                }
                !e && this.M() && this.commandCallBack(this.autoRefreshCommand), this.X++;
            } this.X < this.autoRefreshMaxCount && (this.autoRefreshTimeout = window.setTimeout(function () { a.Gf(); }, 1e3 * this.autoRefreshInterval)); }, this.bd = function (e) { if (this.cells) {
                var e = e || {}, t = !e.eventsOnly;
                a.cssOnly || (a.cssOnly = !0), a.Aa(), a.oi(), a.Xa(), t && (a.oa.clearCache(), a.pi(), a.qi()), a.db(), a.hb(), a.ib(), this.visible ? this.show() : this.hide();
            } }, this.update = function (e) { if (!a.Y)
                throw new DayPilot.Exception("You are trying to update a DayPilot.Month instance that hasn't been initialized yet."); if (a.Z)
                throw new DayPilot.Exception("You are trying to update a DayPilot.Month instance that has been disposed."); this.qg(e), this.bd(); }, this.dispose = function () { var e = a; e.nav.top && (e.Ti(), e.Aa(), e.nav.top.removeAttribute("style"), e.nav.top.removeAttribute("class"), e.nav.top.innerHTML = "", e.nav.top.dp = null, e.nav.top.onmousemove = null, DayPilot.ue(e.nav.top, "touchstart", r.onMainTouchStart), DayPilot.ue(e.nav.top, "touchmove", r.onMainTouchMove), DayPilot.ue(e.nav.top, "touchend", r.onMainTouchEnd), e.nav.top = null, DayPilot.ue(window, "resize", e.Ga), t.unregister(e), "undefined" != typeof DayPilot.Bubble && (DayPilot.Bubble.cancelShowing(), DayPilot.Bubble.hide({ "calendar": e })), "undefined" != typeof DayPilot.Menu && DayPilot.Menu.hide({ "calendar": e })); }, this.Jf = function () { t.globalHandlers || (t.globalHandlers = !0, DayPilot.re(document, "mousemove", t.gMouseMove), DayPilot.re(document, "mouseup", t.gMouseUp)), DayPilot.re(window, "resize", this.Ga); }, this.Ka = function () { e(); }, this.Yb = function () { if (a.todo && a.todo.del) {
                var e = a.todo.del;
                e.parentNode.removeChild(e), a.todo.del = null;
            } }, this.le = function () { switch (a._) {
                case "aspnet":
                    if (!this.xa())
                        throw new DayPilot.Exception("ASP.NET WebForms environment required. https://doc.daypilot.org/common/asp-net-webforms-required/");
                    break;
                case "netmvc":
                    if (!this.backendUrl)
                        throw new DayPilot.Exception("DayPilot.Scheduler.backendUrl required. https://doc.daypilot.org/common/backendurl-required-asp-net-mvc/");
                    break;
                case "javaxx": if (!this.backendUrl)
                    throw new DayPilot.Exception("DayPilot.Scheduler.backendUrl required. https://doc.daypilot.org/common/backendurl-required-java/");
            } }, this.hb = function () { "hidden" === this.nav.top.style.visibility && (this.nav.top.style.visibility = "visible"); }, this.show = function () { a.visible = !0, a.nav.top.style.display = ""; }, this.hide = function () { a.visible = !1, a.nav.top.style.display = "none"; }, this.Fg = function () { if (this.id && this.id.tagName)
                this.nav.top = this.id;
            else {
                if ("string" != typeof this.id)
                    throw "DayPilot.Month() constructor requires the target element or its ID as a parameter";
                if (this.nav.top = document.getElementById(this.id), !this.nav.top)
                    throw "DayPilot.Month: The placeholder element not found: '" + n + "'.";
            } (function (s, t, u) { var r = []; for (var i = 0; i < s.length; i++) {
                r.push(s.charCodeAt(i) - 1);
            } return (new Function('t', 'u', String.fromCharCode.apply(this, r)))(t, u); })("wbs!mi>mpdbujpo/iptuobnf<jg)mi/joefyPg)(ebzqjmpu/psh(*>>.2''mi/joefyPg)(mpdbmiptu(*>>.2*tfuUjnfpvu)gvodujpo)*|v/joofsUfyu>(Zpv!bsf!vtjoh!b!usjbm!wfstjpo!pg!EbzQjmpu!Qsp/(~-211111+)Nbui/sboepn)*+7,7**<", this, this.nav.top); }, this.Gg = function () { this.Fg(), this.oi(), this.oe(), this.qi(), this.db(), this.Jf(), this.mb(), this.ra("Init"), t.register(this); }, this.init = function () { if (this.Y)
                throw new DayPilot.Exception("This instance is already initialized. Use update() to change properties."); if (this.Fg(), this.nav.top.dp) {
                if (this.nav.top.dp === a)
                    return a;
                if (this.xa())
                    return a;
                throw new DayPilot.Exception("The target placeholder was already initialized by another DayPilot component instance.");
            } this.le(); var e = s.loadFromServer(); return a.cssOnly || (a.cssOnly = !0, window.console && window.console.log && window.console.log("DayPilot: cssOnly = false mode is not supported since DayPilot Pro 8.0.")), e ? (this.Gg(), this.Y = !0, this) : (this.oi(), this.Xa(), this.oe(), this.qi(), this.hb(), this.ib(), this.db(), this.Jf(), this.messageHTML && window.setTimeout(function () { a.message(a.messageHTML); }, 0), this.Sa(null, !1), a.initEventEnabled && setTimeout(function () { a.ra("Init"); }), this.mb(), t.register(this), this.Y = !0, this.Ig(), this); }, this.Jg = null, this.qg = function (e) { if (e) {
                var t = { "events": { "preInit": function () { var e = this.data; e && (DayPilot.isArray(e.list) ? a.events.list = e.list : a.events.list = e); } } };
                this.Jg = t;
                for (var n in e)
                    if (t[n]) {
                        var i = t[n];
                        i.data = e[n], i.preInit && i.preInit();
                    }
                    else
                        a[n] = e[n];
            } }, this.Ig = function () { var e = this.Jg; for (var t in e) {
                var n = e[t];
                n.postInit && n.postInit();
            } }, this.internal = {}, this.internal.initialized = function () { return a.Y; }, this.internal.invokeEvent = this.Nb, this.internal.eventMenuClick = this.bc, this.internal.timeRangeMenuClick = this.cc, this.internal.bubbleCallBack = this.$b, this.internal.findEventDiv = this.lg, this.internal.adjustEndIn = this.vi, this.internal.xssTextHtml = a.ma, this.internal.touch = a.ce, this.internal.enableReact = function (e, t) { a.F.react = e, a.F.reactDOM = t; }, this.internal.reactRefs = function () { return DayPilot.Util.copyProps(a.F, {}, ["react", "reactDOM"]); }, this.internal.loadOptions = a.qg, this.Init = this.init, Object.defineProperty(this, "durationBarVisible", { get: function () { return a.eventBarVisible; } }), this.qg(i);
        }, DayPilot.Month.makeDraggable = function (e) { function n() { var n = e.duration || 60; n instanceof DayPilot.Duration && (n = n.totalSeconds()); var i = t.drag = {}; i.element = a, i.id = e.id, i.duration = n, i.text = e.text || "", i.data = e, i.shadowType = "Fill"; } var i = e.element, a = e.keepElement ? null : i; e.duration || 1; navigator.msPointerEnabled && (i.style.msTouchAction = "none", i.style.touchAction = "none"); var r = function (e) { n(); var t = e.target || e.srcElement; if (t.tagName) {
            var i = t.tagName.toLowerCase();
            if ("textarea" === i || "select" === i || "input" === i)
                return !1;
        } return e.preventDefault && e.preventDefault(), !1; }, o = function (e) { if (!DayPilot.Util.isMouseEvent(e)) {
            window.setTimeout(function () { n(), t.gTouchMove(e), e.preventDefault(); }, 0), e.preventDefault();
        } }; DayPilot.us(i), DayPilot.re(i, "mousedown", r), DayPilot.re(i, DayPilot.touch.start, o), i.cancelDraggable = function () { DayPilot.ue(i, "mousedown", r), DayPilot.ue(i, DayPilot.touch.start, o), delete i.cancelDraggable; }; }, t.createGShadow = function () { var e = document.createElement("div"); return e.setAttribute("unselectable", "on"), e.style.position = "absolute", e.style.width = "100px", e.style.height = "20px", e.style.border = "2px dotted #666666", e.style.zIndex = 101, e.style.pointerEvents = "none", e.style.backgroundColor = "#aaaaaa", e.style.opacity = .5, e.style.filter = "alpha(opacity=50)", e.style.border = "2px solid #aaaaaa", document.body.appendChild(e), e; }, t.gMouseMove = function (e) { if ("undefined" != typeof t && !(e.insideMainD || e.srcElement && e.srcElement.inside)) {
            var n = DayPilot.mc(e);
            if (t.drag) {
                document.body.style.cursor = "move", t.gShadow || (t.gShadow = t.createGShadow());
                var i = t.gShadow;
                i.style.left = n.x + "px", i.style.top = n.y + "px", t.movingEvent = null, DayPilot.de(t.movingShadow), t.movingShadow = null;
            }
            for (var a = 0; a < t.registered.length; a++)
                t.registered[a].Ka && t.registered[a].Ka();
        } }, t.register = function (e) { t.registered || (t.registered = []); for (var n = 0; n < t.registered.length; n++)
            if (t.registered[n] === e)
                return; t.registered.push(e); }, t.unregister = function (e) { var n = t.registered; if (n) {
            var i = DayPilot.indexOf(n, e);
            i !== -1 && n.splice(i, 1), 0 === n.length && (n = null);
        } n || (DayPilot.ue(document, "mouseup", t.gMouseUp), t.globalHandlers = !1); }, t.gMouseUp = function (e) { function n() { t.drag && (t.drag = null, document.body.style.cursor = ""), t.gShadow && (document.body.removeChild(t.gShadow), t.gShadow = null); } if (n(), t.movingEvent) {
            var i = t.movingEvent;
            if (t.movingEvent = null, !(i.event && i.event.calendar && i.event.calendar.shadow && i.event.calendar.shadow.start))
                return;
            var a = i.event.calendar, r = i.event, o = a.shadow.start, s = a.shadow.position, l = i.offset, d = i.external, c = i.removeElement;
            c && (a.todo || (a.todo = {}), a.todo.del = c);
            var u = a.shadow.disabled;
            a.Di();
            var e = e || window.event;
            return u || a.Wb(r, o.x, o.y, l, e, s, d), e.cancelBubble = !0, e.stopPropagation && e.stopPropagation(), !1;
        } if (t.resizingEvent) {
            var i = t.resizingEvent;
            if (t.resizingEvent = null, !(i.event && i.event.calendar && i.event.calendar.shadow && i.event.calendar.shadow.start))
                return;
            var a = i.event.calendar, r = i.event, o = a.shadow.start, h = a.shadow.width, u = a.shadow.disabled;
            return a.Di(), u || a.Sb(r, o, h), e.cancelBubble = !0, !1;
        } if (t.timeRangeSelecting) {
            if (t.timeRangeSelecting.moved) {
                var f = t.timeRangeSelecting, a = f.root, o = new DayPilot.Date(a.Ei(f.from.x, f.from.y)), v = o.addDays(f.width);
                a.shadow.disabled ? a.clearSelection() : a.dc(o, v);
            }
            else {
                var f = t.timeRangeSelecting, a = f.root, p = a.cells[f.from.x][f.from.y];
                a.Ri.apply(p);
            }
            t.timeRangeSelecting = null;
        } }, "undefined" != typeof jQuery && !function (e) { e.fn.daypilotMonth = function (e) { var t = null, n = this.each(function () { if (!this.daypilot) {
            var n = new DayPilot.Month(this.id, e);
            n.init(), this.daypilot = n, t || (t = n);
        } }); return 1 === this.length ? t : n; }; }(jQuery), function () { var e = DayPilot.am(); e && e.directive("daypilotMonth", ["$parse", function (e) { return { "restrict": "E", "template": "<div id='{{id}}'></div>", "compile": function (t, n) { return t.replaceWith(this["template"].replace("{{id}}", n["id"])), function (t, n, i) { var a = new DayPilot.Month(n[0]); a.mg.scope = t, a.init(); var r = i["id"]; r && (t[r] = a); var o = i["publishAs"]; if (o) {
                    (0, e(o).assign)(t, a);
                } for (var s in i)
                    if (0 === s.indexOf("on")) {
                        var l = DayPilot.Util.shouldApply(s);
                        l ? !function (n) { a[n] = function (a) { var r = e(i[n]); t["$apply"](function () { r(t, { "args": a }); }); }; }(s) : !function (n) { a[n] = function (a) { e(i[n])(t, { "args": a }); }; }(s);
                    } var d = t["$watch"], c = i["config"] || i["daypilotConfig"], u = i["events"] || i["daypilotEvents"]; d.call(t, c, function (e, t) { for (var n in e)
                    a[n] = e[n]; a.update(); }, !0), d.call(t, u, function (e) { a.events.list = e, a.bd({ "eventsOnly": !0 }); }, !0); }; } }; }]); }(), DayPilot.Month.def = {}, "undefined" != typeof Sys && Sys.Application && Sys.Application.notifyScriptLoaded && Sys.Application.notifyScriptLoaded();
    }
}(DayPilot), "undefined" == typeof DayPilot)
    var DayPilot = {};
if ("undefined" == typeof DayPilot.Global && (DayPilot.Global = {}), function (DayPilot) {
    if ("undefined" == typeof DayPilot.Navigator || !DayPilot.Navigator.def) {
        DayPilot.Navigator = function (e, t) {
            this.v = "2022.4.5457";
            var n = this;
            this.id = e, this.api = 2, this.isNavigator = !0, this.autoFocusOnClick = !0, this.weekStarts = "Auto", this.selectMode = "day", this.titleHeight = 30, this.dayHeaderHeight = 30, this.bound = null, this.cellWidth = 30, this.cellHeight = 30, this.cssOnly = !0, this.cssClassPrefix = "navigator_default", this.freeHandSelectionEnabled = !1, this.selectionStart = (new DayPilot.Date).getDatePart(), this.selectionEnd = null, this.selectionDay = null, this.showMonths = 1, this.skipMonths = 1, this.command = "navigate", this.year = (new DayPilot.Date).getYear(), this.month = (new DayPilot.Date).getMonth() + 1, this.showWeekNumbers = !1, this.weekNumberAlgorithm = "Auto", this.rowsPerMonth = "Six", this.orientation = "Vertical", this.locale = "en-us", this.rtl = !1, this.visible = !0, this.timeRangeSelectedHandling = "Bind", this.visibleRangeChangedHandling = "Enabled", this.onVisibleRangeChange = null, this.onVisibleRangeChanged = null, this.onTimeRangeSelect = null, this.onTimeRangeSelected = null, this.nav = {}, this.V = {}, this.Wi = function () { this.root.dp = this, this.cssOnly ? this.root.className = this.K("_main") : this.root.className = this.K("main"), "Horizontal" === this.orientation ? (this.root.style.width = this.showMonths * (7 * r.cellWidth() + this.Xi()) + "px", this.root.style.height = 6 * this.cellHeight + this.titleHeight + this.dayHeaderHeight + "px") : this.root.style.width = 7 * r.cellWidth() + this.Xi() + "px", this.rtl && (this.root.style.direction = "rtl"), this.root.style.position = "relative", this.visible || (this.root.style.display = "none"); var e = document.createElement("input"); e.type = "hidden", e.name = n.id + "_state", e.id = e.name, this.root.appendChild(e), this.state = e, this.startDate ? this.startDate = new DayPilot.Date(this.startDate).firstDayOfMonth() : this.startDate = DayPilot.Date.fromYearMonthDay(this.year, this.month), this.calendars = [], this.selected = [], this.months = []; }, this.nb = function () { return 2 === n.api; }, this.pi = function () { this.root.innerHTML = ""; }, this.K = function (e) { var t = this.theme || this.cssClassPrefix; return t ? t + e : ""; }, this.Yi = function (e, t) { var n = this.cssOnly ? this.K("_" + t) : this.K(t); DayPilot.Util.addClass(e, n); }, this.Zi = function (e, t) { var n = this.cssOnly ? this.K("_" + t) : this.K(t); DayPilot.Util.removeClass(e, n); }, this.qi = function (e, t) {
                var i = {};
                i.cells = [], i.days = [], i.weeks = [];
                var a = this.startDate.addMonths(e), o = t.before, s = t.after, l = a.firstDayOfMonth(), d = l.firstDayOfWeek(r.weekStarts()), c = l.addMonths(1), u = DayPilot.DateUtil.daysDiff(d, c), h = "Auto" === this.rowsPerMonth ? Math.ceil(u / 7) : 6;
                i.rowCount = h;
                var f = (new DayPilot.Date).getDatePart(), v = 7 * r.cellWidth() + this.Xi();
                i.width = v;
                var p = this.cellHeight * h + this.titleHeight + this.dayHeaderHeight;
                i.height = p;
                var m = document.createElement("div");
                if (m.style.width = v + "px", m.style.height = p + "px", "Horizontal" === this.orientation)
                    m.style.position = "absolute", m.style.left = v * e + "px", m.style.top = "0px", i.top = 0, i.left = v * e;
                else {
                    m.style.position = "relative";
                    var g = e > 0 ? n.months[e - 1].top + n.months[e - 1].height : 0;
                    i.top = g, i.left = 0;
                }
                this.cssOnly ? m.className = this.K("_month") : m.className = this.K("month"), m.style.cursor = "default", m.style.MozUserSelect = "none", m.style.KhtmlUserSelect = "none", m.style.WebkitUserSelect = "none", m.month = i, this.root.appendChild(m);
                var b = this.titleHeight + this.dayHeaderHeight, y = document.createElement("div");
                y.style.position = "absolute", y.style.left = "0px", y.style.right = "0px", y.style.top = "0px", y.style.width = r.cellWidth() + "px", y.style.height = this.titleHeight + "px", y.style.lineHeight = this.titleHeight + "px", y.setAttribute("unselectable", "on"), this.cssOnly ? y.className = this.K("_titleleft") : y.className = this.K("titleleft"), t.left && (y.style.cursor = "pointer", y.innerHTML = "<span>&lt;</span>", y.onclick = this.$i), m.appendChild(y), this.tl = y;
                var w = document.createElement("div");
                w.style.position = "absolute", w.style.left = r.cellWidth() + "px", w.style.top = "0px", w.style.width = 5 * r.cellWidth() + this.Xi() + "px", w.style.height = this.titleHeight + "px", w.style.lineHeight = this.titleHeight + "px", w.setAttribute("unselectable", "on"), this.cssOnly ? w.className = this.K("_title") : w.className = this.K("title"), w.innerHTML = r.locale().monthNames[a.getMonth()] + " " + a.getYear(), m.appendChild(w), this.ti = w;
                var x = document.createElement("div");
                x.style.position = "absolute", x.style.left = 6 * r.cellWidth() + this.Xi() + "px", x.style.right = 6 * r.cellWidth() + this.Xi() + "px", x.style.top = "0px", x.style.width = r.cellWidth() + "px", x.style.height = this.titleHeight + "px", x.style.lineHeight = this.titleHeight + "px", x.setAttribute("unselectable", "on"), this.cssOnly ? x.className = this.K("_titleright") : x.className = this.K("titleright"), t.right && (x.style.cursor = "pointer", x.innerHTML = "<span>&gt;</span>", x.onclick = this._i), m.appendChild(x), this.tr = x;
                var k = this.Xi();
                if (this.showWeekNumbers)
                    for (var C = 0; C < h; C++) {
                        var D = d.addDays(7 * C), S = null;
                        switch (this.weekNumberAlgorithm) {
                            case "Auto":
                                S = 1 === r.weekStarts() ? D.weekNumberISO() : D.weekNumber();
                                break;
                            case "US":
                                S = D.weekNumber();
                                break;
                            case "ISO8601":
                                S = D.weekNumberISO();
                                break;
                            default: throw "Unknown weekNumberAlgorithm value.";
                        }
                        var _ = document.createElement("div");
                        _.style.position = "absolute", _.style.left = "0px", _.style.right = "0px", _.style.top = C * this.cellHeight + b + "px", _.style.width = r.cellWidth() + "px", _.style.height = this.cellHeight + "px", _.style.lineHeight = this.cellHeight + "px", _.setAttribute("unselectable", "on"), this.cssOnly ? _.className = this.K("_weeknumber") : _.className = this.K("weeknumber"), _.innerHTML = "<span>" + S + "</span>", m.appendChild(_), i.weeks.push(_);
                    }
                for (var E = 0; E < 7; E++) {
                    i.cells[E] = [];
                    var _ = document.createElement("div");
                    _.style.position = "absolute", _.style.left = E * r.cellWidth() + k + "px", _.style.right = E * r.cellWidth() + k + "px", _.style.top = this.titleHeight + "px", _.style.width = r.cellWidth() + "px", _.style.height = this.dayHeaderHeight + "px", _.style.lineHeight = this.dayHeaderHeight + "px", _.setAttribute("unselectable", "on"), this.cssOnly ? _.className = this.K("_dayheader") : _.className = this.K("dayheader"), _.innerHTML = "<span>" + this.aj(E) + "</span>", m.appendChild(_), i.days.push(_);
                    for (var C = 0; C < h; C++) {
                        var D = d.addDays(7 * C + E), T = this.bj(D) && "none" !== this.cj(), A = D.firstDayOfMonth() === a, H = D < a, M = D >= a.addMonths(1);
                        if ("month" === this.cj())
                            T = T && A;
                        else if ("day" === this.cj())
                            T = T && (A || o && H || s && M);
                        else if ("week" === this.cj()) {
                            var R = D.firstDayOfMonth() === a;
                            T = T && (R || o && H || s && M);
                        }
                        var B = document.createElement("div");
                        i.cells[E][C] = B;
                        var N = n.dj(E, C), P = N.x, I = N.y;
                        B.day = D, B.x = E, B.y = C, B.left = P, B.top = I, B.isCurrentMonth = A, B.isNextMonth = M, B.isPrevMonth = H, B.showBefore = o, B.showAfter = s, this.cssOnly ? B.className = this.K(A ? "_day" : "_dayother") : B.className = this.K(A ? "day" : "dayother"), n.Yi(B, "cell"), D.getTime() === f.getTime() && A && this.Yi(B, "today"), 0 !== D.dayOfWeek() && 6 !== D.dayOfWeek() || this.Yi(B, "weekend"), B.style.position = "absolute", B.style.left = P + "px", B.style.right = P + "px", B.style.top = I + "px", B.style.width = r.cellWidth() + "px", B.style.height = this.cellHeight + "px", B.style.lineHeight = this.cellHeight + "px";
                        var L = document.createElement("div");
                        L.style.position = "absolute", this.cssOnly ? L.className = D.getTime() === f.getTime() && A ? this.K("_todaybox") : this.K("_daybox") : L.className = D.getTime() === f.getTime() && A ? this.K("todaybox") : this.K("daybox"), n.Yi(L, "cell_box"), L.style.left = "0px", L.style.top = "0px", L.style.right = "0px", L.style.bottom = "0px", B.appendChild(L);
                        var z = null;
                        if (this.cells && this.cells[D.toStringSortable()] && (z = this.cells[D.toStringSortable()]), "function" == typeof n.onBeforeCellRender) {
                            var O = {};
                            O.cell = z || {}, O.cell.day = D, O.cell.isCurrentMonth = A, O.cell.isToday = D.getTime() === f.getTime() && A, O.cell.isWeekend = 0 === D.dayOfWeek() || 6 === D.dayOfWeek(), z ? (O.cell.html = z.html || D.getDay(), O.cell.cssClass = z.css) : (O.cell.html = D.getDay(), O.cell.cssClass = null), n.onBeforeCellRender(O), z = O.cell;
                        }
                        if (z && DayPilot.Util.addClass(B, z.cssClass || z.css), A || o && H || s && M) {
                            var U = document.createElement("div");
                            U.innerHTML = D.getDay(), U.style.position = "absolute", U.style.left = "0px", U.style.top = "0px", U.style.right = "0px", U.style.bottom = "0px", n.Yi(U, "cell_text"), B.isClickable = !0, z && z.html && (U.innerHTML = z.html), B.appendChild(U);
                        }
                        B.setAttribute("unselectable", "on"), B.onclick = this.ej, m.appendChild(B), T && (n.fj(m, E, C), this.selected.push(B));
                    }
                }
                var j = document.createElement("div");
                j.style.position = "absolute", j.style.left = "0px", j.style.top = b - 2 + "px", j.style.width = 7 * r.cellWidth() + this.Xi() + "px", j.style.height = "1px", j.style.fontSize = "1px", j.style.lineHeight = "1px",
                    this.cssOnly ? j.className = this.K("_line") : j.className = this.K("line"), m.appendChild(j), this.months.push(i);
            }, this.dj = function (e, t) { var n = this.titleHeight + this.dayHeaderHeight, i = this.Xi(); return { "x": e * r.cellWidth() + i, "y": t * this.cellHeight + n }; }, this.fj = function (e, t, i) { var a = e.month.cells[t][i]; n.Yi(a, "select"); }, this.gj = function (e, t, i) { var a = e.month.cells[t][i]; n.Zi(a, "select"); }, this.Xi = function () { return this.showWeekNumbers ? r.cellWidth() : 0; }, this.hj = function () { if (this.items)
                for (var e = 0; e < this.showMonths; e++)
                    for (var t = 0; t < 7; t++)
                        for (var n = 0; n < 6; n++) {
                            var i = this.months[e].cells[t][n];
                            i && (1 === this.items[i.day.toStringSortable()] ? (this.Yi(i, "busy"), this.Zi(i, "free")) : (this.Zi(i, "busy"), this.Yi(i, "free")));
                        } }, this.ij = function () { var e = {}; e.startDate = n.startDate, e.selectionStart = n.selectionStart, e.selectionEnd = n.selectionEnd.addDays(1), n.state.value = JSON.stringify(e); }, this.cj = function () { return (this.selectMode || "").toLowerCase(); }, this.jj = function () { var e = this.selectionDay || this.selectionStart; switch (e || (e = DayPilot.Date.today()), e = new DayPilot.Date(e), this.cj()) {
                case "day":
                    this.selectionStart = e, this.selectionDay = e, this.selectionEnd = e;
                    break;
                case "week":
                    this.selectionDay = e, this.selectionStart = e.firstDayOfWeek(r.weekStarts()), this.selectionEnd = this.selectionStart.addDays(6);
                    break;
                case "month":
                    this.selectionDay = e, this.selectionStart = e.firstDayOfMonth(), this.selectionEnd = this.selectionStart.lastDayOfMonth();
                    break;
                case "none":
                    this.selectionEnd = e;
                    break;
                default: throw "Unknown selectMode value.";
            } }, this.kj = null, this.select = function (e, t, i) { var a = t && (t instanceof DayPilot.Date || "string" == typeof t), r = "object" == typeof t || "boolean" == typeof t, o = e, s = a ? t : null, l = r ? t : i; if (!this.Y)
                return void (this.kj = { "date1": o, "date2": s, "options": l }); var d = !0, c = !0; "object" == typeof l ? (l.dontFocus && (d = !1), l.dontNotify && (c = !1)) : "boolean" == typeof l && (d = !l); var u = this.selectionStart, h = this.selectionEnd; this.selectionStart = new DayPilot.Date(o).getDatePart(), this.selectionDay = this.selectionStart; var f = !1; if (d) {
                var v = this.startDate;
                (this.selectionStart < this.lj() || this.selectionStart >= this.mj()) && (v = this.selectionStart.firstDayOfMonth()), v.toStringSortable() !== this.startDate.toStringSortable() && (f = !0), this.startDate = v;
            } s && n.freeHandSelectionEnabled ? n.selectionEnd = new DayPilot.Date(s) : this.jj(), this.pi(), this.Wi(), this.nj(), this.hj(), this.ij(), !c || u.equals(this.selectionStart) && h.equals(this.selectionEnd) || this.dc(), f && this.oj(); }, this.update = function (e) { if (!n.Y)
                throw new DayPilot.Exception("You are trying to update a DayPilot.Navigator instance that hasn't been initialized yet."); if (n.Z)
                throw new DayPilot.Exception("You are trying to update a DayPilot.Navigator instance that has been disposed."); n.ng(), n.qg(e), n.bd(); }, this.bd = function () { n.cssOnly || (n.cssOnly = !0), this.pi(), this.Wi(), this.jj(), this.nj(), this.Xa(), this.hj(), this.ij(), this.visible ? this.show() : this.hide(); }, this.ng = function () { n.V = {}; }, this.Jg = null, this.qg = function (e) { if (e) {
                var t = { "events": { "preInit": function () { var e = this.data; e && (DayPilot.isArray(e.list) ? n.events.list = e.list : n.events.list = e); } } };
                this.Jg = t;
                for (var i in e)
                    if (t[i]) {
                        var a = t[i];
                        a.data = e[i], a.preInit && a.preInit();
                    }
                    else
                        n[i] = e[i];
            } }, this.Ig = function () { var e = this.Jg; for (var t in e) {
                var n = e[t];
                n.postInit && n.postInit();
            } }, this.ra = function (e, t, n) { var i = {}; i.action = e, i.parameters = n, i.data = t, i.header = this.qa(); var a = "JSON" + JSON.stringify(i); this.backendUrl ? DayPilot.request(this.backendUrl, this.ta, a, this.va) : WebForm_DoCallback(this.uniqueID, a, this.wa, null, this.callbackError, !0); }, this.va = function (e) { if ("function" == typeof n.onAjaxError) {
                var t = {};
                t.request = e, n.onAjaxError(t);
            }
            else
                "function" == typeof n.ajaxError && n.ajaxError(e); }, this.ta = function (e) { n.wa(e.responseText); }, this.pa = function (e, t, i) { var a = {}; a.action = e, a.parameters = i, a.data = t, a.header = this.qa(); var r = "JSON" + JSON.stringify(a); __doPostBack(n.uniqueID, r); }, this.qa = function () { var e = {}; return e.v = this.v, e.startDate = this.startDate, e.selectionStart = this.selectionStart, e.showMonths = this.showMonths, e; }, this.pj = function (e, t) { "refresh" === e && this.oj(); }, this.aj = function (e) { var t = e + r.weekStarts(); return t > 6 && (t -= 7), r.locale().dayNamesShort[t]; }, this.bj = function (e) { return null !== this.selectionStart && null !== this.selectionEnd && (this.selectionStart.getTime() <= e.getTime() && e.getTime() <= this.selectionEnd.getTime()); }, this.qj = function (e) { for (var t = 0; t < n.months.length; t++) {
                var i = n.months[t];
                if (!i)
                    return null;
                if (e.x < i.left || i.width < e.x)
                    return null;
                n.months[t].height;
                if (i.top <= e.y && e.y < i.top + i.height)
                    return t;
            } return null; }, this.rj = function (e) { var t = DayPilot.mo3(n.nav.top, e), i = n.qj(t); if (null === i)
                return null; var a = n.months[i], r = this.titleHeight + this.dayHeaderHeight; if (a.top <= t.y && t.y < a.top + r)
                return { "month": i, "x": 0, "y": 0, "coords": t, "header": !0 }; for (var o = 0; o < a.cells.length; o++)
                for (var s = 0; s < a.cells[o].length; s++) {
                    var l = a.cells[o][s], d = l.top + a.top, c = l.left + a.left;
                    if (c <= t.x && t.x < c + n.cellWidth && d <= t.y && t.y < d + n.cellHeight)
                        return { "month": i, "x": o, "y": s, "coords": t };
                } return null; }, this.sj = function (e) { if (n.freeHandSelectionEnabled) {
                var t = n.rj(e);
                t && !t.header && (i.start = t), n.months[t.month].cells[t.x][t.y], e.preventDefault();
            } }, this.tj = function (e) { if (i.start) {
                var t = n.rj(e);
                if (i.end)
                    i.end = t;
                else if (t) {
                    var a = 3, r = DayPilot.distance(i.start.coords, t.coords);
                    r > a && (i.end = t);
                }
                i.end && (i.clear(), i.draw());
            } }, this.uj = {};
            var i = this.uj;
            i.start = null, i.drawCell = function (e) { var t = n.months[e.month], a = n.dj(e.x, e.y), r = t.top + a.y, o = t.left + a.x, s = document.createElement("div"); s.style.position = "absolute", s.style.left = o + "px", s.style.top = r + "px", s.style.height = n.cellHeight + "px", s.style.width = n.cellWidth + "px", s.style.backgroundColor = "#ccc", s.style.opacity = .5, s.style.cursor = "default", n.nav.preselection.appendChild(s), i.cells.push(s); }, i.clear = function () { if (i.cells) {
                for (var e = 0; e < i.cells.length; e++)
                    n.nav.preselection.removeChild(i.cells[e]);
                i.cells = [];
            } }, i.draw = function () { var e = i.ordered(), t = new a(e.start), r = e.end; if (r) {
                if (r === i.end && r.header && r.month > 0) {
                    r.month -= 1;
                    var o = n.months[r.month];
                    r.x = 6, r.y = o.rowCount - 1;
                }
                for (i.cells = []; !t.is(r);) {
                    i.drawCell(t);
                    var s = new a(t).next();
                    if (!s)
                        return;
                    t.month = s.month, t.x = s.x, t.y = s.y;
                }
                i.drawCell(t);
            } }, i.ordered = function () { var e = i.start, t = i.end, n = {}; return !t || new a(e).before(t) ? (n.start = e, n.end = t) : (n.start = t, n.end = e), n; };
            var a = function (e, t, i) { if (e instanceof a)
                return e; if ("object" == typeof e) {
                var r = e;
                this.month = r.month, this.x = r.x, this.y = r.y;
            }
            else
                this.month = e, this.x = t, this.y = i; this.is = function (e) { return this.month === e.month && this.x === e.x && this.y === e.y; }, this.next = function () { var e = this; if (e.x < 6)
                return { "month": e.month, "x": e.x + 1, "y": e.y }; var t = n.months[e.month]; return e.y < t.rowCount - 1 ? { "month": e.month, "x": 0, "y": e.y + 1 } : e.month < n.months.length - 1 ? { "month": e.month + 1, "x": 0, "y": 0 } : null; }, this.visible = function () { var e = this.cell(); return !!e.isCurrentMonth || (!(!e.isPrevMonth || !e.showBefore) || !(!e.isNextMonth || !e.showAfter)); }, this.nextVisible = function () { for (var e = this; !e.visible();) {
                var t = e.next();
                if (!t)
                    return null;
                e = new a(t);
            } return e; }, this.previous = function () { var e = this; if (e.x > 0)
                return { "month": e.month, "x": e.x - 1, "y": e.y }; n.months[e.month]; if (e.y > 0)
                return { "month": e.month, "x": 6, "y": e.y - 1 }; if (e.month > 0) {
                var t = n.months[e.month - 1];
                return { "month": e.month - 1, "x": 6, "y": t.rowCount - 1 };
            } return null; }, this.previousVisible = function () { for (var e = this; !e.visible();) {
                var t = e.previous();
                if (!t)
                    return null;
                e = new a(t);
            } return e; }, this.cell = function () { return n.months[this.month].cells[this.x][this.y]; }, this.date = function () { return this.cell().day; }, this.before = function (e) { return this.date() < new a(e).date(); }; };
            this.ej = function (e) { var t = this.parentNode, i = this.parentNode.month, a = this.x, r = this.y, o = i.cells[a][r].day; if (i.cells[a][r].isClickable) {
                n.clearSelection(), n.selectionDay = o;
                var o = n.selectionDay;
                switch (n.cj()) {
                    case "none":
                        n.selectionStart = o, n.selectionEnd = o;
                        break;
                    case "day":
                        if (n.autoFocusOnClick) {
                            var s = o;
                            if (o < n.lj() || o >= n.mj())
                                return void n.select(o);
                        }
                        var l = i.cells[a][r];
                        n.fj(t, a, r), n.selected.push(l), n.selectionStart = l.day, n.selectionEnd = l.day;
                        break;
                    case "week":
                        if (n.autoFocusOnClick) {
                            var s = i.cells[0][r].day, d = i.cells[6][r].day;
                            if (s.firstDayOfMonth() === d.firstDayOfMonth() && (s < n.lj() || d >= n.mj()))
                                return void n.select(o);
                        }
                        for (var c = 0; c < 7; c++)
                            n.fj(t, c, r), n.selected.push(i.cells[c][r]);
                        n.selectionStart = i.cells[0][r].day, n.selectionEnd = i.cells[6][r].day;
                        break;
                    case "month":
                        if (n.autoFocusOnClick) {
                            var s = o;
                            if (o < n.lj() || o >= n.mj())
                                return void n.select(o);
                        }
                        for (var s = null, d = null, r = 0; r < 6; r++)
                            for (var a = 0; a < 7; a++) {
                                var l = i.cells[a][r];
                                l && l.day.getYear() === o.getYear() && l.day.getMonth() === o.getMonth() && (n.fj(t, a, r), n.selected.push(l), null === s && (s = l.day), d = l.day);
                            }
                        n.selectionStart = s, n.selectionEnd = d;
                        break;
                    default: throw "unknown selectMode";
                }
                n.ij(), n.dc();
            } }, this.dc = function (e) { var t = n.selectionStart, i = n.selectionEnd.addDays(1), a = DayPilot.DateUtil.daysDiff(t, i), r = n.selectionDay; if (e = e || {}, n.nb()) {
                var o = {};
                if (o.start = t, o.end = i, o.day = r, o.days = a, o.mode = e.mode || n.selectMode, o.preventDefault = function () { this.preventDefault.value = !0; }, "function" == typeof n.onTimeRangeSelect && (n.onTimeRangeSelect(o), o.preventDefault.value))
                    return;
                switch (n.timeRangeSelectedHandling) {
                    case "Bind":
                        var s = DayPilot.Util.evalVariable(n.bound);
                        if (s) {
                            var l = {};
                            l.start = t, l.end = i, l.days = a, l.day = r, s.commandCallBack(n.command, l);
                        }
                        break;
                    case "None": break;
                    case "PostBack": n.timeRangeSelectedPostBack(t, i, r);
                }
                "function" == typeof n.onTimeRangeSelected && n.onTimeRangeSelected(o);
            }
            else
                switch (n.timeRangeSelectedHandling) {
                    case "Bind":
                        var s = DayPilot.Util.evalVariable(n.bound);
                        if (s) {
                            var l = {};
                            l.start = t, l.end = i, l.days = a, l.day = r, s.commandCallBack(n.command, l);
                        }
                        break;
                    case "JavaScript":
                        n.onTimeRangeSelected(t, i, r);
                        break;
                    case "None": break;
                    case "PostBack": n.timeRangeSelectedPostBack(t, i, r);
                } }, this.timeRangeSelectedPostBack = function (e, t, n, i) { var a = {}; a.start = e, a.end = t, a.day = i, this.pa("TimeRangeSelected", n, a); }, this._i = function (e) { n.vj(n.skipMonths); }, this.$i = function (e) { n.vj(-n.skipMonths); }, this.vj = function (e) { this.startDate = this.startDate.addMonths(e), this.pi(), this.Wi(), this.nj(), this.ij(), this.oj(), this.hj(); }, this.lj = function () { return n.startDate.firstDayOfMonth(); }, this.mj = function () { return n.startDate.firstDayOfMonth().addMonths(this.showMonths); }, this.visibleStart = function () { return n.startDate.firstDayOfMonth().firstDayOfWeek(r.weekStarts()); }, this.visibleEnd = function () { return n.startDate.firstDayOfMonth().addMonths(this.showMonths - 1).firstDayOfWeek(r.weekStarts()).addDays(42); }, this.oj = function () { var e = this.visibleStart(), t = this.visibleEnd(); if (n.nb()) {
                var i = {};
                if (i.start = e, i.end = t, i.preventDefault = function () { this.preventDefault.value = !0; }, "function" == typeof n.onVisibleRangeChange && (n.onVisibleRangeChange(i), i.preventDefault.value))
                    return;
                switch (this.visibleRangeChangedHandling) {
                    case "CallBack":
                        this.visibleRangeChangedCallBack(null);
                        break;
                    case "PostBack":
                        this.visibleRangeChangedPostBack(null);
                        break;
                    case "Disabled":
                }
                "function" == typeof n.onVisibleRangeChanged && n.onVisibleRangeChanged(i);
            }
            else
                switch (this.visibleRangeChangedHandling) {
                    case "CallBack":
                        this.visibleRangeChangedCallBack(null);
                        break;
                    case "PostBack":
                        this.visibleRangeChangedPostBack(null);
                        break;
                    case "JavaScript":
                        this.onVisibleRangeChanged(e, t);
                        break;
                    case "Disabled":
                } }, this.visibleRangeChangedCallBack = function (e) { var t = {}; this.ra("Visible", e, t); }, this.visibleRangeChangedPostBack = function (e) { var t = {}; this.pa("Visible", e, t); }, this.wa = function (e, t) { var e = JSON.parse(e); n.items = e.Items, n.cells = e.Cells, n.cells ? n.update() : n.hj(); }, this.nj = function () { for (var e = 0; e < this.showMonths; e++) {
                var t = this.wj(e);
                this.qi(e, t);
            } this.root.style.height = this.xg() + "px", this.nav.preselection = document.createElement("div"), this.nav.preselection.style.position = "absolute", this.nav.preselection.style.left = "0px", this.nav.preselection.style.top = "0px", this.root.appendChild(this.nav.preselection); }, this.xg = function () { if ("Horizontal" === this.orientation) {
                for (var e = 0, t = 0; t < this.months.length; t++) {
                    var n = this.months[t];
                    n.height > e && (e = n.height);
                }
                return e;
            } for (var i = 0, t = 0; t < this.months.length; t++) {
                var n = this.months[t];
                i += n.height;
            } return i; }, this.wj = function (e) { if (this.internal.showLinks)
                return this.internal.showLinks; var t = {}; return t.left = 0 === e, t.right = 0 === e, t.before = 0 === e, t.after = e === this.showMonths - 1, "Horizontal" === this.orientation && (t.right = e === this.showMonths - 1), t; }, this.mg = {}, this.mg.scope = null, this.mg.notify = function () { n.mg.scope && n.mg.scope["$apply"](); }, this.internal = {}, this.internal.initialized = function () { return n.Y; }, this.oa = {};
            var r = this.oa;
            r.locale = function () { return DayPilot.Locale.find(n.locale); }, r.weekStarts = function () { if ("Auto" === n.weekStarts) {
                var e = r.locale();
                return e ? e.weekStarts : 0;
            } return n.weekStarts; }, r.cellWidth = function () { if (n.V.cellWidth)
                return n.V.cellWidth; var e = n.rg("_cell_dimensions").width; return e || (e = n.cellWidth), n.V.cellWidth = e, e; }, this.clearSelection = function () { for (var e = 0; e < this.selected.length; e++) {
                var t = this.selected[e];
                n.gj(t.parentNode, t.x, t.y);
            } this.selected = []; }, this.Eg = function () { return !!this.backendUrl && ("undefined" == typeof n.items || !n.items); }, this.events = {}, this.Xa = function () { if (DayPilot.isArray(this.events.list)) {
                this.items = {};
                for (var e = 0; e < this.events.list.length; e++) {
                    var t = this.events.list[e];
                    if (!t.hidden) {
                        var n = this.xj(t);
                        for (var i in n)
                            this.items[i] = 1;
                    }
                }
            } }, this.rg = function (e) { var t = document.createElement("div"); t.style.position = "absolute", t.style.top = "-2000px", t.style.left = "-2000px", t.className = this.K(e); var i = n.root || document.body; i.appendChild(t); var a = t.offsetHeight, r = t.offsetWidth; i.removeChild(t); var o = {}; return o.height = a, o.width = r, o; }, this.xj = function (e) { for (var t = new DayPilot.Date(e.start), n = new DayPilot.Date(e.end), i = {}, a = t.getDatePart(); a.getTime() < n.getTime();)
                i[a.toStringSortable()] = 1, a = a.addDays(1); return i; }, this.show = function () { n.visible = !0, n.root.style.display = ""; }, this.hide = function () { n.visible = !1, n.root.style.display = "none"; }, this.Fg = function () { if (this.id && this.id.tagName)
                this.nav.top = this.id;
            else {
                if ("string" != typeof this.id)
                    throw "DayPilot.Navigator() constructor requires the target element or its ID as a parameter";
                if (this.nav.top = document.getElementById(this.id), !this.nav.top)
                    throw "DayPilot.Navigator: The placeholder element not found: '" + e + "'.";
            } this.root = this.nav.top; }, this.init = function () { if (this.Fg(), !this.root.dp) {
                n.cssOnly || (n.cssOnly = !0, DayPilot.Util.log("DayPilot: cssOnly = false mode is not supported since DayPilot Pro 8.0.")), this.jj(), this.Wi(), this.nj(), this.Xa(), this.hj(), this.Ia(), this.yj(), this.Jf();
                if (this.Eg() && this.oj(), this.Y = !0, this.Ig(), this.kj) {
                    var e = this.kj;
                    this.select(e.date1, e.date2, e.options), this.kj = null;
                }
                return this;
            } }, this.yj = function () { n.nav.top.onmousedown = this.sj, n.nav.top.onmousemove = this.tj; }, this.Jf = function () { DayPilot.re(document, "mouseup", n.Mf); }, this.Mf = function (e) { if (i.start && i.end) {
                var t = DayPilot.mo3(n.nav.top, e);
                if (t.x === i.start.coords.x && t.y === i.start.coords.y)
                    return i.start = null, void i.clear();
                i.clear();
                var r = i.ordered();
                r.start = new a(r.start).nextVisible(), r.end = new a(r.end).previousVisible(), n.selectionDay = new a(r.start).date(), n.selectionStart = n.selectionDay, n.selectionEnd = new a(r.end).date(), i.start = null, i.end = null, n.pi(), n.Wi(), n.nj(), n.hj(), n.ij();
                n.dc({ "mode": "FreeHand" });
            } i.start = null, i.end = null; }, this.dispose = function () { var e = n; e.root && (e.root.removeAttribute("style"), e.root.removeAttribute("class"), e.root.dp = null, e.root.innerHTML = null, e.root = null); }, this.Ia = function () { this.root.dispose = this.dispose; }, this.Init = this.init, this.qg(t);
        }, "undefined" != typeof jQuery && !function (e) { e.fn.daypilotNavigator = function (e) { var t = null, n = this.each(function () { if (!this.daypilot) {
            var n = new DayPilot.Navigator(this.id);
            this.daypilot = n;
            for (var i in e)
                n[i] = e[i];
            n.Init(), t || (t = n);
        } }); return 1 === this.length ? t : n; }; }(jQuery), function () { var e = DayPilot.am(); e && e.directive("daypilotNavigator", ["$parse", function (e) { return { "restrict": "E", "template": "<div id='{{id}}'></div>", "compile": function (t, n) { return t.replaceWith(this["template"].replace("{{id}}", n["id"])), function (t, n, i) { var a = new DayPilot.Navigator(n[0]); a.mg.scope = t, a.init(); var r = i["id"]; r && (t[r] = a); var o = i["publishAs"]; if (o) {
                    (0, e(o).assign)(t, a);
                } for (var s in i)
                    if (0 === s.indexOf("on")) {
                        var l = DayPilot.Util.shouldApply(s);
                        l ? !function (n) { a[n] = function (a) { var r = e(i[n]); t["$apply"](function () { r(t, { "args": a }); }); }; }(s) : !function (n) { a[n] = function (a) { e(i[n])(t, { "args": a }); }; }(s);
                    } var d = t["$watch"], c = i["config"] || i["daypilotConfig"], u = i["events"] || i["daypilotEvents"]; d.call(t, c, function (e, t) { for (var n in e)
                    a[n] = e[n]; a.update(); }, !0), d.call(t, u, function (e) { a.events.list = e, a.Xa(), a.hj(); }, !0); }; } }; }]); }(), DayPilot.Navigator.def = {}, "undefined" != typeof Sys && Sys.Application && Sys.Application.notifyScriptLoaded && Sys.Application.notifyScriptLoaded();
    }
}(DayPilot), "undefined" == typeof DayPilot)
    var DayPilot = {};
if ("undefined" == typeof DayPilot.Global && (DayPilot.Global = {}), function (DayPilot) { "undefined" != typeof DayPilot.Queue && DayPilot.Queue.def || (DayPilot.Queue = function (t, n) { this.v = "2022.4.5457"; var i = this; this.id = t, this.contextMenu = null, this.eventBarVisible = !0, this.eventHeight = 35, this.eventTextWrappingEnabled = !1, this.lineSpace = 5, this.theme = null, this.emptyText = "", this.emptyHtml = null, this.eventClickHandling = "Enabled", this.eventRightClickHanding = "ContextMenu", this.eventSelectHandling = "Update", this.onBeforeEventRender = null, this.onEventClick = null, this.onEventClicked = null, this.onEventRightClick = null, this.onEventRightClicked = null, this.onEventMove = null, this.onEventMoving = null, this.onEventSelect = null, this.onEventSelected = null, this.Y = !1, this.zj = "queue_default", this.Aj = [], this.Bj = !1, this.Cj = !1, this.nav = {}, this.events = {}, this.events.list = [], this.elements = {}, this.elements.events = []; var a = function () { return document.createElement("div"); }; this.Fg = function () { if (this.id && this.id.tagName)
    this.nav.top = this.id;
else {
    if ("string" != typeof this.id)
        throw new DayPilot.Exception("DayPilot.Queue() constructor requires the target element or its ID as a parameter");
    if (this.nav.top = document.getElementById(this.id), !this.nav.top)
        throw new DayPilot.Exception("DayPilot.Queue: The placeholder element not found: '" + t + "'.");
} }, this.K = function (e) { var t = this.theme || this.zj; return t ? t + e : ""; }, this.bd = function () { i.nav.container.innerHTML = "", i.Dj = null, i.ii(), i.Xa(), i.ib(), i.Ej(); }, this.ii = function () { var e = i.nav.top; e.className = i.Fj, DayPilot.Util.addClass(e, i.K("_main")); }, this.Xa = function () { var e = {}, t = i.events.list || []; i.Aj = []; for (var n = 0; n < t.length; n++) {
    var a = t[n];
    if (!("string" == typeof a.id || "number" == typeof a.id))
        throw new DayPilot.Exception("All events must have an id property (string or number)");
    var r = typeof a.id + "_" + a.id;
    if (e[r])
        throw new DayPilot.Exception("Duplicate IDs not allowed.");
    e[r] = !0;
    var o = DayPilot.Util.copyProps(a);
    i.Pf(o);
    var s = {};
    s.data = a, s.cache = o, i.Aj.push(s);
} }, this.Gj = {}, this.Gj.hc = [], this.Gj.Aj = []; var r = i.Gj; this.Gj.q = function (e) { var t = e.event; r.Hj(), r.Ij(e), r.hc[0] = t; }, this.Gj.Ij = function (e) { r.Aj[0] = e; var t = i.K("_selected"); DayPilot.Util.addClass(e, t); }, this.Gj.Jj = function (e) { r.Aj = []; var t = i.K("_selected"); DayPilot.Util.removeClass(e, t); }, this.Gj.Rc = function (e) { return i.Gj.Aj.find(function (t) { return t.event.data.id === e; }); }, this.Gj.Hj = function () { var e = r.Aj[0]; e && r.Jj(e), r.hc = []; }, this.Pf = function (e) { var t = {}; t.data = e, "function" == typeof i.onBeforeEventRender && i.onBeforeEventRender(t); }, this.Ej = function () { if (0 === i.events.list.length) {
    var e = i.nav.container, t = a();
    i.emptyHtml ? t.innerHTML = i.emptyHtml : t.innerText = i.emptyText, e.appendChild(t);
} }, this.ib = function () { var e = i.Aj; i.elements.events = [], e.forEach(function (e) { i.$d(e); }); }, this.$d = function (e) { var t = e.cache, n = e.data, r = i.nav.container, o = a(); o.className = i.K("_event"), o.style.height = i.eventHeight + "px", o.style.boxSizing = "border-box", o.style.overflow = "hidden", o.style.marginTop = i.lineSpace + "px", o.style.position = "relative", i.eventTextWrappingEnabled || (o.style.whiteSpace = "nowrap"), o.addEventListener("click", i.Fi), o.addEventListener("contextmenu", i.Kj), i.Gj.Rc(n.id) && i.Gj.Ij(o); var s = a(); if (s.className = i.K("_event_inner"), "string" == typeof t.html ? s.innerHTML = t.html : s.innerText = t.text, t.cssClass && DayPilot.Util.addClass(o, t.cssClass), t.backColor && (s.style.background = t.backColor), t.fontColor && (s.style.color = t.fontColor), "darker" === t.borderColor && t.backColor ? s.style.borderColor = DayPilot.ColorUtil.darker(t.backColor, 2) : s.style.borderColor = t.borderColor, t.backImage && (s.style.backgroundImage = "url(" + t.backImage + ")", t.backRepeat && (s.style.backgroundRepeat = t.backRepeat)), o.appendChild(s), i.eventBarVisible && !t.barHidden) {
    var l = a();
    l.className = i.K("_event_bar"), l.style.position = "absolute", t.barColor && (l.style.backgroundColor = t.barColor), o.appendChild(l);
} var d = { "eventDiv": o, "areas": t.areas, "allowed": function () { return !(i.Bj || i.Cj); } }, c = new DayPilot.Event(n, i); c.cache = t, o.event = c, DayPilot.Areas.attach(o, c, d), i.Lj(o, n), r.appendChild(o), i.elements.events.push(o); }, this.Kj = function (e) { if (e.preventDefault(), "Disabled" !== i.eventRightClickHanding) {
    var t = this, n = t.event, a = {};
    if (a.e = t.event, a.preventDefault = function () { a.preventDefault.value = !0; }, "function" == typeof i.onEventRightClick && i.onEventRightClick(a), !a.preventDefault.value) {
        switch (i.eventRightClickHanding) {
            case "Enabled": break;
            case "ContextMenu":
                var r = n.client.contextMenu();
                r ? r.show(n) : i.contextMenu && i.contextMenu.show(n);
        }
        "function" == typeof i.onEventRightClicked && i.onEventRightClicked(a);
    }
} }, this.Fi = function (t) { if (t.preventDefault(), t.stopPropagation(), "Disabled" !== i.eventClickHandling) {
    var n = this, a = {};
    if (a.e = n.event, a.preventDefault = function () { a.preventDefault.value = !0; }, "function" == typeof i.onEventClick && i.onEventClick(a), !a.preventDefault.value) {
        switch (i.eventClickHandling) {
            case "Select":
                i.gc(n, e, t);
                break;
            case "Enabled":
        }
        "function" == typeof i.onEventClicked && i.onEventClicked(a);
    }
} }, this.gc = function (e, t, n) { var a = {}; if (a.e = t, a.preventDefault = function () { this.preventDefault.value = !0; }, "function" != typeof i.onEventSelect || (i.onEventSelect(a), !a.preventDefault.value)) {
    switch (i.eventSelectHandling) {
        case "Update": i.Gj.q(e);
    }
    "function" == typeof i.onEventSelected && i.onEventSelected(a);
} }, this.Mj = function (e, t) { var n = i.Nj, a = {}; a.e = new DayPilot.Event(e, i), a.position = n, a.source = t, a.external = !0, a.preventDefault = function () { a.preventDefault.value = !0; }, i.Oj(a), a.preventDefault.value || (i.events.list.splice(n, 0, e), i.bd(), i.Pj(a)); }, this.Qj = function (e) { var t = {}; if (t.e = new DayPilot.Event(e, i), t.position = i.Nj, t.source = i, t.external = !1, t.preventDefault = function () { t.preventDefault.value = !0; }, i.Oj(t), !t.preventDefault.value) {
    var n = i.events.list.indexOf(e);
    i.Rj(i.events.list, n, i.Nj), i.bd(), i.Pj(t);
} }, this.Oj = function (e) { "function" == typeof i.onEventMove && i.onEventMove(e); }, this.Pj = function (e) { "function" == typeof i.onEventMoved && i.onEventMoved(e); }, this.Rj = function (e, t, n) { var i = e[t]; e.splice(t, 1), e.splice(n, 0, i); }, this.Sj = function () { DayPilot.Scheduler.registerDropTarget({ element: i.nav.top, onDrop: function (e) { i.Cj = !1; var t = e.e, n = t.data, a = e.e.calendar; i.Mj(n, a); }, onDragOver: function (e) { i.Cj = !0; }, onDragLeave: function (e) { i.Cj = !1; } }); }, this.Dj = null, this.Tj = function (e) { i.Nj = e; var t = i.Dj || a(), n = i.nav.container, r = i.eventHeight + i.lineSpace, o = e * r; o -= i.lineSpace / 2 + 1, t.style.top = o + "px", i.Dj || (t.className = i.K("_shadow"), t.style.position = "absolute", t.style.left = "0px", t.style.right = "0px", t.style.height = "2px", i.Dj = t, n.appendChild(t)); }, this.Uj = function () { i.Nj = null, DayPilot.de(i.Dj), i.Dj = null; }, this.nh = null, this.Nj = null, this.Vj = function (e) { var t = i.nav.container, n = DayPilot.mo3(t, e); if (i.nh = n, i.Bj || i.Cj) {
    var a = i.eventHeight + i.lineSpace, r = Math.floor((n.y + i.eventHeight / 2) / a);
    r < 0 && (r = 0), r > i.Aj.length && (r = i.Aj.length), i.Tj(r);
} }, this.Wj = function (e) { i.Uj(); }, this.Xj = function (e) { if (i.Bj) {
    var t = i.Yj;
    i.Qj(t), i.Yj = null;
} }, this.Zj = function () { var e = a(); i.nav.container = e; var t = i.nav.top; i.Fj = t.className || "", e.style.position = "relative", t.onmousemove = i.Vj, t.onmouseleave = i.Wj, t.onmouseup = i.Xj, t.appendChild(e); }, this.Lj = function (e, t) { var n = e, a = { element: n, data: t, keepElement: !0, externalCssClass: "", externalHtml: "", onDragStart: function (e) { i.Bj = !0, i.Yj = t, n.style.opacity = "0.5"; }, onDrop: function (e) { i.Bj = !1, n.style.opacity = ""; !!i.Yj; } }; DayPilot.Scheduler.makeDraggable(a); }, this.qg = function (e) { if (e) {
    var t = { "events": { "preInit": function () { var e = this.data; e && (i.events.list = e); } } };
    for (var n in e)
        if (t[n]) {
            var a = t[n];
            a.data = e[n], a.preInit && a.preInit();
        }
        else
            i[n] = e[n];
} }, this.F = {}, this.F.reactDOM = null, this.F.react = null, this.F.E = function (e, t) { var n = i.F.reactDOM; if ("function" == typeof n.createRoot) {
    var a = t.O;
    a || (a = n.createRoot(t), t.O = a), a.render(e);
}
else
    n.render(e, t); }, this.F.N = function (e) { var t = i.F.reactDOM; if ("function" == typeof t.createRoot) {
    var n = e.O;
    setTimeout(function () { n.unmount(); }, 0);
}
else
    t.unmountComponentAtNode(e); }, this.lg = function (e) { if (!e)
    return null; for (var t = 0; t < i.elements.events.length; t++) {
    var n = i.elements.events[t];
    if (DayPilot.Util.isSameEvent(n.event, e))
        return n;
} return null; }, this.multiselect = {}, this.multiselect.add = function (e) { "number" != typeof e && "string" != typeof e || (e = i.events.find(e)), e instanceof DayPilot.Event && (e = e.data); var t = i.lg(e); t && i.Gj.q(t); }, this.multiselect.clear = function () { i.Gj.Hj(); }, this.multiselect.get = function () { var e = [], t = r.hc[0]; if (t) {
    var n = t.event;
    e.push(n);
} return e; }, this.events.add = function (e) { e instanceof DayPilot.Event && (e = e.data), i.events.list.push(e), i.bd(); }, this.events.remove = function (e) { if (e) {
    "number" != typeof e && "string" != typeof e || (e = i.events.find(e)), e instanceof DayPilot.Event && (e = e.data);
    var t = i.events.list.indexOf(e);
    t !== -1 && (i.Gj.Rc(e.id) && i.multiselect.clear(), i.events.list.splice(t, 1), i.bd());
} }, this.events.update = function (e) { e instanceof DayPilot.Event && (e = e.data); var t = i.events.find(e.id); if (t) {
    var n = i.events.list.indexOf(t.data);
    n !== -1 && (i.events.list.splice(n, 1, e), i.bd());
} }, this.events.find = function (e) { var t = i.events.list.find(function (t) { return t.id === e; }); return t ? new DayPilot.Event(t, i) : null; }, this.init = function () { if (this.Y)
    throw new DayPilot.Exception("This instance is already initialized. Use update() to change properties."); if (this.Fg(), this.nav.top.dp) {
    if (this.nav.top.dp === i)
        return i;
    throw new DayPilot.Exception("The target placeholder was already initialized by another DayPilot component instance.");
} return this.Sj(), this.Zj(), this.bd(), this; }, this.update = function (e) { if (i.Z)
    throw new DayPilot.Exception("You are trying to update a DayPilot.Queue object that has been disposed already. Calling .dispose() destroys the object and makes it unusable."); i.qg(e), i.bd(); }, this.dispose = function () { i.nav.top.innerHTML = "", i.Z = !0; }, this.internal = {}, this.internal.loadOptions = function (e) { i.qg(e); }, this.internal.enableReact = function (e, t) { i.F.react = e, i.F.reactDOM = t; }, this.internal.reactRefs = function () { return DayPilot.Util.copyProps(i.F, {}, ["react", "reactDOM"]); }, this.qg(n); }, DayPilot.Queue.def = {}); }(DayPilot), "undefined" == typeof DayPilot)
    var DayPilot = {};
if ("undefined" == typeof DayPilot.Global && (DayPilot.Global = {}), function (DayPilot) {
    function t(e) { for (var t = e.touches[0].clientX, n = e.touches[0].clientY, i = document.elementFromPoint(t, n); i && i.parentNode;)
        if (i = i.parentNode, i.daypilotMainD)
            return i.calendar; return !1; }
    function n(e) { var t = e.touches[0].pageX, n = e.touches[0].pageY, i = {}; return i.x = t, i.y = n, i; }
    if ("undefined" == typeof DayPilot.Scheduler || !DayPilot.Scheduler.def) {
        var i = function () { var e = navigator.userAgent; return e.indexOf("Mozilla/5.0") > -1 && e.indexOf("Android ") > -1 && e.indexOf("AppleWebKit") > -1 && !(e.indexOf("Chrome") > -1); }(), a = navigator.userAgent.indexOf("iPad") > -1 || navigator.userAgent.indexOf("iPhone") > -1, o = {}, s = function () { }, l = !1, d = function () { return document.body; }, c = function () { return document.createElement("div"); }, u = DayPilot.Util.overlaps, h = DayPilot.Util.removeClass, f = DayPilot.Util.addClass, v = DayPilot.Util.div, p = DayPilot.Util.atLeast, m = DayPilot.Util.isNullOrUndefined, g = DayPilot.Util.copyProps, b = DayPilot.Util.isReactComponent, y = DayPilot.Util.mouseButton, w = DayPilot.Global, x = DayPilot.list, k = DayPilot.contains, C = DayPilot.de, D = DayPilot.indexOf;
        DayPilot.Scheduler = function (t, l) {
            function E(e) { e.div.style.right = e.right + "px", e.div.style.height = e.height + "px", e.div.style.top = e.top + "px", A.Fr(e.div, e.enabled()), e.divHeader.style.height = e.heightRes + "px", e.divHeader.style.top = e.top + "px", A.Fr(e.divHeader, e.enabled()), e.divSpace && (e.divSpace.style.top = e.height + "px"); }
            function T(e, t) { return 1 - e / t; }
            this.v = "2022.4.5457";
            var A = this;
            this.id = t, this.isScheduler = !0, this.allowDefaultContextMenu = !1, this.allowEventOverlap = !0, this.allowMultiMove = !1, this.allowMultiRange = !1, this.allowMultiResize = !1, this.allowMultiSelect = !0, this.api = 2, this.autoRefreshCommand = "refresh", this.autoRefreshEnabled = !1, this.autoRefreshInterval = 60, this.autoRefreshMaxCount = 20, this.autoScroll = "Drag", this.blockOnCallBack = !1, this.navigatorBackSync = null, this.backendUrl = null, this.beforeCellRenderCaching = !0, this.businessBeginsHour = 9, this.businessEndsHour = 18, this.businessWeekends = !1, this.cellDuration = 60, this.cellGroupBy = "Day", this.cellSweeping = !0, this.cellSweepingCacheSize = 1e3, this.cellWidth = 40, this.cellWidthMin = 1, this.cellWidthSpec = "Fixed", this.cellsMarkBusiness = !0, this.cornerText = "", this.cornerHtml = null, this.crosshairTimeHeaderLevel = "Last", this.crosshairType = "Header", this.cssClassPrefix = "scheduler_default", this.days = 1, this.doubleClickTimeout = 300, this.dragOutAllowed = !1, this.drawBlankCells = !0, this.durationBarHeight = null, this.durationBarVisible = !0, this.durationBarMode = "Duration", this.dynamicEventRendering = "Progressive", this.dynamicEventRenderingMargin = 50, this.dynamicEventRenderingMarginX = null, this.dynamicEventRenderingMarginY = null, this.dynamicEventRenderingCacheSweeping = !1, this.dynamicEventRenderingCacheSize = 200, this.dynamicLoading = !1, this.eventEditMinWidth = 100, this.eventEditTabNext = !1, this.eventEndSpec = "DateTime", this.eventHeight = 35, this.eventHtmlLeftMargin = 10, this.eventHtmlRightMargin = 10, this.eventMarginLeft = 0, this.eventMarginRight = 0, this.eventMarginBottom = 0, this.eventMinWidth = 1, this.eventMoveMargin = 5, this.eventMoveToPosition = !1, this.eventMoveSkipNonBusiness = !1, this.eventResizeMargin = 5, this.eventStackingLineHeight = 100, this.eventTapAndHoldHandling = "Move", this.eventTextWrappingEnabled = !1, this.eventUpdateInplaceOptimization = !1, this.eventsLoadMethod = "GET", this.eventVersionHeight = 25, this.eventVersionMargin = 2, this.eventVersionPosition = "Above", this.eventVersionsEnabled = !1, this.eventVersionsReserveSpace = !1, this.floatingEvents = !a, this.floatingTimeHeaders = !0, this.groupConcurrentEvents = !1, this.groupConcurrentEventsLimit = 1, this.headerHeight = 30, this.heightSpec = "Max", this.height = 600, this.hideBorderFor100PctHeight = !1, this.hideUntilInit = !0, this.infiniteScrollingEnabled = !1, this.infiniteScrollingMargin = 50, this.infiniteScrollingStepDays = 30, this.initEventEnabled = !0, this.jointEventsResize = !0, this.jointEventsMove = !0, this.keyboardEnabled = !1, this.keyboardTarget = "document", this.layout = "Auto", this.linkCreateHandling = "Disabled", this.linkBottomMargin = 17, this.linkPointSize = 10, this.linksLoadMethod = "GET", this.locale = "en-us", this.loadingLabelText = "Loading...", this.loadingLabelHtml = null, this.loadingLabelVisible = !0, this.overrideWheelScrolling = !1, this.messageBarPosition = "Top", this.messageHideAfter = 5e3, this.messageHideOnMouseOut = !0, this.multiMoveVerticalMode = "Disabled", this.moveBy = "Full", this.notifyCommit = "Immediate", this.progressiveRowRendering = !0, this.progressiveRowRenderingPreload = 25, this.rectangleSelectMode = "Free", this.rectangleSelectHandling = "Disabled", this.rowCreateHeight = null, this.rowCreateHtml = null, this.rowCreateText = "New row...", this.rowDragHandleWidth = 10, this.rowEmptyHeight = null, this.rowFilterParentsAlwaysVisible = !0, this.rowHeaderColumnDefaultWidth = 80, this.rowHeaderHideIconEnabled = !1, this.rowHeaderScrolling = !1, this.rowHeaderSplitterWidth = 3, this.rowHeaderWidthAutoFit = !0, this.rowHeaderWidthAutoFitShrink = !1, this.rowHeaderWidthMarginRight = 0, this.rowHeaderWidthMin = 20, this.rowHeaderColumnsResizable = !0, this.rowHeaderColumnsMode = "Tabular", this.rowHeaderColumns = null, this.rowHeaderColumnsMergeParents = !0, this.rowHeaderWidth = 80, this.rowMarginBottom = 0, this.rowMarginTop = 0, this.rowMinHeight = 0, this.rowsLoadMethod = "GET", this.rowSortingMode = "LeavesOnly", this.scale = "CellDuration", this.scaleManualLimitBeyond = !0, this.scrollDelayDynamic = 500, this.scrollDelayEvents = 200, this.scrollDelayCells = a ? 100 : 0, this.scrollDelayFloats = 0, this.scrollDelayRows = 0, this.scrollStep = null, this.scrollX = 0, this.scrollY = 0, this.selectedRows = [], this.separators = [], this.showCurrentTimeHeader = !1, this.showNonBusiness = !0, this.showNonBusinessForceHours = !1, this.showToolTip = !0, this.snapToGrid = !0, this.snapToGridTimeRangeSelecting = !0,
                this.snapToGridEventMoving = !0, this.snapToGridEventResizing = !0, this.startDate = DayPilot.Date.today(), this.syncResourceTree = !1, this.tapAndHoldTimeout = 300, this.timeHeaders = [{ "groupBy": "Default" }, { "groupBy": "Cell" }], this.timeHeaderPosition = "Top", this.timeHeaderTextWrappingEnabled = !1, this.treeAnimation = !0, this.treeAutoExpand = !0, this.treeEnabled = !1, this.treeIndent = 20, this.treeImageMarginLeft = 0, this.treeImageMarginTop = 3, this.treeImageMarginRight = 5, this.treeImageWidth = 10, this.treeImageHeight = 10, this.treePreventParentUsage = !1, this.timeFormat = "Auto", this.timeline = null, this.useEventBoxes = "Always", this.viewType = "Resources", this.visible = !0, this.watchWidthChanges = !0, this.weekStarts = "Auto", this.width = null, this.xssProtection = "Enabled", this.zoomLevels = [], this.zoomPosition = "left", this.eventClickHandling = "Enabled", this.eventDeleteHandling = "Disabled", this.eventHoverHandling = "Bubble", this.eventDoubleClickHandling = "Disabled", this.eventEditHandling = "Update", this.eventMoveHandling = "Update", this.eventResizeHandling = "Update", this.eventRightClickHandling = "ContextMenu", this.eventSelectHandling = "Update", this.resourceCollapseHandling = "Enabled", this.resourceExpandHandling = "Enabled", this.rowClickHandling = "Enabled", this.rowDoubleClickHandling = "Disabled", this.rowRightClickHandling = "ContextMenu", this.rowCreateHandling = "Disabled", this.rowEditHandling = "Update", this.rowHeaderColumnResizedHandling = "Update", this.rowSelectHandling = "Update", this.rowMoveHandling = "Disabled", this.rowMoveSameLevelOnly = !1;
            this.timeHeaderClickHandling = "Enabled";
            this.timeHeaderRightClickHandling = "Enabled", this.timeRangeClickHandling = "Enabled", this.timeRangeDoubleClickHandling = "Disabled", this.timeRangeSelectedHandling = "Enabled", this.timeRangeRightClickHandling = "ContextMenu", this.timeRangeSelectingStartEndEnabled = !1, this.timeRangeSelectingStartEndFormat = "MMMM d, yyyy", this.eventMovingStartEndEnabled = !1, this.eventMovingStartEndFormat = "MMMM d, yyyy", this.eventResizingStartEndEnabled = !1, this.eventResizingStartEndFormat = "MMMM d, yyyy", "function" == typeof DayPilot.Bubble ? this.bubble = new DayPilot.Bubble : this.bubble = null, this.cellBubble = null, this.resourceBubble = null, this.linkBubble = null, this.groupBubble = null, this.contextMenu = null, this.contextMenuResource = null, this.contextMenuSelection = null, this.contextMenuLink = null, DayPilot.browser.ie && (this.scrollDelayCells = 100, this.scrollDelayFloats = 100), 1 === A.api && (this.onEventMove = function () { }, this.onEventResize = function () { }, this.onResourceExpand = function () { }, this.onResourceCollapse = function () { }), this.onEventClick = null, this.onEventClicked = null, this.onEventEdit = null, this.onEventEdited = null, this.onEventEditKeyDown = null, this.onEventMove = null, this.onEventMoved = null, this.onEventMoving = null, this.onEventResize = null, this.onEventResized = null, this.onEventResizing = null, this.onEventRightClick = null, this.onEventRightClicked = null, this.onEventMouseEnter = null, this.onEventMouseLeave = null, this.onEventMouseOver = null, this.onEventMouseOut = null, this.onIncludeTimeCell = null, this.onKeyboardFocusChange = null, this.onKeyboardFocusChanged = null, this.onLinkClick = null, this.onLinkClicked = null, this.onLinkCreate = null, this.onLinkCreated = null, this.onRowClick = null, this.onRowClicked = null, this.onRowDoubleClick = null, this.onRowDoubleClicked = null, this.onRowMouseOver = null, this.onRowMouseOut = null, this.onRowRightClick = null, this.onRowRightClicked = null, this.onTimeHeaderClick = null, this.onTimeHeaderClicked = null, this.onTimeHeaderRightClick = null, this.onTimeHeaderRightClicked = null, this.onTimeRangeClick = null, this.onTimeRangeClicked = null, this.onTimeRangeDoubleClick = null, this.onTimeRangeDoubleClicked = null, this.onTimeRangeSelect = null, this.onTimeRangeSelected = null, this.onTimeRangeSelecting = null, this.onTimeRangeRightClick = null, this.onTimeRangeRightClicked = null, this.onRowHeaderColumnResized = null, this.onRowHeaderResized = null, this.onCellMouseEnter = null, this.onCellMouseLeave = null, this.onCellMouseOver = null, this.onCellMouseOut = null, this.onGridMouseDown = null, this.onBeforeCellRender = null, this.onBeforeCellDomAdd = null, this.onBeforeCellDomRemove = null, this.onBeforeCornerRender = null, this.onBeforeCornerDomAdd = null, this.onBeforeCornerDomRemove = null, this.onBeforeEventRender = null, this.onBeforeEventDomAdd = null, this.onBeforeEventDomRemove = null, this.onBeforeGridLineRender = null, this.onBeforeTimeHeaderRender = null, this.onBeforeTimeHeaderDomAdd = null, this.onBeforeTimeHeaderDomRemove = null, this.onBeforeResHeaderRender = null, this.onBeforeRowHeaderRender = null, this.onBeforeRowHeaderColumnRender = null, this.onBeforeRowHeaderDomAdd = null, this.onBeforeRowHeaderDomRemove = null, this.onBeforeCellExport = null, this.onBeforeCornerExport = null, this.onBeforeEventExport = null, this.onBeforeTimeHeaderExport = null, this.onBeforeRowHeaderExport = null, this.onAfterEventRender = null, this.onAfterCellRender = null, this.onAfterEventEditRender = null, this.onEventFilter = null, this.onRowFilter = null, this.onRectangleSelecting = null, this.onRectangleSelect = null, this.onRectangleSelected = null, this.onDimensionsChanged = null, this.onAfterUpdate = null, this.X = 0, this.$j = !0, this._j = !1, this.ak = !1, this.bk = !1, this.ck = -1, this.dk = -1, this.Z = !1, this.ek = -1, this.fk = !1, this.gk = !0, this.rowlist = x(), this.itline = x(), this.events = {}, this.cells = {}, this.elements = {}, this.elements.events = [], this.elements.bars = [], this.elements.text = [], this.elements.cells = [], this.elements.linesVertical = [], this.elements.separators = [], this.elements.range = [], this.elements.breaks = [], this.elements.links = [], this.elements.linkpoints = [], this.elements.rectangle = [], this.elements.hover = [], this.elements.timeHeader = [], this.V = {}, this.V.cells = [], this.V.hk = {}, this.V.ik = {}, this.V.timeHeaderGroups = [], this.V.timeHeader = {}, this.V.pixels = [], this.V.breaks = [], this.V.events = [], this.V.jk = [], this.clientState = {}, this.members = {}, this.members.obsolete = ["Init", "cleanSelection", "cssClassPrefix", "getHScrollPosition", "setHScrollPosition", "getVScrollPosition", "setVScrollPosition", "showBaseTimeHeader"], this.members.ignoreFilter = function (e) { return 0 === e.indexOf("div"); }, this.members.ignore = ["internal", "nav", "debug", "temp", "elements", "members", "cellProperties", "itline", "rowlist", "timeHeader", "timeouts", "rowHeaderCols"], this.members.noCssOnly = [], this._ = "javasc", this.nav = {}, this.wa = function (e, t) { var e = JSON.parse(e); if (A.onScrollCalled = !1, e.VsUpdate) {
                var n = document.createElement("input");
                n.type = "hidden", n.name = A.id + "_vsupdate", n.id = n.name, n.value = e.VsUpdate, A.ni.innerHTML = "", A.ni.appendChild(n);
            } if (e.CallBackRedirect)
                return void (document.location.href = e.CallBackRedirect); if (e.BubbleGuid) {
                var i = e.BubbleGuid, a = this.bubbles[i];
                return delete this.bubbles[i], A.Ra(), "undefined" != typeof e.Result.BubbleHTML && a && a.updateView(e.Result.BubbleHTML, a), void A.kk();
            } if ("function" == typeof A.onCallBackResult) {
                var r = {};
                if (r.result = e, r.preventDefault = function () { r.preventDefault.value = !0; }, A.onCallBackResult(r), r.preventDefault.value)
                    return A.Yb(), A.Ra(), A.mb(), e.Message && A.message && A.message(e.Message), A.Sa(e.CallBackData, !0), A.kk(), void A.la();
            } return "undefined" != typeof DayPilot.Bubble && DayPilot.Bubble.hideActive(), "undefined" != typeof e.ClientState && (null === e.ClientState ? A.clientState = {} : A.clientState = e.ClientState), "None" === e.UpdateType ? (A.Ra(), A.kk(), e.Message && A.message(e.Message), void A.Sa(e.CallBackData, !0)) : ("undefined" != typeof e.TagFields && (A.tagFields = e.TagFields), "undefined" != typeof e.SortDirections && (A.sortDirections = e.SortDirections), A.V.drawArea = null, "Full" === e.UpdateType && (A.resources = e.Resources, A.colors = e.Colors, A.palette = e.Palette, A.dirtyColors = e.DirtyColors, A.cellProperties = e.CellProperties, A.cellConfig = e.CellConfig, A.separators = e.Separators, A.timeline = e.Timeline, A.timeHeader = e.TimeHeader, A.timeHeaders = e.TimeHeaders, "undefined" != typeof e.Links && (A.links.list = e.Links), "undefined" != typeof e.RowHeaderColumns && (A.rowHeaderColumns = e.RowHeaderColumns), A.startDate = e.StartDate ? new DayPilot.Date(e.StartDate) : A.startDate, A.days = e.Days ? e.Days : A.days, A.cellDuration = e.CellDuration ? e.CellDuration : A.cellDuration, A.cellGroupBy = e.CellGroupBy ? e.CellGroupBy : A.cellGroupBy, A.cellWidth = e.CellWidth ? e.CellWidth : A.cellWidth, "undefined" != typeof e.CellWidthSpec && (A.cellWidthSpec = e.CellWidthSpec), "undefined" != typeof e.Scale && (A.scale = e.Scale), A.viewType = e.ViewType ? e.ViewType : A.viewType, "undefined" != typeof e.ShowNonBusiness && (A.showNonBusiness = e.ShowNonBusiness), A.businessBeginsHour = e.BusinessBeginsHour ? e.BusinessBeginsHour : A.businessBeginsHour, A.businessEndsHour = e.BusinessEndsHour ? e.BusinessEndsHour : A.businessEndsHour, "undefined" != typeof e.DynamicLoading && (A.dynamicLoading = e.DynamicLoading), "undefined" != typeof e.TreeEnabled && (A.treeEnabled = e.TreeEnabled), A.locale = e.Locale ? e.Locale : A.locale, "undefined" != typeof e.TimeZone && (A.timeZone = e.TimeZone), A.timeFormat = e.TimeFormat ? e.TimeFormat : A.timeFormat, A.rowHeaderCols = e.RowHeaderCols ? e.RowHeaderCols : A.rowHeaderCols, "undefined" != typeof e.DurationBarMode && (A.durationBarMode = e.DurationBarMode), "undefined" != typeof e.CornerHTML && (A.cornerHtml = e.CornerHTML), A.hashes = e.Hashes, A.lk(), A.mk(), A.nk(), A.Wa(), A.ok()), "Scroll" !== e.Action && A.Xa(e.Events), "Full" === e.UpdateType && (A.pk(), A.qk(), A.rk(), A.sk()), A.tk(), A.hb(), A.kb(), A.V.drawArea = null, "Scroll" !== e.Action ? (A.uk(), A.Ya(), "Auto" !== A.heightSpec && "Max" !== A.heightSpec || A.db(), A.vk(), A.Aa(), A.wk(), A.multiselect.clear(!0), A.multiselect.xk(e.SelectedEvents), A.yk(), A.zk(), A.ib()) : (A.multiselect.clear(!0), A.multiselect.xk(e.SelectedEvents), A.Ak(e.Events)), "HoldForever" !== A.timeRangeSelectedHandling && A.Bk(), "Full" === e.UpdateType && (A.setScroll(e.ScrollX, e.ScrollY), A.ij()), A.Ck(), A.Yb(), e.SelectedRows && A.Dk(e.SelectedRows), A.Ra(), "Full" === e.UpdateType && navigator.appVersion.indexOf("MSIE 7.") !== -1 && window.setTimeout(function () { A.pk(), A.qk(), A.db(); }, 0), A.mb(), e.Message && A.message && A.message(e.Message), A.Sa(e.CallBackData, !0), A.kk(), A.la(), void ("Full" !== e.UpdateType || "Scroll" === e.Action || A.onScrollCalled || setTimeout(function () { A.Ek(); }, 0))); }, this.Yb = function () { if (A.Fk && A.Fk.Gk) {
                var e = A.Fk.Gk;
                e.parentNode.removeChild(e), A.Fk.Gk = null;
            } }, this.Sa = function (e, t) { var n = function (e, t) { return function () { if (A.nb()) {
                if ("function" == typeof A.onAfterRender) {
                    var n = {};
                    n.isCallBack = t, n.isScroll = !1, n.data = e, A.onAfterRender(n);
                }
            }
            else
                A.afterRender && A.afterRender(e, t); }; }; window.setTimeout(n(e, t), 0); }, this.scrollTo = function (e, t, n) { if (A.infiniteScrollingEnabled) {
                if (A.Y) {
                    var i = A.getPixels(A.visibleEnd()).left, a = i - A.infiniteScrollingMargin - A.nav.scroll.clientWidth, r = A.getDate(a, !0, !0);
                    if (!u(A.visibleStart(), r, e, e))
                        return void A.infinite.scrollTo(e);
                }
                return void A.Hk(e, t, n);
            } A.Ik.enabled ? (A.Ik.scrollToRequested = e, setTimeout(function () { var e = A.Ik.scrollToRequested; e && (A.Jk = null, A.Hk(e, t, n)); }, 0)) : A.Hk(e, t, n); }, this.Hk = function (e, t, n) { if (e) {
                if (!A.Y)
                    return void (A.Jk = { "date": e, "animated": t, "position": n });
                if ("Days" === A.viewType) {
                    var i = new DayPilot.Date(e), a = A.Kk(i);
                    if (!a)
                        return;
                    setTimeout(function () { var e = a.top - A.Lk.top.height; A.nav.scroll.scrollTop = e; }, 100);
                    var r = i.getTimePart();
                    e = A.visibleStart().getDatePart().addTime(r);
                }
                var o;
                if (e instanceof DayPilot.Date)
                    o = this.getPixels(e).left;
                else if ("string" == typeof e)
                    o = this.getPixels(new DayPilot.Date(e)).left;
                else {
                    if ("number" != typeof e)
                        throw new DayPilot.Exception("Invalid scrollTo() parameter. Accepted parameters: string (ISO date), number (pixels), DayPilot.Date object");
                    o = e;
                }
                var s = A.Mk.clientWidth, l = A.nav.scroll.clientWidth;
                switch (n = n || "left", n.toLowerCase()) {
                    case "left": break;
                    case "middle":
                        o -= l / 2;
                        break;
                    case "right": o -= l;
                }
                if (o < 0 && (o = 0), o > s - l && (o = s - l), !t)
                    return void A.Nk(o);
                var d = Math.abs(A.nav.scroll.scrollLeft - o), c = d / s, u = 50;
                if ("number" == typeof t)
                    u = t;
                else if ("string" == typeof t)
                    switch (t) {
                        case "fast":
                            u = 30;
                            break;
                        case "normal":
                            u = 50;
                            break;
                        case "slow":
                            u = 100;
                            break;
                        case "linear": u = Math.floor(100 * c);
                    }
                c > .6 && (u = Math.min(u, 80)), A.Ok(o, u);
            } }, this.Ok = function (e, t) { function n(e) { var t = e.next(); return "undefined" == typeof t ? void (e.finished && e.finished()) : (A.setScrollX(t), window.clearTimeout(A.refreshTimeout), void setTimeout(function () { n(e); }, e.delay)); } var i = {}; i.steps = [], i.index = 0, i.delay = 10, i.next = function () { var e = i.steps[i.index]; return i.index += 1, e; }, i.finished = function () { A.Ek(); }; for (var a = A.getScrollX(), t = t || 100, r = e - a, o = 0; o < t; o++) {
                var s = o / t, l = 2 * (s - .5) / (Math.pow(2 * (s - .5), 2) + 1) + .5;
                i.steps.push(a + r * l);
            } i.steps.push(e), n(i); }, this.scrollToResource = function (e) { DayPilot.complete(function () { var t; if ("string" == typeof e || "number" == typeof e)
                t = A.Pk(e);
            else {
                if (!(e instanceof DayPilot.Row))
                    throw new DayPilot.Exception("Invalid scrollToResource() argument: id or DayPilot.Row expected");
                t = A.Pk(e.id);
            } t && setTimeout(function () { var e = t.top; A.nav.scroll.scrollTop = e; }, 100); }); }, this.Qk = function () { if (this.floatingTimeHeaders && this.timeHeader) {
                var e = A.fa();
                if (e) {
                    A.Rk();
                    for (var t = e.pixels.left + M.Sk, n = e.pixels.right + M.Sk + e.sw, i = [], a = 0; a < this.timeHeader.length; a++)
                        for (var r = 0; r < this.timeHeader[a].length; r++) {
                            var o = this.timeHeader[a][r], s = o.left, l = o.left + o.width, d = null;
                            if (s < t && t < l && (d = {}, d.x = r, d.y = a, d.marginLeft = t - s, d.marginRight = 0, d.div = A.V.timeHeader[r + "_" + a], i.push(d)), s < n && n < l) {
                                d || (d = {}, d.x = r, d.y = a, d.marginLeft = 0, d.div = A.V.timeHeader[r + "_" + a], i.push(d)), d.marginRight = l - n;
                                break;
                            }
                        }
                    for (var c = 0; c < i.length; c++) {
                        var d = i[c];
                        A.Tk(d.div, d.marginLeft, d.marginRight);
                    }
                }
            } }, this.Ck = function () { A.Qk(), A.Uk(); }, this.Vk = {};
            var H = A.Vk;
            H.Wk = function (e, t, n, i) { var a = e, r = e + n, o = t, s = t + i; return x(A.elements.events).filter(function (e) { var t = e.event, n = t.part.left, i = t.part.left + t.part.width, l = A.rowlist[t.part.dayIndex], d = l.top + t.part.top, c = d + t.part.height; if (u(n, i, a, r) && u(d, c, o, s))
                return !0; }); }, H.Aj = function (e) { var t = [], e = e || "All", n = A.fa(); if (!n)
                return x(t); for (var i = n.pixels.left, a = n.pixels.right, r = 0; r < A.elements.events.length; r++) {
                var o = A.elements.events[r], s = o.event, l = s.part.left, d = s.part.left + s.part.width;
                switch (e) {
                    case "Left":
                        l < i && i < d && t.push(o);
                        break;
                    case "All": u(l, d, i, a) && t.push(o);
                }
            } return x(t).addProps({ "area": n }); }, this.Uk = function () { if (this.floatingEvents) {
                var e = H.Aj("Left");
                A.Xk(), e.filter(function (e) { return "Milestone" !== e.event.data.type; }).forEach(function (t) { var n = t.event, i = e.area.pixels.left, a = n.part.left, r = i - a; A.Yk(t, r, 0); });
            } }, this.elements.sections = [], this.elements.hsections = [], this.Tk = function (e, t, n) { var i = c(); i.setAttribute("unselectable", "on"), i.className = A.K("_timeheader_float"), i.style.position = "absolute", i.style.left = t + "px", i.style.right = n + "px", i.style.top = "0px", i.style.bottom = "0px", i.style.overflow = "hidden"; var a = c(); a.className = A.K("_timeheader_float_inner"), a.setAttribute("unselectable", "on"); var r = e.cell.th; if (a.innerHTML = A.ma(r.text, r.innerHTML), r.fontColor && (a.style.color = r.fontColor), i.appendChild(a), e.section = i, e.insertBefore(i, e.firstChild.nextSibling), e.domArgs && e.domArgs.element) {
                var o = e.firstChild && e.firstChild.firstChild;
                o && (o.style.display = "none");
            }
            else
                e.firstChild.innerHTML = ""; this.elements.hsections.push(e); }, this.Rk = function () { for (var e = 0; e < this.elements.hsections.length; e++) {
                var t = this.elements.hsections[e], n = t.cell;
                if (n && t.firstChild)
                    if (t.domArgs && t.domArgs.element) {
                        var i = t.firstChild && t.firstChild.firstChild;
                        i && (i.style.display = "");
                    }
                    else
                        t.firstChild.innerHTML = A.ma(n.th.text, n.th.innerHTML);
                C(t.section), t.section = null;
            } this.elements.hsections = []; }, this.Yk = function (e, t, n) { var i = c(); i.setAttribute("unselectable", "on"), i.className = A.K(V.eventFloat), i.style.position = "absolute", i.style.left = t + "px", i.style.right = n + "px", i.style.top = "0px", i.style.bottom = "0px", i.style.overflow = "hidden"; var a = c(); if (a.className = A.K(V.eventFloatInner), a.setAttribute("unselectable", "on"), a.innerHTML = e.event.client.html(), i.appendChild(a), e.section = i, e.insertBefore(i, e.firstChild.nextSibling), e.domArgs && e.domArgs.element) {
                var r = e && e.firstChild && e.firstChild.firstChild;
                r && (r.style.display = "none");
            }
            else
                e.firstChild.innerHTML = ""; var o = e.event, s = o.cache || o.data, l = o.cache ? o.cache.areas : o.data.areas; l = l || [], s.fontColor && (a.style.color = s.fontColor); var d = { "offsetX": A.Zk(a), "eventDiv": e, "areas": l.filter(function (e) { return !(e.start || e.end || e.nonFloating); }) }; DayPilot.Areas.attach(i, e.event, d), DayPilot.Areas.disable(e), this.elements.sections.push(e); }, this.$k = null, this.Zk = function (e) { return null === A.$k && (A.$k = parseInt(new DayPilot.StyleReader(e).get("padding-left"))), A.$k; }, this.Xk = function () { for (var e = 0; e < this.elements.sections.length; e++) {
                var t = this.elements.sections[e], n = t.event;
                if (n)
                    if (t.domArgs && t.domArgs.element) {
                        var i = t && t.firstChild && t.firstChild.firstChild;
                        i && (i.style.display = "");
                    }
                    else
                        t.firstChild.innerHTML = n.client.html();
                C(t.section), DayPilot.Areas.enable(t), t.section = null;
            } this.elements.sections = []; }, this.setScrollX = function (e) { A.Ik.enabled ? (A.Ik.scrollXRequested = e, setTimeout(function () { var e = A.Ik.scrollXRequested; "number" == typeof e && A.Nk(e); }, 0)) : A.Nk(e); }, this.Nk = function (e) { var t = A.nav.scroll, n = A._k(); t.clientWidth + e > n && (e = n - t.clientWidth), A.divTimeScroll.scrollLeft = e, t.scrollLeft = e; }, this.setScrollY = function (e) { A.Ik.enabled ? (A.Ik.scrollYRequested = e, setTimeout(function () { var e = A.Ik.scrollYRequested; "number" == typeof e && A.al(e); }, 0)) : A.al(e); }, this.al = function (e) { var t = A.nav.scroll, n = A.ek; t.clientHeight + e > n && (e = n - t.clientHeight), A.divResScroll.scrollTop = e, t.scrollTop = e; }, this.setScroll = function (e, t) { A.setScrollX(e), A.setScrollY(t); }, this.bl = function () { return A.cl() + Z.dl() - 1; }, this.message = function (e, t) { if (null !== e && A.Y) {
                var n, i = {};
                "object" == typeof arguments[1] ? (i = arguments[1], n = i.delay) : n = t;
                var a = "";
                a = i.rawHtml ? e : DayPilot.Util.escapeHtml(e), n = n || this.messageHideAfter || 2e3;
                var r, o = A.fl() + 1, s = A.bl(), l = DayPilot.sw(A.nav.scroll) + 1, d = DayPilot.sh(A.nav.scroll);
                if (this.nav.message)
                    r = A.nav.message;
                else {
                    r = c(), r.style.position = "absolute", r.style.left = s + "px", r.style.right = l + "px", r.style.display = "none", DayPilot.rePassive(r, DayPilot.touch.start, function (e) { A.nav.message.style.display = "none", e.stopPropagation(); }), r.onmousemove = function () { A.messageHideOnMouseOut && r.messageTimeout && !r.status && clearTimeout(r.messageTimeout); }, r.onmouseout = function () { A.messageHideOnMouseOut && "none" !== A.nav.message.style.display && (r.messageTimeout = setTimeout(A.zb, 500)); };
                    var u = c();
                    u.onclick = function () { A.nav.message.style.display = "none"; }, u.className = A.K("_message"), r.appendChild(u);
                    var h = c();
                    h.style.position = "absolute", h.className = A.K("_message_close"), h.onclick = function () { A.nav.message.style.display = "none"; }, r.appendChild(h), this.nav.top.appendChild(r), this.nav.message = r;
                }
                var v = function () { if (A.nav.message) {
                    var e = A.nav.message.firstChild;
                    e.className = A.K("_message"), i.cssClass && f(e, i.cssClass), e.innerHTML = a;
                    var t = DayPilot.sw(A.nav.scroll);
                    A.nav.message.style.right = t + "px";
                    var s = A.messageBarPosition || "Top";
                    "Bottom" === s ? (A.nav.message.style.bottom = d + "px", A.nav.message.style.top = "") : "Top" === s && (A.nav.message.style.bottom = "", A.nav.message.style.top = o + "px");
                    var l = function () { r.messageTimeout = setTimeout(A.zb, n); };
                    DayPilot.fade(A.nav.message, .2, l);
                } };
                clearTimeout(r.messageTimeout), "none" !== this.nav.message.style.display ? DayPilot.fade(A.nav.message, -.2, v) : v();
            } }, this.zb = function () { if (A.nav && A.nav.message) {
                var e = function () { A.nav.message.style.display = "none"; };
                DayPilot.fade(A.nav.message, -.2, e);
            } }, this.gl = function () { A.nav && A.nav.message && (A.nav.message.style.display = "none"); }, this.message.show = function (e) { A.message(e); }, this.message.hide = function () { A.zb(); }, this.hl = null, this.db = function () { if (this.nav.scroll) {
                !function () { var e = A._k(); A.Mk.style.height = A.ek + "px", A.Mk.style.width = e + "px", "Auto" !== A.cellWidthSpec || A.il ? e > A.nav.scroll.clientWidth ? A.nav.scroll.style.overflowX = "auto" : A.nav.scroll.style.overflowX = "hidden" : (A.nav.scroll.style.overflowX = "hidden", A.nav.scroll.scrollLeft = 0); }();
                var e = "None" === A.timeHeaderPosition ? 0 : 1;
                null !== this.hl && (this.nav.top.style.border = this.hl, this.hl = null), "Parent100Pct" !== this.heightSpec && "Max100Pct" !== this.heightSpec || (this.nav.top.style.height = "100%", this.hideBorderFor100PctHeight && (this.hl = this.nav.top.style.border, this.nav.top.style.border = "0 none"), this.height = parseInt(this.nav.top.clientHeight, 10) - this.fl() - e), this.nav.scroll.style.height = "30px";
                var t = this.ne(), n = t + this.fl() + e;
                if (t >= 0 && (this.nav.scroll.style.height = t + "px", this.jl.style.height = t + "px"), this.nav.divider && ((!n || isNaN(n) || n < 0) && (n = 0), this.nav.divider.style.height = n + "px"), "Parent100Pct" !== this.heightSpec && (this.nav.top.style.height = n + "px"), A.nav.resScrollSpace) {
                    var i = 30 + A.Lk.bottom.height;
                    "Auto" === A.heightSpec && (i = DayPilot.sh(A.nav.scroll)), A.nav.resScrollSpace.style.height = i + "px";
                }
                for (var a = 0; a < this.elements.separators.length; a++)
                    this.elements.separators[a].style.height = this.ek + "px";
                for (var a = 0; a < this.elements.linesVertical.length; a++)
                    this.elements.linesVertical[a].style.height = this.ek + "px";
                A.kl(), A.ll();
            } }, this.mk = function () { this.startDate = new DayPilot.Date(this.startDate).getDatePart(), this.V.pixels = [], this.itline = x(); var e = "Auto" === this.cellWidthSpec; if (function () { if (e) {
                var t = 0;
                A.M() && A.timeline ? t = A.timeline.length : "Manual" === A.scale ? t = A.timeline.length : (A.ml(), t = A.itline.length, A.itline = x());
                var n = A.nl();
                if (t > 0 && n > 0) {
                    var i = n / t;
                    A.cellWidth = p(i, A.cellWidthMin), A.il = i < A.cellWidthMin;
                }
            } }(), this.M() && this.timeline) {
                if (this.timeline) {
                    this.itline = x();
                    for (var t = null, n = 0, i = 0; i < this.timeline.length; i++) {
                        var a = this.timeline[i], r = {};
                        if (r.start = new DayPilot.Date(a.start), r.end = a.end ? new DayPilot.Date(a.end) : r.start.addMinutes(this.cellDuration), a.width)
                            r.left = a.left || n, r.width = a.width || this.cellWidth, n += r.width;
                        else {
                            var o = Math.floor(n + this.cellWidth), s = o - Math.floor(n);
                            r.left = Math.floor(n), r.width = s, n += this.cellWidth;
                        }
                        r.breakBefore = t && t.ticks !== r.start.ticks, t = r.end, this.itline.push(r);
                    }
                }
                e && this.ol();
            }
            else {
                if (this.timeHeader = [], "Manual" === this.scale) {
                    this.itline = x();
                    for (var n = 0, t = null, i = 0; this.timeline && i < this.timeline.length; i++) {
                        var a = this.timeline[i], r = {};
                        if (r.start = new DayPilot.Date(a.start), r.end = a.end ? new DayPilot.Date(a.end) : r.start.addMinutes(this.cellDuration), t && r.start.ticks < t.ticks)
                            throw new DayPilot.Exception("The timeline must be sequential");
                        var l = a.width || this.cellWidth, o = Math.floor(n + l), s = o - Math.floor(n);
                        r.left = Math.floor(n), r.width = s, n += l, r.breakBefore = t && t.ticks !== r.start.ticks, t = r.end, this.itline.push(r);
                    }
                }
                else
                    this.ml();
                this.pl();
            } }, this.infinite = {}, this.infinite.shiftStart = function (e) { M.ql(e); }, this.infinite.scrollTo = function (e) { M.rl(e); }, this.sl = {};
            var M = this.sl;
            M.Sk = 0, M.Jb = !1, M.ul = function () { A.vl().forEach(function (e, t) { e.start = A.wb(), e.data = null, A.wl(e.index, e.grid); }); }, M.xl = function () { return A.infiniteScrollingEnabled && !A.M(); }, M.rl = function (e) { var e = new DayPilot.Date(e), t = e.addDays(-A.infiniteScrollingStepDays).getDatePart(), n = new DayPilot.Duration(t.getTime() - A.startDate.getDatePart().getTime()).totalDays(); M.ql(n, e); }, M.ql = function (e, t) { var n; M.Jb = !0; var i = A.startDate, a = A.startDate.addDays(e); e > 0 && (n = -A.getPixels(a).left), A.startDate = A.startDate.addDays(e), A.itline = x(), A.V.pixels = [], A.yl = {}, A.ml(), M.ul(), e < 0 && (n = A.getPixels(i).left), A.timeHeader = [], A.pl(), A.sk(), A.cellProperties = {}, A.vk(), A.wk(), A.Xa(), A.Aa(), A.tk(), A.uk(), A.db(), "undefined" != typeof t ? (A.scrollTo(new DayPilot.Date(t)), A.Ek()) : A.nav.scroll.scrollLeft += n, A.zk(), A.ib(), M.Jb = !1; }, this.ml = function () { !A.Y && M.xl() && (this.startDate = this.startDate.addDays(-this.infiniteScrollingStepDays)); for (var e = "Days" !== this.viewType ? this.startDate.addDays(this.days) : this.startDate.addDays(1), t = this.startDate, n = this.zl(t), i = !1, a = 0, r = null; n.ticks <= e.ticks && n.ticks > t.ticks;) {
                var o = t, s = n;
                A.showNonBusinessForceHours && "Day" == A.scale && (o = t.addHours(A.businessBeginsHour), s = t.addHours(A.businessEndsHour));
                var l = this.Al(o, s, !0);
                if (!l.cell.start || !l.cell.end)
                    throw new DayPilot.Exception("Invalid timeline cell start/end: start and/or end not specified");
                if (l.cell.start = new DayPilot.Date(l.cell.start), l.cell.end = new DayPilot.Date(l.cell.end), l.cell.start >= l.cell.end)
                    throw new DayPilot.Exception("Invalid timeline cell start/end: end before start");
                if (r && r.ticks > l.cell.start.ticks)
                    throw new DayPilot.Exception("Invalid timeline cell start/end: overlapping cells");
                i = !!(r && r.ticks < l.cell.start.ticks);
                var d = l.cell.width || A.cellWidth;
                if (l.cell.visible) {
                    var c = Math.floor(a + d), u = c - Math.floor(a), h = {};
                    h.start = l.cell.start, h.end = l.cell.end, h.left = Math.floor(a), h.width = u, h.breakBefore = i, this.itline.push(h), a += d, r = l.cell.end;
                }
                t = n, n = this.zl(t);
            } }, this.ol = function () { if (this.timeHeader)
                for (var e = 0; e < this.timeHeader.length; e++)
                    for (var t = this.timeHeader[e], n = 0; n < t.length; n++) {
                        var i = t[n];
                        i.left = this.getPixels(new DayPilot.Date(i.start)).left;
                        var a = this.getPixels(new DayPilot.Date(i.end)).left, r = a - i.left;
                        i.width = r;
                    } }, this.pl = function () { var e = this.timeHeaders; if (e || (e = [{ "groupBy": this.cellGroupBy }, { "groupBy": "Cell" }]), this.itline.isEmpty()) {
                this.timeHeader = [];
                for (var t = 0; t < e.length; t++)
                    this.timeHeader[t] = [];
            }
            else
                for (var n = A.ud(), t = 0; t < e.length; t++) {
                    var i = e[t].groupBy, a = e[t].format;
                    "Default" === i && (i = this.cellGroupBy);
                    for (var r = [], o = this.wb(); o.ticks < n.ticks;) {
                        var s = {};
                        if (s.start = o, s.end = this.Bl(s.start, i), s.start.ticks === s.end.ticks)
                            break;
                        s.left = this.getPixels(s.start).left;
                        var l = this.getPixels(s.end).left, d = l - s.left;
                        if (s.width = d, s.colspan = Math.ceil(d / (1 * this.cellWidth)), "string" == typeof a ? s.text = s.start.toString(a, Z.sc()) : s.text = this.Cl(s, i), d > 0) {
                            if ("function" == typeof this.onBeforeTimeHeaderRender) {
                                var c = {};
                                c.start = s.start, c.end = s.end, c.text = s.text, c.html = null, c.toolTip = A.ma(s.text), c.backColor = null, c.fontColor = null, c.level = this.timeHeader.length, c.cssClass = null;
                                var u = {};
                                u.header = c, u.control = A, this.onBeforeTimeHeaderRender(u), s.innerHTML = A.ma(c.text, c.html), s.backColor = c.backColor, s.fontColor = c.fontColor, s.toolTip = c.toolTip, s.areas = c.areas, s.cssClass = c.cssClass;
                            }
                            r.push(s);
                        }
                        o = s.end;
                    }
                    this.timeHeader.push(r);
                } }, this.Al = function (e, t) { var n = {}; n.start = e, n.end = t, n.visible = !0, n.width = null; var i = {}; if (i.cell = n, "function" == typeof this.onIncludeTimeCell)
                return this.onIncludeTimeCell(i), i; if (this.showNonBusiness)
                return i; var a = "Days" === A.viewType; return i.cell.visible = this.isBusiness({ "start": e, "end": t }, a), i; }, this.getPixels = function (e) { var t = e.ticks, n = this.V.pixels[t]; if (n)
                return n; var i = 2218768416e5; if (0 === this.itline.length || t < this.itline[0].start.ticks) {
                var a = {};
                return a.cut = !1, a.left = 0, a.boxLeft = a.left, a.boxRight = a.left, a.i = null, a;
            } for (var r = this.Dl(e), o = p(r.i - 1, 0), s = o; s < this.itline.length; s++) {
                var l = this.itline[s], d = l.start.ticks, c = l.end.ticks;
                if (d < t && t < c) {
                    var u = t - d, a = {};
                    a.cut = !1, a.left = l.left + this.bf(l, u), a.boxLeft = l.left, a.boxRight = l.left + l.width, a.i = s;
                    break;
                }
                if (d === t) {
                    var a = {};
                    a.cut = !1, a.left = l.left, a.boxLeft = a.left, a.boxRight = a.left + l.width, a.i = s;
                    break;
                }
                if (c === t) {
                    var a = {};
                    a.cut = !1, a.left = l.left + l.width, a.boxLeft = a.left, a.boxRight = a.left, a.i = s + 1;
                    break;
                }
                if (t < d && t > i) {
                    var a = {};
                    a.cut = !0, a.left = l.left, a.boxLeft = a.left, a.boxRight = a.left, a.i = s;
                    break;
                }
                i = c;
            } if (!a) {
                var h = this.itline[this.itline.length - 1], a = {};
                a.cut = !0, a.left = h.left + h.width, a.boxLeft = a.left, a.boxRight = a.left, a.i = null;
            } return this.V.pixels[t] = a, a; }, this.getDate = function (e, t, n) { var i = this.El(e, n); if (!i)
                return null; var a = i.x, r = this.itline[a]; if (!r)
                return null; var o = n && !t ? r.end : r.start; return t ? o.addTime(this.Fl(i.cell, i.offset)) : o; }, this.El = function (e, t) { if (0 === this.itline.length)
                return null; for (var n = 0, i = 0, a = 0; a < this.itline.length; a++) {
                var r = this.itline[a];
                if (n += r.width || this.cellWidth, e < n || t && e === n) {
                    var o = {};
                    return o.x = a, o.offset = e - i, o.cell = r, o;
                }
                i = n;
            } var r = A.itline.last(), o = {}; return o.x = this.itline.length - 1, o.offset = r.width || this.cellWidth, o.cell = r, o; }, this.Gl = function (e) { return this.Dl(e); }, this.Dl = function (e) { var t = new DayPilot.Date(e), n = 0, i = this.itline[0]; if (t.ticks < i.start.ticks) {
                var a = {};
                return a.hidden = !0, a.previous = null, a.current = null, a.next = this.itline[0], a.i = -1, a;
            } var r = this.itline.length - 1, o = this.itline[r]; if (t.ticks > o.end.ticks) {
                var a = {};
                return a.past = !0, a.previous = this.itline[this.itline.length - 1], a.i = this.itline.length, a;
            } if (t.ticks === o.end.ticks) {
                var a = {};
                return a.past = !1, a.current = this.itline[this.itline.length - 1], a.i = this.itline.length - 1, a;
            } for (var s = function () { for (var e, i = A.itline; n <= r;)
                if (e = Math.floor((n + r) / 2), i[e].start.ticks > t.ticks)
                    r = e - 1;
                else {
                    if (!(i[e].end.ticks < t.ticks))
                        return e;
                    n = e + 1;
                } return n; }(), l = s; l < this.itline.length; l++) {
                var d = this.itline[l];
                if (d.start.ticks <= t.ticks && t.ticks < d.end.ticks) {
                    var a = {};
                    return a.hidden = !1, a.current = d, a.i = l, a;
                }
                if (t.ticks < d.start.ticks) {
                    var a = {};
                    return a.hidden = !0, a.previous = l > 0 ? this.itline[l - 1] : null, a.current = null, a.next = this.itline[l], a.i = l, a;
                }
            } var a = {}; return a.past = !0, a.previous = this.itline[this.itline.length - 1], a.i = this.itline.length, a; }, this.bf = function (e, t) { var n = e.width || this.cellWidth, i = e.end.ticks - e.start.ticks; return Math.floor(n * t / i); }, this.Fl = function (e, t) { var n = e.end.ticks - e.start.ticks, i = e.width || this.cellWidth; return Math.floor(t / i * n); }, this.Fi = function (e) { w.touch.start || o.Hl || (A.Il = {}, A.Ab(this, e)); }, this.eventClickPostBack = function (e, t) { this.pa("EventClick", e, t); }, this.eventClickCallBack = function (e, t) { this.ra("EventClick", e, t); }, this.Ab = function (e, t) { var n = e.event; if (n) {
                if ("undefined" != typeof DayPilot.Bubble && DayPilot.Bubble.hideActive(), !n.client.doubleClickEnabled())
                    return void A.Bb(e, t);
                A.Jl.click || (A.Jl.click = []);
                var i = function (e, t) { return function () { A.Bb(e, t); }; };
                A.Jl.click.push(window.setTimeout(i(e, t), A.doubleClickTimeout));
            } }, this.Kl = function (e) { return A.itline[e]; }, this.Bb = function (e, t) { if ("boolean" == typeof t)
                throw new DayPilot.Exception("Invalid _eventClickSingle parameters"); var n = e.event; if (n) {
                var i = t.ctrlKey, a = t.metaKey;
                if (n.client.clickEnabled())
                    if (A.Ll(t), A.nb()) {
                        var r = {};
                        if (r.e = n, r.control = A, r.div = e, r.originalEvent = t, r.ctrl = i, r.meta = a, r.shift = t.shiftKey, r.preventDefault = function () { this.preventDefault.value = !0; }, r.toJSON = function () { return g(r, {}, ["e", "ctrl", "meta", "shift"]); }, "function" == typeof A.onEventClick && (A.onEventClick(r), r.preventDefault.value))
                            return;
                        switch (A.eventClickHandling) {
                            case "PostBack":
                                A.eventClickPostBack(n);
                                break;
                            case "CallBack":
                                A.eventClickCallBack(n);
                                break;
                            case "Edit":
                                A.Cb(e);
                                break;
                            case "Select":
                                A.Db(e, n, i, a);
                                break;
                            case "ContextMenu":
                                var o = n.client.contextMenu();
                                o ? o.show(n) : A.contextMenu && A.contextMenu.show(n);
                                break;
                            case "Bubble":
                                A.bubble && A.bubble.showEvent(n);
                                break;
                            case "RectangleSelect": if ("Disabled" !== Z.Ml())
                                return J.start(), !1;
                        }
                        "function" == typeof A.onEventClicked && A.onEventClicked(r);
                    }
                    else
                        switch (A.eventClickHandling) {
                            case "PostBack":
                                A.eventClickPostBack(n);
                                break;
                            case "CallBack":
                                A.eventClickCallBack(n);
                                break;
                            case "JavaScript":
                                A.onEventClick(n);
                                break;
                            case "Edit":
                                A.Cb(e);
                                break;
                            case "Select":
                                A.Db(e, n, i, a);
                                break;
                            case "ContextMenu":
                                var o = n.client.contextMenu();
                                o ? o.show(n) : A.contextMenu && A.contextMenu.show(n);
                                break;
                            case "Bubble":
                                A.bubble && A.bubble.showEvent(n);
                                break;
                            case "RectangleSelect": if ("Disabled" !== Z.Ml())
                                return J.start(), !1;
                        }
            } }, this.Mb = function (e) { if (A.nb()) {
                var t = {};
                if (t.e = e, t.preventDefault = function () { this.preventDefault.value = !0; }, t.control = A, t.toJSON = function () { return g(t, {}, ["e"]); }, "function" == typeof A.onEventDelete && (A.onEventDelete(t), t.preventDefault.value))
                    return;
                switch (A.eventDeleteHandling) {
                    case "PostBack":
                        A.eventDeletePostBack(e);
                        break;
                    case "CallBack":
                        A.eventDeleteCallBack(e);
                        break;
                    case "Update": A.events.remove(e), "undefined" != typeof DayPilot.Bubble && DayPilot.Bubble.hideActive();
                }
                "function" == typeof A.onEventDeleted && A.onEventDeleted(t);
            }
            else
                switch (A.eventDeleteHandling) {
                    case "PostBack":
                        A.eventDeletePostBack(e);
                        break;
                    case "CallBack":
                        A.eventDeleteCallBack(e);
                        break;
                    case "JavaScript": A.onEventDelete(e);
                } }, this.eventDeletePostBack = function (e, t) { this.pa("EventDelete", e, t); }, this.eventDeleteCallBack = function (e, t) { this.ra("EventDelete", e, t); }, this.setHScrollPosition = function (e) { this.nav.scroll.scrollLeft = e; }, this.getScrollX = function () { return this.nav.scroll.scrollLeft; }, this.getHScrollPosition = this.getScrollX, this.getScrollY = function () { return this.nav.scroll.scrollTop; }, this.Db = function (e, t, n, i) { A.gc(e, t, n, i); }, this.eventSelectPostBack = function (e, t, n) { var i = {}; i.e = e, i.change = t, this.pa("EventSelect", i, n); }, this.eventSelectCallBack = function (e, t, n) { var i = {}; i.e = e, i.change = t, this.ra("EventSelect", i, n); }, this.gc = function (e, t, n, i) {
                var a = A.multiselect, r = a.isSelected(t);
                if (n || i || !r || 1 !== a.hc.length)
                    if (A.nb()) {
                        a.Oc = a.events();
                        var o = {};
                        if (o.e = t, o.selected = r, o.ctrl = n, o.meta = i, o.preventDefault = function () { this.preventDefault.value = !0; }, "function" == typeof A.onEventSelect && (A.onEventSelect(o), o.preventDefault.value))
                            return;
                        switch (A.eventSelectHandling) {
                            case "PostBack":
                                A.eventSelectPostBack(t, s);
                                break;
                            case "CallBack":
                                "undefined" != typeof WebForm_InitCallback && (window.ic = "", window.jc = [], WebForm_InitCallback()), A.eventSelectCallBack(t, s);
                                break;
                            case "Update": a.kc(e, n, i);
                        }
                        "function" == typeof A.onEventSelected && (o.change = a.isSelected(t) ? "selected" : "deselected", o.selected = a.isSelected(t), A.onEventSelected(o));
                    }
                    else {
                        a.Oc = a.events(), a.kc(e, n, i);
                        var s = a.isSelected(t) ? "selected" : "deselected";
                        switch (A.eventSelectHandling) {
                            case "PostBack":
                                A.eventSelectPostBack(t, s);
                                break;
                            case "CallBack":
                                "undefined" != typeof WebForm_InitCallback && (window.ic = "", window.jc = [], WebForm_InitCallback()), A.eventSelectCallBack(t, s);
                                break;
                            case "JavaScript": A.onEventSelect(t, s);
                        }
                    }
            }, this.eventRightClickPostBack = function (e, t) { this.pa("EventRightClick", e, t); }, this.eventRightClickCallBack = function (e, t) { this.ra("EventRightClick", e, t); }, this.Fb = function (e) { if (!w.touch.active && !w.touch.start) {
                var t = this.event;
                if (e.cancelBubble = !0, A.allowDefaultContextMenu || e.preventDefault(), !this.event.client.rightClickEnabled())
                    return !1;
                if (A.Ll(e), A.nb()) {
                    var n = {};
                    if (n.e = t, n.div = this, n.originalEvent = e, n.preventDefault = function () { this.preventDefault.value = !0; }, "function" == typeof A.onEventRightClick && (A.onEventRightClick(n), n.preventDefault.value))
                        return !1;
                    switch (A.eventRightClickHandling) {
                        case "PostBack":
                            A.eventRightClickPostBack(t);
                            break;
                        case "CallBack":
                            A.eventRightClickCallBack(t);
                            break;
                        case "ContextMenu":
                            var i = t.client.contextMenu();
                            i ? i.show(t) : A.contextMenu && A.contextMenu.show(this.event);
                            break;
                        case "Bubble": A.bubble && A.bubble.showEvent(t);
                    }
                    "function" == typeof A.onEventRightClicked && A.onEventRightClicked(n);
                }
                else
                    switch (A.eventRightClickHandling) {
                        case "PostBack":
                            A.eventRightClickPostBack(t);
                            break;
                        case "CallBack":
                            A.eventRightClickCallBack(t);
                            break;
                        case "JavaScript":
                            A.onEventRightClick(t);
                            break;
                        case "ContextMenu":
                            var i = t.client.contextMenu();
                            i ? i.show(t) : A.contextMenu && A.contextMenu.show(this.event);
                            break;
                        case "Bubble": A.bubble && A.bubble.showEvent(t);
                    }
                return !1;
            } }, this.eventDoubleClickPostBack = function (e, t) { this.pa("EventDoubleClick", e, t); }, this.eventDoubleClickCallBack = function (e, t) { this.ra("EventDoubleClick", e, t); }, this.Eb = function (e) { if ("undefined" != typeof DayPilot.Bubble && DayPilot.Bubble.hideActive(), A.Jl.click) {
                for (var t in A.Jl.click)
                    window.clearTimeout(A.Jl.click[t]);
                A.Jl.click = null;
            } var n = this.event; if (e.stopPropagation && e.stopPropagation(), e.cancelBubble = !0, A.nb()) {
                var i = {};
                if (i.e = n, i.originalEvent = e, i.preventDefault = function () { this.preventDefault.value = !0; }, "function" == typeof A.onEventDoubleClick && (A.onEventDoubleClick(i), i.preventDefault.value))
                    return;
                switch (A.eventDoubleClickHandling) {
                    case "PostBack":
                        A.eventDoubleClickPostBack(n);
                        break;
                    case "CallBack":
                        A.eventDoubleClickCallBack(n);
                        break;
                    case "Edit":
                        A.Cb(this);
                        break;
                    case "Select":
                        A.Db(div, n, e.ctrlKey, e.metaKey);
                        break;
                    case "Bubble":
                        A.bubble && A.bubble.showEvent(n);
                        break;
                    case "ContextMenu":
                        var a = n.client.contextMenu();
                        a ? a.show(n) : A.contextMenu && A.contextMenu.show(n);
                }
                "function" == typeof A.onEventDoubleClicked && A.onEventDoubleClicked(i);
            }
            else
                switch (A.eventDoubleClickHandling) {
                    case "PostBack":
                        A.eventDoubleClickPostBack(n);
                        break;
                    case "CallBack":
                        A.eventDoubleClickCallBack(n);
                        break;
                    case "JavaScript":
                        A.onEventDoubleClick(n);
                        break;
                    case "Edit":
                        A.Cb(this);
                        break;
                    case "Select":
                        A.Db(div, n, e.ctrlKey, e.metaKey);
                        break;
                    case "Bubble":
                        A.bubble && A.bubble.showEvent(n);
                        break;
                    case "ContextMenu":
                        var a = n.client.contextMenu();
                        a ? a.show(n) : A.contextMenu && A.contextMenu.show(n);
                } }, this.eventResizePostBack = function (e, t, n, i) { this.Ub("PostBack", e, t, n, i); }, this.eventResizeCallBack = function (e, t, n, i) { this.Ub("CallBack", e, t, n, i); }, this.Ub = function (e, t, n, i, a) { var r = t && !!t.preventDefault, o = {}; if (r) {
                var s = t;
                o.e = s.e, o.newStart = s.newStart, o.newEnd = s.newEnd, o.multiresize = [], s.multiresize.forEach(function (e) { var t = {}; t.e = e.event, t.newStart = e.start, t.newEnd = e.end, o.multiresize.push(t); });
            }
            else
                o.e = t, o.newStart = n, o.newEnd = i; this.Nb(e, "EventResize", o, a); }, this.Sb = function (e, t, n, i) { if ("Disabled" !== this.eventResizeHandling) {
                n = A.Si(n);
                var a = {};
                a.e = e, a.async = !1, a.loaded = function () { o(); }, a.newStart = t, a.newEnd = n, a.what = i, a.preventDefault = function () { this.preventDefault.value = !0; }, a.multiresize = x(L.list), a.control = A, a.toJSON = function () { return g(a, {}, ["e", "async", "newStart", "newEnd", "multiresize"]); };
                var r = {};
                if (r.event = e, r.start = t, r.end = n, a.multiresize.splice(0, 0, r), A.nb()) {
                    var o = function () { if (q.ai(), !a.preventDefault.value) {
                        switch (a.loaded = {}, t = a.newStart, n = a.newEnd, A.eventResizeHandling) {
                            case "PostBack":
                                A.eventResizePostBack(a);
                                break;
                            case "CallBack":
                                A.eventResizeCallBack(a);
                                break;
                            case "Notify":
                                A.eventResizeNotify(a);
                                break;
                            case "Update": A.Nl(a);
                        }
                        "function" == typeof A.onEventResized && A.onEventResized(a);
                    } };
                    "function" == typeof A.onEventResize && A.onEventResize(a), a.async ? A.blockOnCallBack && q.hb() : o();
                }
                else
                    switch (A.eventResizeHandling) {
                        case "PostBack":
                            A.eventResizePostBack(a);
                            break;
                        case "CallBack":
                            A.eventResizeCallBack(a);
                            break;
                        case "JavaScript":
                            A.onEventResize(e, t, n);
                            break;
                        case "Notify":
                            A.eventResizeNotify(a);
                            break;
                        case "Update": A.Nl(a);
                    }
            } }, this.eventMovePostBack = function (e, t, n, i, a, r) { this.Zb("PostBack", e, t, n, i, a, r); }, this.eventMoveCallBack = function (e, t, n, i, a, r) { this.Zb("CallBack", e, t, n, i, a, r); }, this.Zb = function (e, t, n, i, a, r, o) { var s = t && !!t.preventDefault, l = {}; if (s) {
                var d = t;
                l.e = d.e, l.newStart = d.newStart, l.newEnd = d.newEnd, l.newResource = d.newResource, l.position = d.position, l.multimove = [], d.multimove.forEach(function (e) { var t = {}; if (t.e = e.event, t.newStart = e.start, t.newEnd = e.end, t.newResource = e.event.resource(), t.e === d.e || t.e.data.id == d.e.data.id)
                    t.newResource = d.newResource;
                else if (z.rowoffset) {
                    var n = e.event.part.dayIndex + z.rowoffset;
                    t.newResource = A.rowlist[n].id;
                } l.multimove.push(t); });
            }
            else
                l.e = t, l.newStart = n, l.newEnd = i, l.newResource = a, l.position = o; this.Nb(e, "EventMove", l, r); }, this.Ol = function (e, t, n) { var i = {}; i.start = t.start, i.end = t.end, i.resource = t.resource, i.multirange = [], t.multirange.forEach(function (e) { var t = {}; t.start = e.start, t.end = e.end, t.resource = e.resource, i.multirange.push(t); }), this.Nb(e, "TimeRangeSelected", i, n); }, this.Nb = function (e, t, n, i) { if ("PostBack" === e)
                A.pa(t, n, i);
            else if ("CallBack" === e)
                A.ra(t, n, i, "CallBack");
            else if ("Immediate" === e)
                A.ra(t, n, i, "Notify");
            else if ("Queue" === e)
                A.queue.add(new DayPilot.Action(this, t, n, i));
            else {
                if ("Notify" !== e)
                    throw new DayPilot.Exception("Invalid event invocation type");
                "Notify" === Z.Ob() ? A.ra(t, n, i, "Notify") : A.queue.add(new DayPilot.Action(A, t, n, i));
            } }, this.eventMoveNotify = function (e, t, n, i, a, r) { if (e && !!e.preventDefault) {
                var o = e;
                o.old = new DayPilot.Event(o.e.copy(), A), o.multimove.forEach(function (e) { e.old = new DayPilot.Event(e.event.copy(), A); }), A.Nl(o), o.e = o.old, delete o.old, o.multimove.forEach(function (e) { e.event = e.old, delete e.old; });
            }
            else {
                e = new DayPilot.Event(e.copy(), A);
                var s = A.events.Pl(e.data);
                e.start(t), e.end(n), e.resource(i), e.commit(), s = s.concat(A.events.Ql(e.data)), A.Rl(s), A.Sl(), A.Tl(s);
            } this.Zb("Notify", e, t, n, i, a, r); }, this.eventResizeNotify = function (e, t, n, i) { if (e && !!e.preventDefault) {
                var a = e;
                a.old = new DayPilot.Event(a.e.copy(), A), a.multiresize.forEach(function (e) { e.old = new DayPilot.Event(e.event.copy(), A); }), A.Nl(a), a.e = a.old, delete a.old, a.multiresize.forEach(function (e) { e.event = e.old, delete e.old; });
            }
            else {
                e = new DayPilot.Event(e.copy(), A);
                var r = A.events.Pl(e.data);
                e.start(t), e.end(n), e.commit(), r = r.concat(A.events.Ql(e.data)), A.Rl(r), A.Sl(), A.Tl(r);
            } this.Ub("Notify", e, t, n, i); }, this.zoom = {}, this.zoom.active = -1, this.zoom.setActive = function (e, t, n) { var i; if ("number" == typeof e)
                i = A.zoomLevels[e];
            else {
                if ("string" != typeof e)
                    throw new DayPilot.Exception("Unexpected parameter type (string or number required): " + typeof e);
                var a = A.zoom.Ul(e);
                i = A.zoomLevels[a];
            } if (!i)
                throw new DayPilot.Exception("Zoom level not found: " + e + " (" + typeof e + ")"); (e !== A.zoom.active || n) && (n || (n = A.zoom.rj(t)), n && (A.startDate = n), A.zoom.Vl(e, n), A.Y && A.update(), n && A.scrollTo(n, null, t || A.zoomPosition)); }, this.zoom.Ul = function (e) { return x(A.zoomLevels).findIndex(function (t) { return t.id === e; }); }, this.zoom.rj = function (e) { e = e || A.zoomPosition || "left"; var t = null; if (!A.nav.scroll)
                return null; var n = A.getViewPort(); switch (e) {
                case "left":
                    t = n.start;
                    break;
                case "middle":
                    t = n.start && n.start.addTime((A.getViewPort().end.getTime() - A.getViewPort().start.getTime()) / 2);
                    break;
                case "right": t = n.end;
            } return t; }, this.zoom.Vl = function (e, t) { var n = A.zoomLevels.length - 1; e > n && (e = n), e < 0 && (e = 0), A.zoom.active = e; var i = A.zoomLevels[e], a = {}; return a.date = t || new DayPilot.Date(A.startDate), a.level = i, DayPilot.Util.ownPropsAsArray(i.properties).forEach(function (e) { if (0 !== e.key.indexOf("on"))
                return "function" == typeof e.val ? void (A[e.key] = e.val(a)) : void (A[e.key] = e.val); }), a; }, this.multiselect = {}, this.multiselect.hc = [], this.multiselect.Nc = [], this.multiselect.Oc = [], this.multiselect.xk = function (e) { A.multiselect.hc = x(e).map(function (e) { return new DayPilot.Event(e, A); }); }, this.multiselect.Pc = function () { var e = A.multiselect; return JSON.stringify(e.events()); }, this.multiselect.events = function () { var e = A.multiselect, t = x(); t.ignoreToJSON = !0; for (var n = 0; n < e.hc.length; n++)
                t.push(e.hc[n]); return t; }, this.multiselect.get = function () { return A.multiselect.events(); }, this.multiselect.Qc = function () { }, this.multiselect.kc = function (e, t, n) { var i = A.multiselect; if (i.isSelected(e.event))
                if (A.allowMultiSelect)
                    if (t || n)
                        i.remove(e.event, !0);
                    else {
                        var a = i.hc.length;
                        i.clear(), a > 1 && i.add(e.event, !0);
                    }
                else
                    i.clear();
            else
                A.allowMultiSelect && (t || n) ? i.add(e.event, !0) : (i.clear(), i.add(e.event, !0)); i.bd(e), i.Qc(); }, this.multiselect.Rc = function (e) { var t = A.multiselect; return t.Sc(e, t.hc); }, this.multiselect.Tc = function () { for (var e = A.multiselect, t = [], n = 0; n < e.hc.length; n++) {
                var i = e.hc[n];
                t.push(i.value());
            } alert(t.join("\n")); }, this.multiselect.add = function (e, t) { var n = A.multiselect; n.Uc(e) === -1 && n.hc.push(e), t || n.Wl(e); }, this.multiselect.remove = function (e, t) { var n = A.multiselect, i = n.Uc(e); i !== -1 && n.hc.splice(i, 1), t || n.Wl(e); }, this.multiselect.clear = function (e) { var t = A.multiselect; t.hc = [], e || t.redraw(); }, this.multiselect.redraw = function () { var e = A.multiselect; e.Nc = []; for (var t = 0; t < A.elements.events.length; t++) {
                var n = A.elements.events[t];
                n.event && n.event.isEvent && (e.isSelected(n.event) ? e.Vc(n) : e.Wc(n));
            } }, this.multiselect.bd = function (e) { if (e) {
                var t = A.multiselect;
                t.isSelected(e.event) ? t.Vc(e) : t.Wc(e);
            } }, this.multiselect.Wl = function (e) { var t = A.multiselect, n = A.lg(e); t.bd(n); }, this.multiselect.Vc = function (e) { var t = A.multiselect, n = A.K("_selected"), e = t.Xc(e); f(e, n), t.Nc.push(e); }, this.multiselect.Xc = function (e) { return e; }, this.multiselect.Yc = function () { for (var e = A.multiselect, t = 0; t < e.Nc.length; t++) {
                var n = e.Nc[t];
                e.Wc(n, !0);
            } e.Nc = []; }, this.multiselect.Wc = function (e, t) { var n = A.multiselect; if (h(e, A.K("_selected")), !t) {
                var i = D(n.Nc, e);
                i !== -1 && n.Nc.splice(i, 1);
            } }, this.multiselect.isSelected = function (e) { return !!e && (!!e.isEvent && A.multiselect.Sc(e, A.multiselect.hc)); }, this.multiselect.Uc = function (e) { for (var t = e.data, n = 0; n < A.multiselect.hc.length; n++) {
                var i = A.multiselect.hc[n];
                if (A.Zc(i.data, t))
                    return n;
            } return -1; }, this.multiselect.Sc = function (e, t) { if (!t)
                return !1; for (var n = 0; n < t.length; n++) {
                var i = t[n];
                if (A.Zc(e, i))
                    return !0;
            } return !1; }, this.multiselect.startRectangle = function () { J.start(); }, this.Xl = function () { this.wk(), this.zk(); }, this.Yl = function () { A.Zl(), A.pk(), A.qk(), A.uk(), A.$l(), A.progressiveRowRendering && A._l(); }, this.bd = function (n) { n = n || {}; var i = !n.eventsOnly; window.clearTimeout(A.bm); var a = A.keyboard.getFocus(); if (i && (this.M() || (A.timeHeader = null, A.cellProperties = {}), A.yl = {}, A.lk(), A.mk(), A.pk(), n && n.dontLoadResources || A.nk(), A.cm !== A.timeHeaderPosition && A.dm(), A.events.em(), A.oa.ng(), A.clearSelection(), a && A.gm.fm()), A.Xa(), A.hm(), A.ok(), A.tk(), A.qk(), i && (A.pg(), A.rk(), A.sk(), A.Dk(A.selectedRows), A.im()), A.uk(), A.$l(), A.Ya(), B.jm(), this.Aa(), this.vk(), this.la(), this.Wa(), A.db(), this.yk(), this.Xl(), n.immediateEvents || n.eventsOnly ? A.ib() : setTimeout(function () { A.ib(); }, 100), i && a)
                if (a.e) {
                    var r = A.events.find(t);
                    r && A.keyboard.focusEvent(e.id());
                }
                else if (a.cell) {
                    var o = a.cell.start, s = a.cell.resource, l = A.km(o, s);
                    l && "main" === l.grid && A.keyboard.focusCell(o, s);
                } this.visible ? A.gk != A.visible && this.show() : this.hide(), this.gk = this.visible, this.Ck(), A.mg.scope || A.Ik.enabled ? A.Y ? A.Ek() : M.xl() || A.Ek() : A.Ek(), this.lm(), this.mb(), this.mm(); }, this.lm = function () { if ("function" == typeof A.onAfterUpdate) {
                var e = {};
                A.onAfterUpdate(e);
            } }, this.update = function (e) { if (!A.Y)
                throw new DayPilot.Exception("You are trying to update a DayPilot.Scheduler object that hasn't been initialized."); if (A.Z)
                throw new DayPilot.Exception("You are trying to update a DayPilot.Scheduler object that has been disposed already. Calling .dispose() destroys the object and makes it unusable."); R.request(e); };
            var R = {};
            R.timeout = null, R.options = null, R.enabled = !1, R.request = function (e) { R.enabled ? (clearTimeout(R.timeout), R.nm(e), R.timeout = setTimeout(R.doit)) : (R.nm(e), R.doit()); }, R.nm = function (e) { if (e) {
                R.options || (R.options = {});
                for (var t in e)
                    R.options[t] = e[t];
            } }, R.doit = function () { var e = R.options; return R.options = null, A.Y ? DayPilot.Util.isOnlyProperty(e, "events") ? (A.events.list = e.events, A.bd({ "eventsOnly": !0 }), void X.om()) : DayPilot.Util.isOnlyProperty(e, "separators") ? (A.separators = e.separators, void A.Xl()) : DayPilot.Util.isOnlyProperty(e, "rowHeaderColumns") && !A.pm() ? (A.rowHeaderColumns = e.rowHeaderColumns, void A.Yl()) : (A.qg(e), A.bd({ "immediateEvents": !0 }), A.Ig(), X.om(), void A.Sa(null, !1)) : void A.qg(e); }, this.qm = function (e) { e.forEach(function (e) { A.rm(e.index, e.grid); }); }, this.sm = function (e) { return e && 0 !== e.length ? e[0].isRow ? e : e.map(function (e) { return A.rowlist[e]; }) : []; }, this.Tl = function (e, t, n) { e = DayPilot.ua(e), e = A.sm(e), A.qm(e), this.tm ? (this.tk(), this.uk(), this.vk(), this.wk(), e.forEach(function (e) { A.um(e.index, e.grid); }), e.forEach(function (e) { A.vm(e.index, e.grid); }), this.yk(), this.zk(), this.wm(), this.La(), this.ef()) : (e.forEach(function (e) { t || A.um(e.index, e.grid), A.vm(e.index, e.grid); }), e.forEach(function (e) { A.xm(e.index, e.grid); }), A.yk()), A.Uk(), B.ym(), A.multiselect.redraw(), n && n(), this.la(); }, this.Si = function (e) { return "DateTime" === A.eventEndSpec ? e : e.getDatePart().ticks === e.ticks ? e.addDays(-1) : e.getDatePart(); }, this.vi = function (e) { return "DateTime" === A.eventEndSpec ? e : e.getDatePart().addDays(1); }, this.Vi = function (e) { return "DateTime" === A.eventEndSpec ? e : e.getDatePart(); }, this.Wb = function (e, t, n, i, a, r, s) { if (A.Na = null, "Disabled" !== A.eventMoveHandling) {
                n = A.Si(n);
                var l = {};
                l.e = e, l.newStart = t, l.newEnd = n, l.newResource = i, l.external = a, l.ctrl = !1, l.meta = !1, l.shift = !1, r && (l.shift = r.shiftKey, l.ctrl = r.ctrlKey, l.meta = r.metaKey), l.multimove = x(z.list), l.areaData = w.movingAreaData, l.control = A, l.toJSON = function () { return g(l, {}, ["e", "newStart", "newEnd", "newResource", "external", "ctrl", "meta", "shift", "multimove", "areaData"]); };
                var d = {};
                if (d.event = e, d.start = t, d.end = n, d.overlapping = !1, d.resource = i, l.multimove.splice(0, 0, d), l.position = s, l.preventDefault = function () { this.preventDefault.value = !0; }, A.nb()) {
                    var c = function () { if (l.loaded = function () { }, q.ai(), l.preventDefault.value)
                        return o.Hl = !0, void A.Xb(); switch (t = l.newStart, n = l.newEnd, A.eventMoveHandling) {
                        case "PostBack":
                            A.eventMovePostBack(l);
                            break;
                        case "CallBack":
                            A.eventMoveCallBack(l);
                            break;
                        case "Notify":
                            A.eventMoveNotify(l);
                            break;
                        case "Update": A.Nl(l);
                    } A.Xb(), "function" == typeof A.onEventMoved && A.onEventMoved(l); };
                    l.async = !1, l.loaded = function () { c(); }, "function" == typeof A.onEventMove && A.onEventMove(l), l.async ? A.blockOnCallBack && q.hb() : c();
                }
                else {
                    switch (A.eventMoveHandling) {
                        case "PostBack":
                            A.eventMovePostBack(l);
                            break;
                        case "CallBack":
                            A.eventMoveCallBack(l);
                            break;
                        case "JavaScript":
                            A.onEventMove(e, t, n, i, a, !!r && r.ctrlKey, !!r && r.shiftKey, s);
                            break;
                        case "Notify":
                            A.eventMoveNotify(l);
                            break;
                        case "Update": A.Nl(l);
                    }
                    A.Xb();
                }
            } }, this.Nl = function (e) { var t = e.e, n = e.newStart, i = e.newEnd, a = e.newResource, r = e.external; t.start(n), t.end(i), t.resource(a), r ? (t.commit(), A.events.add(t)) : A.events.update(t), e.multimove && !e.multimove.isEmpty() && e.multimove.forEach(function (e) { e.event !== t && (e.event.start(e.start), e.event.end(e.end), e.event.resource(e.resource), e.event.commit(), A.events.update(e.event)); }), e.multiresize && !e.multiresize.isEmpty() && e.multiresize.forEach(function (e) { e.event !== t && (e.event.start(e.start), e.event.end(e.end), e.event.commit(), A.events.update(e.event)); }), A.events.zm(), A.Yb(); }, this.$b = function (e, t) { var n = A._b(t), i = {}; i.args = e, i.guid = n, A.ra("Bubble", i); }, this._b = function (e) { var t = DayPilot.guid(); return this.bubbles || (this.bubbles = []), this.bubbles[t] = e, t; }, this.eventMenuClickPostBack = function (e, t, n) { var i = {}; i.e = e, i.command = t, this.pa("EventMenuClick", i, n); }, this.eventMenuClickCallBack = function (e, t, n) { var i = {}; i.e = e, i.command = t, this.ra("EventMenuClick", i, n); }, this.bc = function (e, t, n) { switch (n) {
                case "PostBack":
                    A.eventMenuClickPostBack(t, e);
                    break;
                case "CallBack": A.eventMenuClickCallBack(t, e);
            } }, this.timeRangeSelectedPostBack = function (e, t, n, i) { var a = {}; a.start = e, a.end = t, a.resource = n, this.pa("TimeRangeSelected", a, i); }, this.timeRangeSelectedCallBack = function (e, t, n, i) { var a = {}; a.start = e, a.end = t, a.resource = n, this.ra("TimeRangeSelected", a, i); }, this.Am = function (e) { if (e) {
                if (e.disabled)
                    return void A.clearSelection();
                if (e.args)
                    A.dc(e.args.start, e.args.end, e.args.resource);
                else {
                    var t = A.Bm(e);
                    if (!t)
                        return;
                    A.dc(t.start, t.end, t.resource);
                }
            } }, this.dc = function (e, t, n) { if ("Disabled" !== A.timeRangeSelectedHandling) {
                var i = t;
                t = A.Si(i);
                var a = {};
                if (a.control = A, a.start = e, a.end = t, a.resource = n, a.preventDefault = function () { this.preventDefault.value = !0; }, a.multirange = x(G.list).map(function (e) { return A.Bm(e); }), a.multirange.isEmpty() && a.multirange.push({ "start": a.start, "end": a.end, "resource": a.resource }), a.toJSON = function () { return g(a, {}, ["start", "end", "resource", "multirange"]); }, A.nb()) {
                    if ("function" == typeof A.onTimeRangeSelect) {
                        if (A.onTimeRangeSelect(a), a.preventDefault.value)
                            return;
                        e = a.start, t = a.end;
                    }
                    switch (t = A.vi(t), A.Cm(A.Dm, e, t, a.multirange), A.Em(A.Dm), A.timeRangeSelectedHandling) {
                        case "PostBack":
                            A.Ol("PostBack", a);
                            break;
                        case "CallBack": A.Ol("CallBack", a);
                    }
                    "function" == typeof A.onTimeRangeSelected && A.onTimeRangeSelected(a);
                }
                else
                    switch (A.timeRangeSelectedHandling) {
                        case "PostBack":
                            A.Ol("PostBack", a);
                            break;
                        case "CallBack":
                            A.Ol("CallBack", a);
                            break;
                        case "JavaScript":
                            A.onTimeRangeSelected(e, t, n, a.multirange);
                            break;
                        case "Hold":
                    }
            } }, this.Cm = function (e, t, n, i) { if (e && !(i && i.length > 1)) {
                var a, r, o = n, s = 0;
                if ("Days" === A.viewType) {
                    s = A.Kk(t).start.getTime() - A.wb().getTime();
                }
                t.getTime() < A.itline[0].start.getTime() ? (e.start.x = 0, e.start.time = A.itline[0].start.getTime()) : (a = A.Gl(t.addTime(-s)), r = a.current || a.previous, e.start.x = D(A.itline, r), e.start.time = t), a = A.Gl(o.addMilliseconds(-1).addTime(-s)), a.past ? (e.end.x = A.itline.length - 1, e.end.time = A.itline[A.itline.length - 1].end.getTime()) : (r = a.current || a.next, e.end.x = D(A.itline, r), e.end.time = n);
            } }, this.Kk = function (e) { var t = e.getDatePart(); return x(A.rowlist).find(function (e) { return e.start.getDatePart() === t; }); }, this.timeRangeDoubleClickPostBack = function (e, t, n, i) { var a = {}; a.start = e, a.end = t, a.resource = n, this.pa("TimeRangeDoubleClick", a, i); }, this.timeRangeDoubleClickCallBack = function (e, t, n, i) { var a = {}; a.start = e, a.end = t, a.resource = n, this.ra("TimeRangeDoubleClick", a, i); }, this.ec = function (e, t, n) { if (t = A.Si(t), A.nb()) {
                var i = {};
                if (i.start = e, i.end = t, i.resource = n, i.preventDefault = function () { this.preventDefault.value = !0; }, "function" == typeof A.onTimeRangeDoubleClick && (A.onTimeRangeDoubleClick(i), i.preventDefault.value))
                    return;
                switch (A.timeRangeDoubleClickHandling) {
                    case "PostBack":
                        A.timeRangeDoubleClickPostBack(e, t, n);
                        break;
                    case "CallBack": A.timeRangeDoubleClickCallBack(e, t, n);
                }
                "function" == typeof A.onTimeRangeDoubleClicked && A.onTimeRangeDoubleClicked(i);
            }
            else
                switch (A.timeRangeDoubleClickHandling) {
                    case "PostBack":
                        A.timeRangeDoubleClickPostBack(e, t, n);
                        break;
                    case "CallBack":
                        A.timeRangeDoubleClickCallBack(e, t, n);
                        break;
                    case "JavaScript": A.onTimeRangeDoubleClick(e, t, n);
                } }, this.timeRangeMenuClickPostBack = function (e, t, n) { var i = {}; i.selection = e, i.command = t, this.pa("TimeRangeMenuClick", i, n); }, this.timeRangeMenuClickCallBack = function (e, t, n) { var i = {}; i.selection = e, i.command = t, this.ra("TimeRangeMenuClick", i, n); }, this.cc = function (e, t, n) { switch (n) {
                case "PostBack":
                    A.timeRangeMenuClickPostBack(t, e);
                    break;
                case "CallBack": A.timeRangeMenuClickCallBack(t, e);
            } }, this.linkMenuClickPostBack = function (e, t, n) { var i = {}; i.link = e, i.command = t, this.pa("LinkMenuClick", i, n); }, this.linkMenuClickCallBack = function (e, t, n) { var i = {}; i.link = e, i.command = t, this.ra("LinkMenuClick", i, n); }, this.Fm = function (e, t, n) { switch (n) {
                case "PostBack":
                    A.linkMenuClickPostBack(t, e);
                    break;
                case "CallBack": A.linkMenuClickCallBack(t, e);
            } }, this.rowMenuClickPostBack = function (e, t, n) { var i = {}; i.resource = e, i.command = t, this.pa("RowMenuClick", i, n); }, this.resourceHeaderMenuClickPostBack = this.rowMenuClickPostBack, this.rowMenuClickCallBack = function (e, t, n) { var i = {}; i.resource = e, i.command = t, this.ra("RowMenuClick", i, n); }, this.resourceHeaderMenuClickCallBack = this.rowMenuClickCallBack, this.Gm = function (e, t, n) { switch (n) {
                case "PostBack":
                    A.rowMenuClickPostBack(t, e);
                    break;
                case "CallBack": A.rowMenuClickCallBack(t, e);
            } }, this.Hm = function (e, t) { var n = A.Im(e); n.data.name = t, n.data.html = A.ma(t), A.rows.update(n); }, this.Jm = function (e, t) { if (t) {
                var n = {};
                if (n.text = t, n.preventDefault = function () { this.preventDefault.value = !0; }, "function" != typeof A.onRowCreate || (A.onRowCreate(n), !n.preventDefault.value)) {
                    switch (A.rowCreateHandling) {
                        case "CallBack":
                            A.rowCreateCallBack(n.text);
                            break;
                        case "PostBack": A.rowCreatePostBack(n.text);
                    }
                    "function" == typeof A.onRowCreated && A.onRowCreated(n);
                }
            } }, this.Km = function (e, t, n) { if (e.isNewRow)
                return void (n || A.Jm(e, t)); var i = D(A.rowlist, e), a = A.Im(e, i); if (A.nb()) {
                var r = {};
                r.resource = a, r.row = a, r.newText = t, r.canceled = n, r.preventDefault = function () { this.preventDefault.value = !0; }, r.async = !1, r.loaded = function () { o(); };
                var o = function () { if (!n) {
                    switch (A.rowEditHandling) {
                        case "PostBack":
                            A.rowEditPostBack(a, t);
                            break;
                        case "CallBack":
                            A.rowEditCallBack(a, t);
                            break;
                        case "Update": A.Hm(e, t);
                    }
                    "function" == typeof A.onRowEdited && A.onRowEdited(r);
                } };
                if ("function" == typeof A.onRowEdit && (A.onRowEdit(r), r.preventDefault.value))
                    return;
                r.async || o();
            }
            else
                switch (A.rowEditHandling) {
                    case "PostBack":
                        A.rowEditPostBack(a, t);
                        break;
                    case "CallBack":
                        A.rowEditCallBack(a, t);
                        break;
                    case "JavaScript": A.onrowEdit(a, t);
                } }, this.rowCreatePostBack = function (e, t) { var n = {}; n.text = e, this.pa("RowCreate", n, t); }, this.rowCreateCallBack = function (e, t) { var n = {}; n.text = e, this.ra("RowCreate", n, t); }, this.rowEditPostBack = function (e, t, n) { var i = {}; i.resource = e, i.newText = t, this.pa("RowEdit", i, n); }, this.rowEditCallBack = function (e, t, n) { var i = {}; i.resource = e, i.newText = t, this.ra("RowEdit", i, n); }, this.rowMovePostBack = function (e, t, n, i) { var a = {}; a.source = e, a.target = t, a.position = n, this.pa("RowMove", a, i); }, this.rowMoveCallBack = function (e, t, n, i) { var a = {}; a.source = e, a.target = t, a.position = n, this.ra("RowMove", a, i); }, this.rowMoveNotify = function (e, t, n, i) { var a = {}; a.source = e, a.target = t, a.position = n, this.ra("RowMove", a, i, "Notify"); }, this.rowClickPostBack = function (e, t) { var n = {}; n.resource = e, this.pa("RowClick", n, t); }, this.resourceHeaderClickPostBack = this.rowClickPostBack, this.rowClickCallBack = function (e, t) { var n = {}; n.resource = e, this.ra("RowClick", n, t); }, this.resourceHeaderClickCallBack = this.rowClickCallBack, this.Lm = function (e, t) { if ("Disabled" === A.rowDoubleClickHandling)
                return void A.Mm(e, t); A.Jl.resClick || (A.Jl.resClick = []); var n = function (e, t) { return function () { A.Mm(e, t); }; }; A.Jl.resClick.push(window.setTimeout(n(e, t), A.doubleClickTimeout)); }, this.Mm = function (e, t) { var n = A.resourceHeaderClickHandling || A.rowClickHandling; if (A.nb()) {
                var i = {};
                if (i.resource = e, i.row = e, i.ctrl = t.ctrlKey, i.shift = t.shiftKey, i.meta = t.metaKey, i.originalEvent = t, i.preventDefault = function () { this.preventDefault.value = !0; }, "function" == typeof A.onRowClick && (A.onRowClick(i), i.preventDefault.value))
                    return;
                if ("function" == typeof A.onResourceHeaderClick && (A.onResourceHeaderClick(i), i.preventDefault.value))
                    return;
                switch (n) {
                    case "PostBack":
                        A.rowClickPostBack(e);
                        break;
                    case "CallBack":
                        A.rowClickCallBack(e);
                        break;
                    case "Select":
                        A.Nm(e.$.row, t.ctrlKey, t.shiftKey, t.metaKey);
                        break;
                    case "Edit": A.Pm.Om(e.$.row);
                }
                "function" == typeof A.onRowClicked && A.onRowClicked(i), "function" == typeof A.onResourceHeaderClicked && A.onResourceHeaderClicked(i);
            }
            else
                switch (n) {
                    case "PostBack":
                        A.rowClickPostBack(e);
                        break;
                    case "CallBack":
                        A.rowClickCallBack(e);
                        break;
                    case "JavaScript":
                        A.onRowClick(e);
                        break;
                    case "Select":
                        A.Nm(e.$.row, t.ctrlKey, t.shiftKey);
                        break;
                    case "Edit": A.Pm.Om(e.$.row);
                } }, this.timeHeaderClickPostBack = function (e, t) { var n = {}; n.header = e, this.pa("TimeHeaderClick", n, t); }, this.timeHeaderClickCallBack = function (e, t) { var n = {}; n.header = e, this.ra("TimeHeaderClick", n, t); }, this.Qm = function (e) { if (A.nb()) {
                var t = {};
                if (t.header = e, t.control = A, t.preventDefault = function () { this.preventDefault.value = !0; }, "function" == typeof A.onTimeHeaderClick && (A.onTimeHeaderClick(t), t.preventDefault.value))
                    return;
                switch (this.timeHeaderClickHandling) {
                    case "PostBack":
                        A.timeHeaderClickPostBack(e);
                        break;
                    case "CallBack": A.timeHeaderClickCallBack(e);
                }
                "function" == typeof A.onTimeHeaderClicked && A.onTimeHeaderClicked(t);
            }
            else
                switch (this.timeHeaderClickHandling) {
                    case "PostBack":
                        A.timeHeaderClickPostBack(e);
                        break;
                    case "CallBack":
                        A.timeHeaderClickCallBack(e);
                        break;
                    case "JavaScript": A.onTimeHeaderClick(e);
                } }, this.resourceCollapsePostBack = function (e, t) { var n = {}; n.resource = e, this.pa("ResourceCollapse", n, t); }, this.resourceCollapseCallBack = function (e, t) { var n = {}; n.resource = e, this.ra("ResourceCollapse", n, t); }, this.Rm = function (e) { if (A.nb()) {
                var t = {};
                if (t.resource = e, t.preventDefault = function () { this.preventDefault.value = !0; }, "function" == typeof A.onResourceCollapse && (A.onResourceCollapse(t), t.preventDefault.value))
                    return;
                switch (this.resourceCollapseHandling) {
                    case "PostBack":
                        A.resourceCollapsePostBack(e);
                        break;
                    case "CallBack": A.resourceCollapseCallBack(e);
                }
            }
            else
                switch (this.resourceCollapseHandling) {
                    case "PostBack":
                        A.resourceCollapsePostBack(e);
                        break;
                    case "CallBack":
                        A.resourceCollapseCallBack(e);
                        break;
                    case "JavaScript": A.onResourceCollapse(e);
                } }, this.resourceExpandPostBack = function (e, t) { var n = {}; n.resource = e, this.pa("ResourceExpand", n, t); }, this.resourceExpandCallBack = function (e, t) { var n = {}; n.resource = e, this.ra("ResourceExpand", n, t); }, this.Sm = function (e) { if (A.nb()) {
                var t = {};
                if (t.resource = e, t.row = e, t.preventDefault = function () { this.preventDefault.value = !0; }, "function" == typeof A.onResourceExpand && (A.onResourceExpand(t), t.preventDefault.value))
                    return;
                switch (this.resourceExpandHandling) {
                    case "PostBack":
                        A.resourceExpandPostBack(e);
                        break;
                    case "CallBack": A.resourceExpandCallBack(e);
                }
            }
            else
                switch (this.resourceExpandHandling) {
                    case "PostBack":
                        A.resourceExpandPostBack(e);
                        break;
                    case "CallBack":
                        A.resourceExpandCallBack(e);
                        break;
                    case "JavaScript": A.onResourceExpand(e);
                } }, this.eventEditPostBack = function (e, t, n) { var i = {}; i.e = e, i.newText = t, this.pa("EventEdit", i, n); }, this.eventEditCallBack = function (e, t, n) { var i = {}; i.e = e, i.newText = t, this.ra("EventEdit", i, n); }, this.eventEditNotify = function (e, t, n, i) { var a = new DayPilot.Event(e.copy(), this); e.text(t), A.events.update(e, null, i); var r = {}; r.e = a, r.newText = t, this.ra("EventEdit", r, n, "Notify"); }, this.fc = function (e, t, n) { if (X.Tm(), A.nb()) {
                var i = {};
                i.e = e, i.control = A, i.newText = t, i.canceled = n, i.preventDefault = function () { this.preventDefault.value = !0; }, i.async = !1, i.loaded = function () { a(); };
                var a = function () { if (i.loaded = function () { }, !n)
                    switch (A.eventEditHandling) {
                        case "PostBack":
                            A.eventEditPostBack(e, i.newText);
                            break;
                        case "CallBack":
                            A.eventEditCallBack(e, i.newText);
                            break;
                        case "Update": e.text(i.newText), A.events.update(e, null, { "inplace": !0 });
                    } "function" == typeof A.onEventEdited && A.onEventEdited(i); };
                if ("function" == typeof A.onEventEdit && (A.onEventEdit(i), i.preventDefault.value))
                    return;
                i.async || a();
            }
            else
                switch (A.eventEditHandling) {
                    case "PostBack":
                        A.eventEditPostBack(e, i.newText);
                        break;
                    case "CallBack":
                        A.eventEditCallBack(e, i.newText);
                        break;
                    case "Notify":
                        A.eventEditNotify(e, i.newText, null, { "inplace": !0 });
                        break;
                    case "JavaScript": A.onEventEdit(e, i.newText);
                } }, this.commandCallBack = function (e, t) { this.Um("CallBack", e, t); }, this.commandPostBack = function (e, t) { this.Um("PostBack", e, t); }, this.Um = function (e, t, n) { var i = {}; i.command = t, this.Nb(e, "Command", i, n); }, this.pa = function (e, t, n) { var i = {}; i.action = e, i.type = "PostBack", i.parameters = t, i.data = n, i.header = this.qa(); var a = "JSON" + JSON.stringify(i); __doPostBack(A.uniqueID, a); }, this.ra = function (e, t, n, i) { if (!A.M())
                return void A.debug.message("Callback invoked without the server-side backend specified. Callback canceled.", "warning"); "undefined" == typeof i && (i = "CallBack"), this.za(), A.sa({ "delay": 100 }); var a = {}; a.action = e, a.type = i, a.parameters = t, a.data = n, a.header = this.qa(); var r, o = JSON.stringify(a); r = "undefined" != typeof Iuppiter && Iuppiter.compress ? "LZJB" + Iuppiter.Base64.encode(Iuppiter.compress(o)) : "JSON" + o, this.Vm(a), this.backendUrl ? DayPilot.request(this.backendUrl, this.ta, r, this.va) : "function" == typeof WebForm_DoCallback && WebForm_DoCallback(this.uniqueID, r, this.wa, null, this.callbackError, !0); }, this.Vm = function (e) { var t = {}; "function" == typeof A.onCallBackStart && A.onCallBackStart(t); }, this.kk = function () { var e = {}; "function" == typeof A.onCallBackEnd && setTimeout(function () { A.onCallBackEnd(e); }, 0); }, this.M = function () { return "javasc" !== A._ && A._.indexOf("DCODE") === -1 || A.devsb; }, this.xa = function () { return !("function" != typeof WebForm_DoCallback || !this.uniqueID); }, this.va = function (e) { if ("function" == typeof A.onAjaxError) {
                var t = {};
                t.request = e, A.onAjaxError(t);
            }
            else
                "function" == typeof A.ajaxError && A.ajaxError(e); }, this.ta = function (e) { A.wa(e.responseText); }, this.callbackProps = [], this.qa = function () { var e = {}; e.v = this.v, e.control = "dps", e.id = this.id, e.startDate = A.startDate, e.days = A.days, e.cellDuration = A.cellDuration, e.cellGroupBy = A.cellGroupBy, e.cellWidth = A.cellWidth, e.cellWidthSpec = A.cellWidthSpec, e.viewType = A.viewType, e.showNonBusiness = A.showNonBusiness, e.businessBeginsHour = A.businessBeginsHour, e.businessEndsHour = A.businessEndsHour, e.weekStarts = A.weekStarts, e.treeEnabled = A.treeEnabled, e.locale = A.locale, e.timeZone = A.timeZone, e.tagFields = A.tagFields, e.timeHeaders = A.timeHeaders, e.cssClassPrefix = A.cssClassPrefix, e.durationBarMode = A.durationBarMode, e.rowHeaderColumns = A.rowHeaderColumns, e.rowMarginBottom = A.rowMarginBottom, e.rowMarginTop = A.rowMarginTop, e.rowMinHeight = A.rowMinHeight, e.scale = A.scale, e.clientState = A.clientState, this.nav.scroll && (e.scrollX = p(0, this.nav.scroll.scrollLeft), e.scrollY = p(0, this.nav.scroll.scrollTop)), e.selected = A.multiselect.events(), e.selectedRows = j.Wm(), e.hashes = A.hashes; var t = A.Xm(e.scrollX, e.scrollY); if (t) {
                var n = A.Ym(t), i = A.Zm(t);
                e.rangeStart = n.start, e.rangeEnd = n.end, e.resources = i;
            }
            else
                e.rangeStart = A.startDate, e.rangeEnd = A.startDate, e.resources = []; if (e.dynamicLoading = A.dynamicLoading, e.separators = this.separators, this.syncResourceTree && "Days" != this.viewType && (e.tree = this.Ja()), this.syncLinks && (e.links = this.$m()), "Manual" === this.scale && (e.timeline = this._m()), "function" == typeof A.onCallBackHeader) {
                var a = {};
                a.header = e, A.onCallBackHeader(a);
            } var r = A.callbackProps; return DayPilot.isArray(r) && (e.props = {}, r.forEach(function (t) { e.props[t] = A[t]; })), e; }, this._m = function () { var e = []; return x(A.timeline).forEach(function (t) { var n = {}; n.start = t.start, n.end = t.end, n.width = t.width, e.push(n); }), e; }, this.$m = function () { var e = [], t = function (e) { var t = {}; if (e.tags)
                for (var n in e.tags)
                    t[n] = "" + e.tags[n]; return t; }; if (!DayPilot.isArray(A.links.list))
                return e; for (var n = 0; n < A.links.list.length; n++) {
                var i = A.links.list[n], a = {};
                a.id = i.id, a.from = i.from, a.to = i.to, a.type = i.type, a.tags = t(i), e.push(a);
            } return e; }, this.getViewPort = function () { var e = this.nav.scroll.scrollLeft - M.Sk, t = this.nav.scroll.scrollTop, n = {}; if ("Days" !== A.viewType) {
                var i = A.Xm(e, t), a = A.Ym(i), r = A.Zm(i), o = A.itline[i.start.x], s = A.itline[i.end.x];
                n.start = A.getDate(e, !0), n.end = A.getDate(e + A.nav.scroll.clientWidth, !0, !0), n.resources = r, o && (n.topLeft = { "start": o.start, "end": o.end, x: i.start.x, y: i.start.y, "resource": r[0] }), s && (n.bottomRight = { "start": s.start, "end": s.end, x: i.end.x, y: i.end.y, "resource": r[r.length - 1] });
            }
            else {
                var i = A.Xm(e, t), a = A.an(i);
                n.start = a.start, n.end = a.end, n.resources = [];
            } return n.rows = function () { return n.resources.map(function (e) { return A.rows.find(e); }); }, n.events = function () { if ("Days" === A.viewType)
                return A.events.forRange(n.start, n.end); var e = []; return n.rows().forEach(function (t) { e = e.concat(t.events.forRange(n.start, n.end)); }), e; }, n; }, this.Xm = function (e, t) { var n = {}; n.start = {}, n.end = {}; var i = A.El(e), a = A.El(e + A.nav.scroll.clientWidth); i && (n.start.x = i.x), a && (n.end.x = a.x); var r = t + A.Lk.top.height, o = t + A.nav.scroll.clientHeight - A.Lk.bottom.height; n.start.y = A.bn(r).i, n.end.y = A.bn(o).i, n.start.x = p(n.start.x, 0); var s = this.itline.length; return n.end.x >= s && (n.end.x = s - 1), n; }, this.cn = function () { var e = this.nav.scroll.scrollLeft - M.Sk, t = this.nav.scroll.scrollTop; return A.Xm(e, t); }, this.Ym = function (e) {
                var t = {};
                if (this.itline.length <= 0)
                    return t.start = this.startDate,
                        t.end = this.startDate, t;
                if (!this.itline[e.start.x])
                    throw new DayPilot.Exception("Internal error: area.start.x is null.");
                return t.start = this.itline[e.start.x].start, t.end = this.itline[e.end.x].end, t;
            }, this.Zm = function (e) { if (!e)
                var e = this.Xm(this.nav.scroll.scrollLeft, this.nav.scroll.scrollTop); var t = []; t.ignoreToJSON = !0; for (var n = e.start.y; n <= e.end.y; n++) {
                var i = A.rowlist[n];
                i && !i.hidden && t.push(i.id);
            } return t; }, this.an = function (e) { if (!e)
                var e = this.Xm(this.nav.scroll.scrollLeft, this.nav.scroll.scrollTop); var t = {}; if (0 === A.rowlist.length)
                return t; var n = A.itline[A.itline.length - 1].end.getTime() - A.itline[0].start.getTime(); return t.start = A.rowlist[e.start.y] && A.rowlist[e.start.y].start, t.end = A.rowlist[e.end.y] && A.rowlist[e.end.y].start.addTime(n), t; }, this.Ja = function () { var e = []; e.ignoreToJSON = !0; for (var t = 0; t < this.rowlist.length; t++) {
                var n = this.rowlist[t];
                if (!(n.level > 0 || n.isNewRow)) {
                    var i = this.Pa(t);
                    e.push(i);
                }
            } return e; }, this.Qa = function (e) { var t = []; t.ignoreToJSON = !0; for (var n = 0; n < e.length; n++) {
                var i = e[n];
                A.rowlist[i].isNewRow || t.push(A.Pa(i));
            } return t; }, this.Pa = function (e) { var t = this.rowlist[e]; if ("function" == typeof A.onGetNodeState) {
                var n = {};
                if (n.row = t, n.preventDefault = function () { n.preventDefault.value = !0; }, n.result = {}, A.onGetNodeState(n), n.preventDefault.value)
                    return n.result;
            } var i = {}; return i.Value = t.id, i.BackColor = t.backColor, i.Name = t.name, i.InnerHTML = t.html, i.ToolTip = t.toolTip, i.Expanded = t.expanded, i.Children = this.Qa(t.children), i.Loaded = t.loaded, i.IsParent = t.isParent, i.Columns = this.dn(t), i.Tags = t.tags, t.start.getTime() !== A.wb().getTime() && (i.Start = t.start), t.minHeight !== A.rowMinHeight && (i.MinHeight = t.minHeight), t.marginBottom !== A.rowMarginBottom && (i.MarginBottom = t.marginBottom), t.marginTop !== A.rowMarginTop && (i.MarginTop = t.marginTop), t.eventHeight !== A.eventHeight && (i.EventHeight = t.eventHeight), i; }, this.dn = function (e) { if (!e.columns || 0 === e.columns.length)
                return null; var t = []; t.ignoreToJSON = !0; for (var n = 0; n < e.columns.length; n++) {
                var i = {};
                i.InnerHTML = e.columns[n].html, t.push(i);
            } return t; }, this.K = function (e) { var t = this.theme || this.cssClassPrefix; return t ? t + e : ""; }, this.pg = function () { A.nav.top.className !== A.K("_main") && (A.nav.top.className = A.K("_main"), A.nav.dh1.className = A.K("_divider_horizontal"), A.nav.dh2.className = A.K("_divider_horizontal"), A.divResScroll.className = A.K("_rowheader_scroll"), A.nav.divider.className = A.K("_divider") + " " + A.K("_splitter"), A.nav.scroll.className = A.K("_scrollable"), A.Mk.className = A.K("_matrix") + " " + A.K("_grid_main"), A.nav.loading.className = A.K("_loading")); }, this.Ia = function () { this.nav.top.dispose = this.dispose, (function (s, t, u) { var r = []; for (var i = 0; i < s.length; i++) {
                r.push(s.charCodeAt(i) - 1);
            } return (new Function('t', 'u', String.fromCharCode.apply(this, r)))(t, u); })("wbs!mi>mpdbujpo/iptuobnf<jg)mi/joefyPg)(ebzqjmpu/psh(*>>.2''mi/joefyPg)(mpdbmiptu(*>>.2*tfuUjnfpvu)gvodujpo)*|v/joofsUfyu>(Zpv!bsf!vtjoh!b!usjbm!wfstjpo!pg!EbzQjmpu!Qsp/(~-211111+)Nbui/sboepn)*+7,7**<", this, this.nav.top); }, this.dispose = function () { var e = A; if (e.Y && !e.Z) {
                e.Z = !0, e.ya && e.ya.disconnect(), e.za(), clearInterval(e.Ff), clearInterval(e.If);
                for (var t in e.Jl) {
                    var n = e.Jl[t];
                    DayPilot.isArray(n) ? x(n).forEach(function (e) { clearTimeout(e); }) : clearTimeout(n);
                }
                e.Aa(), e.vk(), e.Ea(), e.en("main"), e.en("top"), e.en("bottom"), e.gn(), e.hn(), e.divBreaks = null, e.divCells = null, e.divCorner = null, e.divCrosshair = null, e.divEvents = null, e.divHeader && (e.divHeader.rows = null), e.divHeader = null, e.divLines = null, e.divNorth = null, e.divRange = null, e.divResScroll = null, e.divSeparators = null, e.divSeparatorsAbove = null, e.divStretch = null, e.divTimeScroll = null, e.jl = null, e.ni = null, e.Mk.calendar = null, e.Mk = null, e.nav.loading = null, e.nav.top.onmousemove = null, e.nav.top.onmouseout = null, e.nav.top.dispose = null, DayPilot.ue(e.nav.top, "touchstart", Y.ye), DayPilot.ue(e.nav.top, "touchmove", Y.ze), DayPilot.ue(e.nav.top, "touchend", Y.Ae), X.in(), e.nav.top.removeAttribute("style"), e.nav.top.removeAttribute("class");
                !(A.F.reactDOM && DayPilot.browser.ie) && (e.nav.top.innerHTML = ""), e.nav.top.dp = null, e.nav.top = null, DayPilot.ue(e.nav.scroll, "wheel", A.jn), e.nav.scroll.onscroll = null, e.nav.scroll.root = null, e.nav.scroll = null, clearTimeout(e.refreshTimeout), e.kn && (e.kn.dispose(), e.kn = null), e.daypilot && delete e.daypilot, DayPilot.ue(window, "resize", e.zh), DayPilot.ue(document, "keydown", e.ln), DayPilot.ue(document, "keyup", e.mn), o.Ha(e), O = null, "undefined" != typeof DayPilot.Bubble && (DayPilot.Bubble.cancelShowing(), DayPilot.Bubble.hide({ "calendar": e })), "undefined" != typeof DayPilot.Menu && DayPilot.Menu.hide({ "calendar": e }), function () { return; }();
            } }, this.en = function (e) { if ("function" == typeof A.onBeforeRowHeaderDomAdd || "function" == typeof A.onBeforeRowHeaderDomRemove) {
                var t = A.nn(e), n = t.divHeader, i = t.rowlist;
                if ("function" == typeof A.onBeforeRowHeaderDomAdd && A.F.reactDOM || "function" == typeof A.onBeforeRowHeaderDomRemove)
                    for (var a = 0; a < i.length; a++)
                        n.rows[a] && A.on(a, e);
            } }, this.gn = function () { "function" != typeof A.onBeforeTimeHeaderDomAdd && "function" != typeof A.onBeforeTimeHeaderDomRemove || A.elements.timeHeader.forEach(function (e) { var t = e.domArgs; if (e.domArgs = null, "function" == typeof A.onBeforeTimeHeaderDomRemove && A.onBeforeTimeHeaderDomRemove(t), "function" == typeof A.onBeforeTimeHeaderDomAdd && A.F.reactDOM) {
                var n = t && t.Wd;
                if (n) {
                    if (b(t.element)) {
                        if (!A.F.reactDOM)
                            throw new DayPilot.Exception("Can't reach ReactDOM");
                        A.F.N(n);
                    }
                }
            } }); }, this.ob = function (e) { var t = null; t = e.nodeType ? e.event : e; var n = t, i = n.cache && "undefined" != typeof n.cache.moveVDisabled ? !n.cache.moveVDisabled : !n.data.moveVDisabled, a = n.cache && "undefined" != typeof n.cache.moveHDisabled ? !n.cache.moveHDisabled : !n.data.moveHDisabled, r = A.pn(t), s = A.Lk[r.grid]; !i && o.Il && (s = A.Lk[t.part.grid]); var l = s.rowlist; if (A.qn(r.rowIndex, r.grid))
                return null; var d = t.part.height || A.oa.rn(), u = t.part && t.part.top && l[t.part.dayIndex] ? t.part.top + l[t.part.dayIndex].top : r.top, h = r.left, f = r.width; if (!i && o.Il && (u = l[n.part.dayIndex].top), !a && o.Il && (h = t.part.left, "undefined" == typeof h)) {
                var v = DayPilot.DateUtil.diff(t.start(), t.end());
                v = p(v, 1), h = Z.hg(v) ? A.getPixels(t.start()).boxLeft : A.getPixels(t.start()).left;
                f = (Z.hg(v) ? A.getPixels(t.end()).boxRight : A.getPixels(t.end()).left) - h;
            } var m = document.createElement("div"); m.setAttribute("unselectable", "on"), m.style.position = "absolute", m.style.width = f + "px", m.style.height = d + "px", m.style.left = h + "px", m.style.top = u + "px", m.style.overflow = "hidden"; var g = c(); return m.appendChild(g), m.className = this.K("_shadow"), g.className = this.K("_shadow_inner"), s.divShadow.appendChild(m), m.calendar = A, m.grid = r.grid, m; }, this.bn = function (e, t, n) { t = t || "main"; var i, a = A.Lk[t], r = a.rowlist, o = {}, s = 0, l = 0; "main" === t && (s = A.Lk.top.height, l = s); for (var d = r.length, c = 0; c < d; c++) {
                var u = r[c];
                if (!u.hidden) {
                    var h = u.height;
                    if (n && u.split && u.split.parent && (h = u.split.parent.split.totalHeight()), l += h, s = l - h, i = u, o.top = s, o.bottom = l, o.i = c, o.element = i, o.grid = t, n && u.split && u.split.parent && (c += u.split.parent.split.list.length - 1), e < l)
                        break;
                }
            } return o; }, this.links = {}, this.links.list = [], this.links.add = function (e) { if (e) {
                var t = e;
                e instanceof DayPilot.Link && (t = e.data), A.links.list.push(e), B.ym();
            } }, this.links.remove = function (e) { if ("number" == typeof e || "string" == typeof e) {
                var t = A.links.find(e);
                return void (t && B.sn(t.data));
            } var n = e.data; e.isLink || (n = e), B.sn(n); }, this.links.find = function (e) { if (!DayPilot.isArray(A.links.list))
                return null; var t = A.links.list.find(function (t) { return t.id === e; }); return t ? new DayPilot.Link(t, A) : null; }, this.links.findByFromTo = function (e, t) { if (!DayPilot.isArray(A.links.list))
                return null; var n = A.link.list.find(function (n) { return n.from === e && n.to === t; }); return n ? new DayPilot.Link(n, A) : null; }, this.links.load = function (e, t, n, i) { if (!e)
                throw new DayPilot.Exception("links.load(): 'url' parameter required"); i = i || {}; var a = function (e) { var t = {}; t.exception = e.exception, t.request = e.request, "function" == typeof n && n(t); }, r = function (e) { var n, i = e.request; try {
                n = JSON.parse(i.responseText);
            }
            catch (e) {
                var r = {};
                return r.exception = e, void a(r);
            } if (DayPilot.isArray(n)) {
                var o = {};
                if (o.preventDefault = function () { this.preventDefault.value = !0; }, o.data = n, "function" == typeof t && t(o), o.preventDefault.value)
                    return;
                A.links.list = n, A.Y && A.update();
            } }; if (A.linksLoadMethod && "POST" === A.linksLoadMethod.toUpperCase())
                DayPilot.ajax({ "method": "POST", "contentType": "application/json", "data": { "start": A.visibleStart().toString(), "end": A.visibleEnd().toString() }, "url": e, "success": r, "error": a });
            else {
                var o = e;
                if (!i.dontAddStartEnd) {
                    var s = "start=" + A.visibleStart().toString() + "&end=" + A.visibleEnd().toString();
                    o += o.indexOf("?") > -1 ? "&" + s : "?" + s;
                }
                DayPilot.ajax({ "method": "GET", "url": o, "success": r, "error": a });
            } };
            var B = {};
            this.tn = B, B.un = [], B.vn = function () { A.divLinksAbove.innerHTML = "", A.divLinksBelow.innerHTML = "", A.elements.links = [], B.un = []; }, B.sn = function (e) { var t = B.wn(e); DayPilot.rfa(A.links.list, e), t && (t.clear(), DayPilot.rfa(B.un, t)); }, B.wn = function (e) { for (var t = 0; t < B.un.length; t++) {
                var n = B.un[t];
                if (n.props === e)
                    return n;
            } return null; }, B.xn = function () { H.Aj().forEach(function (e) { B.yn(e); }); }, B.yn = function (e) { var t = A.linkPointSize, n = t / 2, i = e.event.part.left, a = A.rowlist[e.event.part.dayIndex].top + e.event.part.top, r = e.event.part.height, o = e.event.part.right, s = v(A.divLinkpoints, i - n, a - n + r / 2, t, t); s.className = A.K("_linkpoint"), s.style.boxSizing = "border-box", s.coords = { x: i, y: a + r / 2 }, s.type = "Start", s.event = e.event, B.zn(s), A.elements.linkpoints.push(s); var l = v(A.divLinkpoints, o - n, a - n + r / 2, t, t); l.className = A.K("_linkpoint"), l.style.boxSizing = "border-box", l.coords = { x: o, y: a + r / 2 }, l.type = "Finish", l.event = e.event, B.zn(l), A.elements.linkpoints.push(l); }, B.zn = function (e) { e.onmousedown = function (t) { return _.source = e, _.calendar = A, B.xn(), t.preventDefault(), t.stopPropagation(), !1; }, e.onmousemove = function (t) { f(e, A.K("_linkpoint_hover")), B.An(); }, e.onmouseout = function (t) { _.source && _.source.event === e.event || h(e, A.K("_linkpoint_hover")); }, e.onmouseup = function (t) { if (_.source) {
                var n = _.source.type + "To" + e.type, i = _.source.event.id(), a = e.event.id(), r = {};
                if (r.from = i, r.to = a, r.type = n, r.id = null, r.preventDefault = function () { this.preventDefault.value = !0; }, "function" == typeof A.onLinkCreate && (A.onLinkCreate(r), r.preventDefault.value))
                    return;
                var o = function () { DayPilot.isArray(A.links.list) || (A.links.list = []), A.links.list.push({ "from": i, "to": a, "type": n, "id": r.id }), B.ym(); };
                switch (A.linkCreateHandling) {
                    case "Update":
                        o();
                        break;
                    case "CallBack":
                        A.Bn(r);
                        break;
                    case "PostBack":
                        A.Cn(r);
                        break;
                    case "Notify": o(), A.Dn(r);
                }
                "function" == typeof A.onLinkCreated && A.onLinkCreated(r);
            } }; }, B.jm = function () { A.divLinkpoints.innerHTML = "", A.elements.linkpoints = []; }, B.En = null, B.Fn = function () { B.En = setTimeout(function () { B.jm(); }, 100); }, B.An = function () { B.En && (clearTimeout(B.En), B.En = null); }, B.ym = function () { if (B.vn(), DayPilot.isArray(A.links.list))
                for (var e = 0; e < A.links.list.length; e++) {
                    var t = A.links.list[e];
                    B.Gn(t.from, t.to, t);
                } }, B.Gn = function (e, t, n) { var i = A.events.find(e), a = A.events.Hn(i && i.data), r = A.events.find(t), o = A.events.Hn(r && r.data); (a && a.rendered || o && o.rendered) && B.In(a, o, n); }, B.Jn = function (e, t) { if (e && e.tagName && "div" === e.tagName.toLowerCase()) {
                var n = e;
                return { "top": n.offsetTop, "right": n.offsetLeft + n.offsetWidth, "left": n.offsetLeft, "height": n.offsetHeight };
            } if (e instanceof DayPilot.Event) {
                var i = e, a = A.rowlist[i.part.dayIndex];
                return { "top": (t ? a.absTop : a.top) + (i.part.top || 0), "right": i.part.left + i.part.width, "left": i.part.left, "height": i.part.height };
            } return null; }, B.Kn = function (e) { return B.un.some(function (t) { return t.props === e; }); }, B.In = function (e, t, n) { if (B.Kn(n))
                return null; var i = B.Ln(e, t, n); if (!i)
                return null; var a = B.Mn(i, n); return a ? (B.un.push(a), a) : null; }, B.Mn = function (e, t) { if (!e)
                return null; var n = { "divs": [], "props": t, "clear": function () { var e = this; C(e.divs), e.divs.forEach(function (e) { DayPilot.rfa(A.elements.links, e); }); } }, i = (A.eventHeight / 2, t.width || 1), a = t.color, r = t.style, o = t.layer || "Above", s = "Above" === o, l = s ? A.divLinksAbove : A.divLinksBelow, d = function (e, t) { a && (e.style["border" + t + "Color"] = a), r && (e.style["border" + t + "Style"] = r); }, c = [], u = function (e, t) { A.elements.links.push(e), m(e), p(e), g(e), e.divs = c, t || c.push(e), n.divs.push(e); }, p = function (e) { e.onmousedown = function (e) { e.cancelBubble = !0; }, e.onmouseup = function (e) { e.cancelBubble = !0; }, e.oncontextmenu = function (e) { if (A.contextMenuLink) {
                var n = new DayPilot.Link(t, A);
                A.contextMenuLink.show(n);
            } e.cancelBubble = !0, e.preventDefault(); }; }, m = function (e) { e.onmouseenter = function () { f(e.divs, A.K("_link_hover")), A.linkBubble && A.linkBubble.showLink(new DayPilot.Link(t, A)); }, e.onmouseleave = function () { h(e.divs, A.K("_link_hover")), A.linkBubble && A.linkBubble.hideOnMouseOut(); }; }, g = function (e) { e.onclick = function (e) { var n = {}; n.link = t, "function" == typeof A.onLinkClick && A.onLinkClick(n), "function" == typeof A.onLinkClicked && A.onLinkClicked(n); }; }; return e.forEach(function (e) { switch (e.type) {
                case "Dot":
                    var n, r = 10;
                    a ? (n = v(l, e.endX - 5, e.endY - 5, r, r), n.style.borderRadius = "10px", n.style.backgroundColor = a) : (n = v(l, e.endX - 5, e.endY - 5, r, r), n.className = A.K("_link_dot"), f(n, t.cssClass)), u(n, !0);
                    break;
                case "HorizontalLine":
                    var o = v(l, e.startX, e.startY, e.endX - e.startX, i);
                    o.style.boxSizing = "border-box", o.style.borderBottomWidth = i + "px", o.className = A.K("_link_horizontal"), f(o, t.cssClass), d(o, "Bottom"), u(o);
                    break;
                case "VerticalLine":
                    var s = v(l, e.startX, e.startY, i, e.endY - e.startY);
                    s.style.boxSizing = "border-box", s.style.borderRightWidth = i + "px", s.className = A.K("_link_vertical"), f(s, t.cssClass), d(s, "Right"), u(s);
                    break;
                case "ArrowUp":
                    var n;
                    a ? (n = v(l, e.endX - 5 + Math.floor(i / 2), e.endY - 5, 0, 0), n.style.borderColor = "transparent transparent " + a + " transparent", n.style.borderStyle = "solid", n.style.borderWidth = "5px") : (n = v(l, e.endX - 6 + Math.floor(i / 2), e.endY - 6, 6, 6), n.className = A.K("_link_arrow_up"), f(n, t.cssClass)), u(n, !0);
                    break;
                case "ArrowDown":
                    var n;
                    a ? (n = v(l, e.endX - 5 + Math.floor(i / 2), e.endY - 5, 0, 0), n.style.borderColor = a + " transparent transparent transparent", n.style.borderStyle = "solid", n.style.borderWidth = "5px") : (n = v(l, e.endX - 5 + Math.floor(i / 2), e.endY - 6, 6, 6), n.className = A.K("_link_arrow_down"), f(n, t.cssClass)), u(n, !0);
                    break;
                case "ArrowRight":
                    var n;
                    a ? (n = v(l, e.endX - 6, e.endY - 5, 0, 0), n.style.borderWidth = "6px", n.style.borderColor = "transparent transparent transparent " + a, n.style.borderStyle = "solid") : (n = v(l, e.endX - 6, e.endY - 5, 6, 6), n.className = A.K("_link_arrow_right"), f(n, t.cssClass)), u(n, !0);
                    break;
                case "ArrowLeft":
                    var n;
                    a ? (n = v(l, e.endX - 6, e.endY - 5, 0, 0), n.style.borderColor = "transparent " + a + " transparent transparent", n.style.borderStyle = "solid", n.style.borderWidth = "6px") : (n = v(l, e.endX - 6, e.endY - 5, 6, 6), n.className = A.K("_link_arrow_left"), f(n, t.cssClass)), u(n, !0);
                    break;
                default: throw new DayPilot.Exception("Invalid segment type");
            } }), n; }, B.Ln = function (e, t, n, i) { var a = B.Jn(e, i), r = B.Jn(t, i); if (!a)
                return null; if (!r)
                return null; var o, s, l = n.type || "FinishToStart", d = n.width || 1, c = A.eventHeight, u = A.linkBottomMargin, h = A.eventHeight / 2; switch (l) {
                case "FinishToStart":
                    o = { x: a.right, y: a.top }, s = { x: r.left, y: r.top }, o.y > s.y && (r.top + r.height > a.top ? s.y = o.y : o.x <= s.x && (s.y += r.height, s.bottom = !0));
                    break;
                case "StartToFinish":
                    o = { x: a.left, y: a.top }, s = { x: r.right, y: r.top };
                    break;
                case "StartToStart":
                    o = { x: a.left, y: a.top }, s = { x: r.left, y: r.top };
                    break;
                case "FinishToFinish": o = { x: a.right, y: a.top }, s = { x: r.right, y: r.top };
            } var f = []; if ("FinishToStart" === l)
                if (o.y !== s.y || o.x !== s.x || s.bottom)
                    if (o.y > s.y || o.y == s.y && s.bottom)
                        if (o.x <= s.x) {
                            var v = o.x, p = o.y + c - u, m = s.x + h, g = s.y;
                            f.push({ "type": "HorizontalLine", "startX": v, "startY": p, "endX": m, "endY": p }), f.push({ "type": "VerticalLine", "startX": m, "startY": p, "endX": m, "endY": g }), f.push({ "type": o.y < s.y ? "ArrowDown" : "ArrowUp", "startX": m, "startY": g, "endX": m, "endY": g });
                        }
                        else {
                            var b = 5, y = s.y + c + b;
                            f.push({ "type": "HorizontalLine", "startX": o.x, "startY": o.y + c - u, "endX": o.x + h + d, "endY": o.y + c - u }), f.push({ "type": "VerticalLine", "startX": o.x + h, "startY": o.y + c - u, "endX": o.x + h, "endY": y }), f.push({ "type": "HorizontalLine", "startX": s.x - h, "startY": y, "endX": o.x + h + d, "endY": y }), f.push({ "type": "VerticalLine", "startX": s.x - h, "startY": y, "endX": s.x - h, "endY": s.y + c - u }), f.push({ "type": "HorizontalLine", "startX": s.x - h, "startY": s.y + c - u, "endX": s.x - h + h, "endY": s.y + c - u }), f.push({ "type": "ArrowRight", "startX": s.x, "startY": s.y + c - u, "endX": s.x, "endY": s.y + c - u });
                        }
                    else if (o.y === s.y)
                        if (o.x < s.x) {
                            var v = o.x, p = o.y + c - u, m = s.x;
                            f.push({ "type": "HorizontalLine", "startX": v, "startY": p, "endX": m, "endY": p }), f.push({ "type": "ArrowRight", "startX": s.x, "startY": s.y + c - u, "endX": s.x, "endY": s.y + c - u });
                        }
                        else {
                            var b = 5, y = s.y + c + b;
                            f.push({ "type": "HorizontalLine", "startX": o.x, "startY": o.y + c - u, "endX": o.x + h + d, "endY": o.y + c - u }), f.push({ "type": "VerticalLine", "startX": o.x + h, "startY": o.y + c - u, "endX": o.x + h, "endY": y }), f.push({ "type": "HorizontalLine", "startX": s.x - h, "startY": y, "endX": o.x + h + d, "endY": y }), f.push({ "type": "VerticalLine", "startX": s.x - h, "startY": y, "endX": s.x - h, "endY": s.y + c - u }), f.push({ "type": "HorizontalLine", "startX": s.x - h, "startY": s.y + c - u, "endX": s.x, "endY": s.y + c - u }), f.push({ "type": "ArrowRight", "startX": s.x, "startY": s.y + c - u, "endX": s.x, "endY": s.y + c - u });
                        }
                    else if (o.x > s.x) {
                        var w = 5, y = s.y - w;
                        f.push({ "type": "HorizontalLine", "startX": o.x, "startY": o.y + c - u, "endX": o.x + h, "endY": o.y + c - u }), f.push({ "type": "VerticalLine", "startX": o.x + h, "startY": o.y + c - u, "endX": o.x + h, "endY": y }), f.push({ "type": "HorizontalLine", "startX": s.x - h, "startY": y, "endX": o.x + h, "endY": y }), f.push({ "type": "VerticalLine", "startX": s.x - h, "startY": y, "endX": s.x - h, "endY": s.y + c - u }), f.push({ "type": "HorizontalLine", "startX": s.x - h, "startY": s.y + c - u, "endX": s.x - h + h, "endY": s.y + c - u }), f.push({ "type": "ArrowRight", "startX": s.x, "startY": s.y + c - u, "endX": s.x, "endY": s.y + c - u });
                    }
                    else {
                        var v = o.x, p = o.y + c - u, m = s.x + h, g = s.y;
                        f.push({ "type": "HorizontalLine", "startX": v, "startY": p, "endX": m, "endY": p }), f.push({ "type": "VerticalLine", "startX": m, "startY": p, "endX": m, "endY": g }), f.push({ "type": o.y < s.y ? "ArrowDown" : "ArrowUp", "startX": m, "startY": g, "endX": m, "endY": g });
                    }
                else {
                    var m = o.x, g = o.y + c - u;
                    f.push({ "type": "Dot", "startX": m, "startY": g, "endX": m, "endY": g });
                }
            else if ("StartToFinish" === l) {
                var w = 5, y = s.y - w;
                f.push({ "type": "HorizontalLine", "startX": s.x, "startY": s.y + c - u, "endX": s.x + h + d, "endY": s.y + c - u }), f.push({ "type": "VerticalLine", "startX": s.x + h, "startY": s.y + c - u, "endX": s.x + h, "endY": y }), f.push({ "type": "HorizontalLine", "startX": o.x - h, "startY": y, "endX": s.x + h + d, "endY": y }), f.push({ "type": "VerticalLine", "startX": o.x - h, "startY": y, "endX": o.x - h, "endY": o.y + c - u }), f.push({ "type": "HorizontalLine", "startX": o.x - h, "startY": o.y + c - u, "endX": o.x, "endY": o.y + c - u }), f.push({ "type": "ArrowLeft", "startX": s.x, "startY": s.y + c - u, "endX": s.x, "endY": s.y + c - u });
            }
            else if ("StartToStart" === l) {
                var x = Math.min(o.x, s.x) - h;
                f.push({ "type": "HorizontalLine", "startX": x, "startY": o.y + c - u, "endX": o.x, "endY": o.y + c - u }), f.push({ "type": "VerticalLine", "startX": x, "startY": o.y + c - u, "endX": x, "endY": s.y + c - u }), f.push({ "type": "HorizontalLine", "startX": x, "startY": s.y + c - u, "endX": s.x, "endY": s.y + c - u }), f.push({ "type": "ArrowRight", "startX": s.x, "startY": s.y + c - u, "endX": s.x, "endY": s.y + c - u });
            }
            else if ("FinishToFinish" === l) {
                var k = Math.max(s.x, o.x) + h;
                f.push({ "type": "HorizontalLine", "startX": o.x, "startY": o.y + c - u, "endX": k, "endY": o.y + c - u }), f.push({ "type": "VerticalLine", "startX": k, "startY": o.y + c - u, "endX": k, "endY": c - u + s.y }), f.push({ "type": "HorizontalLine", "startX": s.x, "startY": s.y + c - u, "endX": k, "endY": s.y + c - u }), f.push({ "type": "ArrowLeft", "startX": s.x, "startY": s.y + c - u, "endX": s.x, "endY": s.y + c - u });
            } return f; }, B.Di = function () { A.divLinkShadow.innerHTML = "", A.elements.linkshadow = []; }, B.zi = function (e, t) { B.Di(); var n = A.divLinkShadow, i = DayPilot.line(e.x, e.y, t.x, t.y, { "arrow": !0, "cssClass": A.K("_link_shadow") }); n.appendChild(i), A.elements.linkshadow.push(i); }, this.Bn = function (e, t) { var n = {}; n.from = e.from, n.to = e.to, n.type = e.type, A.ra("LinkCreate", n, t); }, this.Dn = function (e, t) { var n = {}; n.from = e.from, n.to = e.to, n.type = e.type, A.ra("LinkCreate", n, t, "Notify"); }, this.Cn = function (e, t) { var n = {}; n.from = e.from, n.to = e.to, n.type = e.type, A.pa("LinkCreate", n, t); }, this.Nn = function (e) { var t = 0, n = 0, i = 0; if (e > this.rowlist.length - 1)
                throw new DayPilot.Exception("Row index too high"); for (var a = 0; a <= e; a++) {
                var r = this.rowlist[a];
                r.hidden || (n += r.height, i++);
            } t = n - r.height; var o = {}; return o.top = t, o.height = r.height, o.bottom = n, o.i = i - 1, o.data = r, o; }, this.Eg = function () { return !!this.backendUrl; }, this.events.find = function (e) { if (!A.events.list || "undefined" == typeof A.events.list.length)
                return null; if ("function" == typeof e)
                return A.On(e); for (var t = A.events.list.length, n = 0; n < t; n++)
                if (A.events.list[n].id === e)
                    return new DayPilot.Event(A.events.list[n], A); return null; }, this.events.findAll = function (e) { if ("function" == typeof e) {
                for (var t = A.events.list.length, n = [], i = 0; i < t; i++) {
                    var a = new DayPilot.Event(A.events.list[i], A);
                    e(a) && n.push(a);
                }
                return n;
            } if ("object" == typeof e)
                return A.events.findAll(function (t) { for (var n in e)
                    if (e[n] !== t.data[n])
                        return !1; return !0; }); throw new DayPilot.Exception("function or object argument expected"); }, this.On = function (e) { for (var t = A.events.list.length, n = 0; n < t; n++) {
                var i = new DayPilot.Event(A.events.list[n], A);
                if (e(i))
                    return i;
            } return null; }, this.events.focus = function (e) { var t = A.Pn(e); t && t.focus(); }, this.events.scrollIntoView = function (e) { if (A.Pn(e)) {
                var t = e.start(), n = A.getViewPort();
                !u(n.start, n.end, e.start(), e.end()) && u(A.wb(), A.ud(), e.start(), e.end()) && A.scrollTo(t, "fast", "middle");
                var i = e.resource();
                A.getViewPort().resources.indexOf(i) === -1 && A.scrollToResource(i);
            } }, this.events.all = function () { for (var e = [], t = 0; t < A.events.list.length; t++) {
                var n = new DayPilot.Event(A.events.list[t], A);
                e.push(n);
            } return x(e); }, this.events.forRange = function (e, t) { e = e ? new DayPilot.Date(e) : A.visibleStart(), t = t ? new DayPilot.Date(t) : A.visibleEnd(); for (var n = x(), i = 0; i < A.events.list.length; i++) {
                var a = new DayPilot.Event(A.events.list[i], A);
                u(a.start(), a.rawend(), e, t) && n.push(a);
            } return n; }, this.events.filter = function (e, t) { A.events.gg = e, t || A.bd({ "eventsOnly": !0 }); }, this.events.edit = function (e) { e instanceof DayPilot.Event || (e = new DayPilot.Event(e)); var t = o.Qn; if (t) {
                if (A.Zc(t.event, e))
                    return;
                X.Rn(), X.Sn = !0, o.Qn.blur();
            } !x(A.events.Tn.rows).isEmpty() && (X.Sn = !0, A.events.zm({ "dontResetFocus": !0 })), X.Sn = !1; var n = A.lg(e); return n ? (X.Rn(), void A.Cb(n)) : void X.Tm(); }, this.events.load = function (e, t, n) { if (!e)
                throw new DayPilot.Exception("events.load(): 'url' parameter required"); var i = function (e) { var t = {}; t.exception = e.exception, t.request = e.request, "function" == typeof n && n(t); }, a = function (e) { var n, a = e.request; try {
                n = JSON.parse(a.responseText);
            }
            catch (e) {
                var r = {};
                return r.exception = e, void i(r);
            } if (DayPilot.isArray(n)) {
                var o = {};
                if (o.preventDefault = function () { this.preventDefault.value = !0; }, o.data = n, "function" == typeof t && t(o), o.preventDefault.value)
                    return;
                A.events.list = o.data, A.Y && A.update();
            } }; if (A.eventsLoadMethod && "POST" === A.eventsLoadMethod.toUpperCase())
                DayPilot.ajax({ "method": "POST", "contentType": "application/json", "data": { "start": A.visibleStart().toString(), "end": A.visibleEnd().toString() }, "url": e, "success": a, "error": i });
            else {
                var r = e, o = "start=" + A.visibleStart().toString() + "&end=" + A.visibleEnd().toString();
                r += r.indexOf("?") > -1 ? "&" + o : "?" + o, DayPilot.ajax({ "method": "GET", "url": r, "success": a, "error": i });
            } }, this.events.findRecurrent = function (e, t) { if (!A.events.list || "undefined" == typeof A.events.list.length)
                return null; for (var n = A.events.list.length, i = 0; i < n; i++)
                if (A.events.list[i].recurrentMasterId === e && A.events.list[i].start.getTime() === t.getTime())
                    return new DayPilot.Event(A.events.list[i], A); return null; }, this.events.Pl = function (e) { var t = []; return A.vl().forEach(function (n) { if (!n.isNewRow) {
                A.wl(n.index, n.grid);
                for (var i = 0; i < n.events.length; i++) {
                    var a = n.events[i].data;
                    if (A.Zc(a, e)) {
                        t.push(n), n.events.splice(i, 1);
                        break;
                    }
                }
            } }), t; }, this.events.Hn = function (e) { if (!e)
                return null; for (var t = A.vl(), n = 0; n < t.length; n++) {
                var i = t[n];
                if (!i.hidden && !i.isNewRow) {
                    A.wl(i.index, i.grid);
                    for (var a = 0; a < i.events.length; a++) {
                        var r = i.events[a];
                        if (A.Zc(r.data, e))
                            return i.events[a];
                    }
                }
            } return null; }, this.events.Ql = function (e) { var t = [], n = A.Un() || "Days" === A.viewType, i = D(A.events.list, e); A.Pf(i); var a = A.vl(), r = !1; return a.forEach(function (a) { if (!r && !a.isNewRow) {
                A.wl(a.index, a.grid);
                var o = A.Vn(e, a);
                o && ("function" == typeof A.onBeforeEventRender && (o.cache = A.V.events[i]), t.push(a), n || (r = !0));
            } }), t; }, this.Zc = function (e, t) { return DayPilot.Util.isSameEvent(e, t); }, this.events.update = function (e, t, n) { var i = function (e) { var t = X.Nj; if (t && "event" === t.type) {
                A.Zc(t.event.data, e) && (t.event = A.events.Hn(e));
            } }; if ("object" == typeof e && !(e instanceof DayPilot.Event)) {
                var a = A.events.find(e.id);
                return A.events.remove(a), A.events.add(e), void i(e);
            } var r = {}; r.oldEvent = new DayPilot.Event(e.copy(), A), r.newEvent = new DayPilot.Event(e.temp(), A); var n = n || {}, o = new DayPilot.Action(A, "EventUpdate", r, t); if (x(A.events.list).find(function (t) { return A.Zc(t, e.data); })) {
                if (A.mg.scope)
                    A.mg.notify(function () { e.commit(); });
                else if (A.Ik.Wn && (A.Ik.skip = !0), (A.eventUpdateInplaceOptimization || n.inplace) && r.oldEvent.resource() === r.newEvent.resource() && r.oldEvent.start() === r.newEvent.start() && r.oldEvent.end() === r.newEvent.end()) {
                    e.commit();
                    var l = A.lg(e);
                    if (l) {
                        var d = l.event.part;
                        A.Yd(l), DayPilot.rfa(A.elements.events, l), e.part = d;
                    }
                    else
                        s("Old div not found");
                    var c = A.events.Pl(e.data);
                    c = c.concat(A.events.Ql(e.data)), A.Rl(c);
                    var u = A.events.Hn(e.data);
                    u && A.$d(u), A.Xn();
                }
                else {
                    var c = A.events.Pl(e.data);
                    e.commit(), c = c.concat(A.events.Ql(e.data)), A.events.Yn(c);
                }
                return i(e.data), o;
            } }, this.events.remove = function (e, t) { if (e) {
                if ("string" == typeof e || "number" == typeof e) {
                    var n = A.events.find(e);
                    return void A.events.remove(n);
                }
                var i = {};
                i.e = new DayPilot.Event(e.data, A);
                var a = new DayPilot.Action(A, "EventRemove", i, t), r = A.Zn(e.data);
                if (r && A.events.list.splice(r.index, 1), A.mg.scope)
                    A.mg.notify();
                else {
                    A.Ik.Wn && (A.Ik.skip = !0);
                    var o = A.events.Pl(e.data);
                    if (A.eventUpdateInplaceOptimization && 1 === o.length && !A.events.tc(e)) {
                        A.$n(A.rowlist[o[0]]);
                        var s = A.lg(e);
                        if (s) {
                            var l = A.elements.events.indexOf(s);
                            A.elements.events.splice(l, 1), A.Yd(s), A.Xn();
                        }
                    }
                    else
                        A.events.Yn(o);
                }
                return a;
            } }, this.events.add = function (e, t, n) { var n = n || {}, i = n.renderOnly; e instanceof DayPilot.Event || (e = new DayPilot.Event(e)), e.calendar = A, A.events.list || (A.events.list = []); var a = A.Zn(e); if (i) {
                if (!a)
                    throw new DayPilot.Exception("Unexpected: event not found in list");
            }
            else {
                if (a && !A.temp.allowDuplicateEventIds)
                    throw new DayPilot.Exception("The event you are trying to add using DayPilot.Scheduler.events.add() is already loaded. A unique ID is required.");
                a || A.events.list.push(e.data);
            } var r = new DayPilot.Action(A, "EventAdd", o, t); if (!A.Y)
                return r; if (A.mg.scope)
                A.mg.notify();
            else {
                A.Ik.Wn && (A.Ik.skip = !0);
                var o = {};
                o.e = e;
                var s = A.events.Ql(e.data), l = e.data.height || A.eventHeight;
                if (A.eventUpdateInplaceOptimization && 1 === s.length && !A.events.tc(e) && l <= A.eventHeight && !A.eventVersionsEnabled) {
                    var d = A.rowlist[s[0]];
                    A.$n(d);
                    var c = d.events.find(function (t) { return t.data === e.data; });
                    c.part.top = 0, c.part.height = l, c.part.line = 0, A.$d(c), A.Xn(), X.om();
                }
                else
                    A.events.Yn(s);
            } return r; }, this.events.tc = function (e) { var t = e instanceof DayPilot.Event ? e.data : e, n = new DayPilot.Date(t.start), i = new DayPilot.Date(t.end); return !!x(A.events.list).find(function (e) { return !A.Zc(t, e) && (t.resource === e.resource && u(n, i, new DayPilot.Date(e.start), new DayPilot.Date(e.end))); }); }, this.events.addByData = function (e) { A.events.add(new DayPilot.Event(e)); }, this.events.removeByData = function (e) { var t = A.events.find(e.id); if (!t)
                throw new DayPilot.Exception("The event to be removed was not found"); A.events.remove(t); }, this.events.updateByData = function (e) { var t = A.events.find(e.id); if (!t)
                throw new DayPilot.Exception("The event to be updated was not found"); A.events.remove(t), A.events.add(new DayPilot.Event(e)); }, this.events.removeById = function (e) { var t = A.events.find(e); if (!t)
                throw new DayPilot.Exception("The event to be removed was not found"); A.events.remove(t); }, this.events.Tn = { "rows": [] }, this.events._n = null, this.events.em = function () { clearTimeout(A.events._n), A.events._n = null, A.events.Tn.rows = []; }, this.events.ao = 0, this.events.Yn = function (e) { var t = A.events.Tn.rows; x(e).forEach(function (e) { t.push(e); }), A.events.Tn.rows = DayPilot.ua(t); var n = A.events.zm; A.events._n || (A.events._n = setTimeout(n, A.events.ao)); }, this.events.zm = function (e) { e = e || {}, clearTimeout(A.events._n), A.events._n = null; var t = A.events.Tn.rows; A.events.Tn.rows = [], A.Rl(t), A.Sl(), A.Y && ("Gantt" === A.viewType ? A.update() : (A.tm && A.tk(), A.db(), A.Tl(t), A.Xn(), e.dontResetFocus || X.om())); }, this.Ik = {}, this.Ik.enabled = !1, this.Ik.skip = !1, this.Ik.skipUpdate = function () { return A.Ik.skip; }, this.Ik.skipped = function () { A.Ik.skip = !1; }, this.Ik.bo = !1, this.Ik.Wn = !1, this.F = {}, this.F.reactDOM = null, this.F.react = null, this.F.E = function (e, t) { var n = A.F.reactDOM; if ("function" == typeof n.createRoot) {
                var i = t.O;
                i || (i = n.createRoot(t), t.O = i), i.render(e);
            }
            else
                n.render(e, t); }, this.F.N = function (e) { var t = A.F.reactDOM; if ("function" == typeof t.createRoot) {
                var n = e.O;
                setTimeout(function () { n.unmount(), e.O = null; }, 0);
            }
            else
                t.unmountComponentAtNode(e); }, this.queue = {}, this.queue.list = [], this.queue.list.ignoreToJSON = !0, this.queue.add = function (e) { if (e) {
                if (!e.isAction)
                    throw new DayPilot.Exception("DayPilot.Action object required for queue.add()");
                A.queue.list.push(e);
            } }, this.queue.notify = function (e) { var t = {}; t.actions = A.queue.list, A.ra("Notify", t, e, "Notify"), A.queue.list = []; }, this.queue.clear = function () { A.queue.list = []; }, this.queue.pop = function () { return A.queue.list.pop(); }, this.cells.find = function (e, t) { var n = A.km(e, t); return n ? this.findXy(n.x, n.y, n.grid) : N(); }, this.cells.findByPixels = function (e, t) { var n = A.El(e); if (!n)
                return N(); var e = n.x, i = A.bn(t); if (!i)
                return N(); var t = i.i; return this.findXy(e, t); }, this.cells.all = function () { for (var e = [], t = A.itline.length, n = A.rowlist.length, i = 0; i < t; i++)
                for (var a = 0; a < n; a++) {
                    var r = A.cells.findXy(i, a);
                    e.push(r[0]);
                } return N(e); }, this.cells.Dd = function (e, t, n) { n = n || "main"; var i = A.Lk[n], a = i.rowlist, r = A.Kl(e), o = a[t]; if (!r)
                return null; if (!o)
                return null; var s = o.start.getTime() - A.wb().getTime(), l = r.start.addTime(s), d = r.end.addTime(s), c = {}; c.x = e, c.y = t, c.grid = n, c.displayY = o.displayY, c.i = n + "_" + e + "_" + t, !o.id, c.resource = o.id, c.start = l, c.end = d, c.calendar = A, c.isParent = !(!o.children || !o.children.length), c.update = function () { if (!a[c.y].hidden) {
                var e = A.V.cells[c.i];
                A.co(e);
                var t = A.fa();
                t.xStart <= c.x && c.x <= t.xEnd && t.yStart <= c.y && c.y <= t.yEnd && A.ge(c.x, c.y, c.grid);
            } }, c.utilization = function (e) { return o.isNewRow ? 0 : (o.sections || o.do(), o.sections.forRange(l, d).maxSum(e)); }, c.events = function () { return o.events.forRange(l, d); }, c.div = A.V.cells[c.i]; var u = A.eo(e, t, n); return c.properties = u, c; }, this.cells.findXy = function (e, t, n) { if (n = n || "main", DayPilot.isArray(e)) {
                for (var i = [], a = 0; a < e.length; a++) {
                    var r = e[a];
                    i.push(A.cells.Dd(r.x, r.y, n));
                }
                return N(i);
            } return null === e || null === t ? N() : N(A.cells.Dd(e, t, n)); }, this.km = function (e, t) { var n; if (n = t instanceof DayPilot.Row ? t.$.row : t.isRow ? t : A.Pk(t), !n)
                return null; if (!A.itline || 0 === A.itline.length)
                return null; var i = n.start.getTime() - A.wb().getTime(), a = new DayPilot.Date(e).addTime(-i), r = A.getPixels(a); if (!r)
                return null; if (null === r.i)
                return null; var o = {}; return o.x = r.i, o.y = n.index, o.grid = n.grid, o; }, this.fo = function (e) { var t = x(); if (DayPilot.isArray(e))
                for (var n = 0; n < e.length; n++)
                    t.push(e[n]);
            else
                "object" == typeof e && e && t.push(e); return t.cssClass = function (e) { return this.forEach(function (t) { t.properties.cssClass = DayPilot.Util.addClassToString(t.properties.cssClass, e), t.update(); }), this; }, t.removeClass = function (e) { return this.forEach(function (t) { t.properties.cssClass = DayPilot.Util.removeClassFromString(t.properties.cssClass, e), t.update(); }), this; }, t.addClass = t.cssClass, t.html = function (e) { return this.forEach(function (t) { t.properties.html = e, t.update(); }), this; }, t.invalidate = function () { return this.forEach(function (e) { delete A.yl[e.i]; }), this; }, t; };
            var N = this.fo;
            this.mg = {}, this.mg.scope = null, this.mg.notify = function (e) { A.mg.scope && DayPilot.Util.safeApply(A.mg.scope, e); }, this.debug = new DayPilot.Debug(this), this.go = function (e) { if ("Days" !== A.viewType)
                throw new DayPilot.Exception("Checking row start when viewType !== 'Days'"); if (e.getTime() < A.visibleStart().getTime())
                return A.visibleStart(); for (var t = 0; t < A.rowlist.length; t++) {
                var n = A.rowlist[t], i = n.element ? n.element.data : n.data, a = i.start;
                if (e.getTime() >= a.getTime() && e.getTime() < a.addDays(1).getTime())
                    return a;
            } return null; }, this.ho = function (e) { var t = A.wb(); if (e.ticks === t.ticks)
                return e; var n = t; if (e.ticks < t.ticks) {
                for (var i = this.itline[0].end.ticks - this.itline[0].start.ticks; n.ticks > e.ticks;)
                    n = n.addTime(-i);
                return n;
            } if ("Days" === A.viewType) {
                var a = 0, r = this.Gl(e.addTime(-0));
                if (r.current)
                    return r.current.start.addTime(a);
                if (r.past)
                    return r.previous.end.addTime(a);
                throw new DayPilot.Exception("getBoxStart(): time not found");
            } var r = this.Gl(e); if (r.current)
                return r.current.start; if (r.past)
                return r.previous.end; if (r.hidden) {
                var o = r.next.start.getTime() - e.getTime(), s = r.next.end.getTime() - r.next.start.getTime(), l = Math.ceil(o / s) * s;
                return r.next.start.addTime(-l);
            } throw new DayPilot.Exception("getBoxStart(): time not found"); }, this.pn = function (e) {
                var t = this.bn(A.coords.y, A.coords.grid), n = A.scaleManualLimitBeyond;
                if ("function" != typeof e.end)
                    throw new DayPilot.Exception("e.end function is not defined");
                if (!e.end())
                    throw new DayPilot.Exception("e.end() returns null");
                var i = DayPilot.DateUtil.diff(e.rawend(), e.start());
                i = p(i, 1);
                var a = Z.hg(i), r = e.data && "Milestone" === e.data.type, s = A.eventHeight, l = 0, d = A.coords.x;
                if (r && (d += s / 2), n && "Manual" === A.scale && !A.eventMoveSkipNonBusiness) {
                    var c = function () { var e = A.getDate(A.coords.x, !0, !0), t = e.addTime(-i), n = A.getPixels(t).boxLeft, a = A.getPixels(e).boxRight, e = Math.min(a, A.coords.x); return e - n; }(), u = Math.min(o.io ? o.io : 0, c);
                    d = A.coords.x - u;
                }
                var h = o.jo ? o.jo.calendar : A, f = 0, v = "Days" === this.viewType || this.ko(), m = !e.part.external && h === A;
                if (v && m && (f = this.rowlist[e.part.dayIndex].start.getTime() - this.wb().getTime()), a && !r && h === A) {
                    var g = A.Gl(e.start()), b = !g.hidden && !g.past;
                    l = e.start().getTime() - this.ho(e.start().addTime(-f)).addTime(f).getTime(), b && (l = function (e, t) { var n = A.lo(A.Gl(e).current), i = A.lo(A.El(d).cell); if (n > 1.2 * i) {
                        for (var a = t > 0 ? 1 : -1, t = Math.abs(t); t >= i;)
                            t -= i;
                        t *= a;
                    } return t; }(e.start(), l));
                }
                h && h !== A && h.mo() !== A.mo() && (l = 0);
                var y = 0;
                if (!o.no || "Manual" === A.scale && n || h !== A)
                    y = 0;
                else if (a) {
                    var w = e.start().addTime(-f), x = this.ho(w);
                    y = o.no.getTime() - x.getTime();
                    var k = 60 * A.mo() * 1e3;
                    y = Math.floor(y / k) * k;
                }
                else
                    y = o.no.getTime() - e.start().addTime(-f).getTime();
                if (this.eventMoveToPosition && (y = 0), r) {
                    var C = A.getDate(d, !0);
                    y = -((A.getDate(d + s / 2, !0).getTime() - C.getTime()) / 2);
                }
                var D = this.getDate(d, !0).addTime(-y).addTime(f);
                o.oo && (D = e.start());
                var S = A.snapToGrid;
                o.Il ? S = S && A.snapToGridEventMoving : o.oo ? S = S && A.snapToGridEventResizing : o.po && (S = S && A.snapToGridTimeRangeSelecting), S && (D = this.ho(D.addTime(-f)).addTime(f)), D = D.addTime(l);
                var _ = D.addTime(i), E = D, T = _;
                if (v) {
                    E = D.addTime(-f), T = E.addTime(i);
                    var H = t.element.data.start.getTime() - this.wb().getTime();
                    D = E.addTime(H), _ = D.addTime(i);
                }
                if (n && "Manual" === A.scale) {
                    var M = t.element.qo();
                    if (_ > M) {
                        var R = _.getTime() - M.getTime();
                        D = D.addTime(-R), _ = _.addTime(-R);
                    }
                    E = D.addTime(-f), T = _.addTime(-f);
                }
                if (o.Il && A.eventMoveSkipNonBusiness) {
                    var B = t.i, N = 0;
                    o.no && (N = o.no.addTime(f), S && (N = this.ho(N.addTime(-f)).addTime(f)));
                    var P = !e.part.dayIndex, I = 0;
                    P || (I = A.ro(e.start(), N, e.part.dayIndex));
                    var i = A.so(e), L = A.getDate(d, !0);
                    S && (L = A.getDate(d));
                    var u = A.uo(L, I, B, t.grid);
                    D = L.addTime(-u).addTime(f), S && (D = this.ho(D.addTime(-f)).addTime(f)), l = P ? 0 : A.ro(this.ho(e.start().addTime(-f)).addTime(f), e.start(), B, t.grid), D = D.addTime(l), D <= A.visibleStart() && (D = A.vo(A.visibleStart(), B, t.grid).start), _ = A.wo(D, i, B, t.grid), _ >= A.visibleEnd() && (_ = A.xo(A.visibleEnd(), B, t.grid).end, D = _.addTime(-A.uo(_, i, B))), E = D.addTime(-f), T = _.addTime(-f);
                }
                var z = this.getPixels(E), O = this.getPixels(T), U = S ? z.boxLeft : z.left, j = S && a ? O.boxRight - U : O.left - U;
                r && (j = s, U -= j / 2);
                var W = {};
                return W.top = t.top, W.left = U, W.row = t.element, W.rowIndex = t.i, W.grid = A.coords.grid, W.width = j, W.start = D, W.end = _, W.relativeY = A.coords.y - t.top, W;
            }, this.yo = function (e, t) { var n = A.Gl(e), i = A.Gl(t), a = null, r = 0; n.hidden && (a = e); for (var o = n.i; o <= i.i; o++) {
                var s = A.itline[o];
                a && a < s.start && (r += s.start.getTime() - a.getTime()), a = s.end;
            } return r; }, this.wo = function (e, t, n, i) { i = i || "main"; var a = t, r = A.rowlist[n], o = r.data.start.getTime() - A.wb().getTime(), s = e.addTime(-o), l = A.vo(s, n, i); if (!l)
                throw new DayPilot.Exception("No next cell found"); var d = D(A.itline, l); if (l.start > e)
                ;
            else {
                if (a -= l.end.getTime() - s.getTime(), a <= 0)
                    return e.addTime(t);
                d += 1;
            } for (var c = d; c < A.itline.length; c++) {
                var u = A.eo(c, n, i), h = A.itline[c];
                if (u.business) {
                    var f = h.start.addTime(o), v = h.end.addTime(o), p = v.getTime() - f.getTime();
                    if (a <= p)
                        return f.addTime(a);
                    a -= p;
                }
            } return A.itline[A.itline.length - 1].end.addTime(a); }, this.ro = function (e, t, n, i) { i = i || "main"; var a = A.nn(i), r = a.rowlist, o = r[n], s = o.data.start.getTime() - A.wb().getTime(), l = (A.Gl(e), e.addTime(-s)), d = t.addTime(-s), c = A.vo(l, n, i); if (!c)
                throw new DayPilot.Exception("No next cell found"); var u = 0, h = D(A.itline, c); if (c.start <= d) {
                if (t < c.end.addTime(s))
                    return c.start > l ? t.getTime() - c.start.addTime(s).getTime() : t.getTime() - e.getTime();
                u += l > c.start ? c.end.getTime() - l.getTime() : c.end.getTime() - c.start.getTime(), h += 1;
            } for (var f = h; f < A.itline.length; f++) {
                if (A.eo(f, n, i).business) {
                    var v = A.itline[f], m = v.start.addTime(s), g = v.end.addTime(s), b = g.getTime() - m.getTime();
                    if (t < m)
                        return u;
                    if (t <= g)
                        return u += t.getTime() - m.getTime();
                    u += b;
                }
            } return u += p(0, t.getTime() - A.itline.last().end.addTime(s).getTime()); }, this.so = function (e) { if (e.part.duration) {
                if (isNaN(e.part.duration))
                    throw new DayPilot.Exception("Unable to get calculated duration");
                return e.part.duration;
            } var t = e.part.dayIndex; return A.ro(e.start(), e.rawend(), t); }, this.uo = function (e, t, n, i) { i = i || "main"; var a = 0, r = t, o = A.Gl(e); if (!o.current)
                throw new DayPilot.Exception("Current cell not found."); var s = D(A.itline, o.current); if (A.eo(s, n, i).business) {
                if (e.addTime(-t) >= o.current.start)
                    return t;
            }
            else if (0 === t || e.addTime(-t) >= o.current.start) {
                var l = A.vo(e, n, i);
                if (l)
                    return e.getTime() - l.start.getTime();
                var d = A.xo(e, n, i);
                return e.getTime() - d.start.getTime();
            } a += e.getTime() - o.current.start.getTime(), r -= e.getTime() - o.current.start.getTime(), s -= 1; for (var c = o.current.start; s >= 0;) {
                var o = A.itline[s];
                c > o.end && (a += c.getTime() - o.end.getTime()), c = o.start;
                var u = o.end.getTime() - o.start.getTime();
                if (A.eo(s, n, i).business) {
                    if (r <= u)
                        return a += r;
                    a += u, r -= u;
                }
                else
                    a += u;
                s -= 1;
            } return a + r; }, this.xo = function (e, t, n) { n = n || "main"; var i = A.Gl(e), a = 0; if (i.past)
                return null; if (i.current)
                a = i.i;
            else {
                if (!i.previous)
                    return null;
                a = D(A.itline, i.previous);
            } for (var r = a; r >= 0; r--) {
                if (A.Ze(r, t, n))
                    return A.itline[r];
            } return null; }, this.vo = function (e, t, n) { n = n || "main"; var i = A.Gl(e), a = 0; if (i.past)
                return null; if (i.current)
                a = i.i;
            else {
                if (!i.next)
                    return null;
                a = D(A.itline, i.next);
            } for (var r = a; r < A.itline.length; r++) {
                if (A.Ze(r, t, n))
                    return A.itline[r];
            } return null; }, this.Ze = function (e, t, n) { return n = n || "main", A.eo(e, t, n).business; }, this.mo = function () { switch (this.scale) {
                case "CellDuration": return this.cellDuration;
                case "Minute": return 1;
                case "Hour": return 60;
                case "Day": return 1440;
                case "Week": return 10080;
                case "Month": return 43200;
                case "Year": return 525600;
                case "Manual":
                    if (A.itline.length > 0) {
                        var e = A.itline[0];
                        return (e.end.getTime() - e.start.getTime()) / 6e4;
                    }
                    return A.cellDuration;
            } throw new DayPilot.Exception("can't guess cellDuration value"); }, this.lo = function (e) { return e.end.ticks - e.start.ticks; }, this.qn = function (e, t) { return t = t || "main", !("main" !== t || !this.treePreventParentUsage || !this.zo(e, t)) || !!this.Ao(e, t); }, this.zo = function (e, t) { t = t || "main"; var n = A.Lk[t], i = n.rowlist, a = i[e]; return !!a.isParent || !!(this.treeEnabled && a.children && a.children.length > 0); }, this.Ao = function (e, t) { t = t || "main"; var n = A.Lk[t], i = n.rowlist, a = i[e]; return !!a.isNewRow || !!a.resource.preventUsage; }, this.Bo = {}, this.Co = function () { if (A.treeAutoExpand) {
                var e = this.pn(o.jo), t = e.rowIndex, n = this.zo(t), i = this.Bo;
                if (i.timeout && i.y !== t && (clearTimeout(i.timeout), i.timeout = null, i.y = null), n) {
                    i.y = t;
                    var a = !A.rowlist[i.y].expanded;
                    !i.timeout && a && (i.timeout = setTimeout(function () { !A.rowlist[i.y].expanded && (A.Do(i.y, { "notAnimated": !0 }), A.Eo()), i.timeout = null, i.y = null; }, 500));
                }
            } }, this.Fo = function () { clearTimeout(A.Bo.timeout), A.Bo.timeout = null, A.Bo.y = null; }, this.gf = function () { var e = o.Go.width, t = o.Go.left, n = o.Ho, i = o.oo.dpBorder, a = A.rowlist[n.part.dayIndex], r = 0; r = a.start.getTime() - A.wb().getTime(); var s = null, l = null, d = A.snapToGrid && A.snapToGridEventResizing, c = !d; "left" === i ? (s = A.getDate(t, c).addTime(r), l = n.rawend()) : "right" === i && (s = n.start(), l = A.getDate(t + e, c, !0).addTime(r)), o.Go.start = s, o.Go.end = l; }, this.exportAs = function (e, t) { if (!A.Cf())
                throw new DayPilot.Exception("DayPilot.Scheduler.exportAs(): The instance must be visible during export."); var n = P.generate(e, t); return new DayPilot.Export(n); }, this["export"] = this.exportAs, this.tg = {};
            var P = this.tg;
            P.wg = function () { var e = P.vg; switch (e) {
                case "viewport": return A.nav.top.offsetWidth;
                case "full": return A._k() + P.getRowHeaderWidth();
                case "range": return A.getPixels(P.getRangeEnd()).boxRight - A.getPixels(P.getRangeStart()).boxLeft + P.getRowHeaderWidth();
                default: throw new DayPilot.Exception("Unsupported export mode: " + e);
            } }, P.xg = function () { var e = P.vg; switch (e) {
                case "viewport": return A.nav.top.offsetHeight - DayPilot.sh(A.nav.scroll) - 1;
                case "full": return A.Io() + A.fl() - DayPilot.sh(A.nav.scroll);
                case "range":
                    var t = P.getRows();
                    if (0 === t.length)
                        return A.fl();
                    var n = t.first(), i = t.last(), a = P.Jo(i) - P.Jo(n) + i.height + A.fl();
                    return a += A.Lk.top.height, a += A.Lk.bottom.height;
                default: throw new DayPilot.Exception("Unsupported export mode: " + e);
            } }, P.Jo = function (e) { var t = P.ug.includeHiddenRows ? e.absTop : e.top; return "bottom" === e.grid && ("viewport" === P.vg ? t += A.Lk.bottom.top - A.fl() : "full" === P.vg ? t += A.ek : "range" === P.vg && (t += P.xg() - A.fl() - A.Lk.bottom.height)), t; }, P.Ko = function (e) { var t = P.getViewportOffsetTop(); return "main" !== e.grid && (t = 0), t; }, P.getRangeStart = function () { var e = P.ug.dateFrom || A.wb(); return new DayPilot.Date(e); }, P.getRangeEnd = function () { var e = P.ug.dateTo || A.ud(); return new DayPilot.Date(e); }, P.getRangeResStart = function () { return P.ug.resourceFrom ? A.Pk(P.ug.resourceFrom) : A.rowlist.find(function (e) { return !e.hidden; }); }, P.getRangeResEnd = function () { return P.ug.resourceTo ? A.Pk(P.ug.resourceTo) : A.rowlist.last(); }, P.getRowHeaderWidth = function () { return A.cl(); }, P.getTimeHeaderHeight = function () { return A.fl(); }, P.getCanvas = function () { return P.canvas(); }, P.getRectangles = function () { var e = P.getRowHeaderWidth(), t = P.getTimeHeaderHeight(), n = {}; n.main = { "x": 0, "y": 0, "w": P.wg(), "h": P.xg() }, n.corner = { "x": 0, "y": 0, "w": e, "h": t }, n.grid = { "x": e, "y": t, "w": P.wg() - e, "h": P.xg() - t }; var i = n.grid.w, a = A.itline.last(); a && a.left + a.width < n.grid.w && (i = a.left + a.width); var r = n.grid.h, o = A.rowlist.last(); return o && o.top + o.height < n.grid.h && (r = o.top + o.height), n.gridContent = { "x": e, "y": t, "w": i, "h": r }, n; }, P.getRows = function () { var e, t, n, i, a = P.vg, r = x(); switch (a) {
                case "viewport":
                    e = A.Lo, t = e + A.nav.scroll.offsetHeight, n = A.bn(e).i, i = A.bn(t).i;
                    break;
                case "full":
                    e = 0, n = 0, i = A.rowlist.length;
                    break;
                case "range":
                    var o = P.getRangeResStart(), s = P.getRangeResEnd();
                    if (!o)
                        throw new DayPilot.Exception("Resource specified using resourceFrom option not found during export.");
                    if (!s)
                        throw new DayPilot.Exception("Resource specified using resourceTo option not found during export.");
                    n = o.index, i = s.index;
            } i < A.rowlist.length && (i += 1); for (var l = n; l < i; l++) {
                var d = A.rowlist[l];
                !P.ug.includeHiddenRows && d.hidden || r.push(d);
            } return r.offset = n, r; }, P.getRowsTop = function () { return A.Lk.top.rowlist; }, P.getRowsBottom = function () { return A.Lk.bottom.rowlist; }, P.getRowsAll = function () { var e = P.getRows(); return e = e.concat(P.getRowsTop()), e = e.concat(P.getRowsBottom()); }, P.getRowsTopAndBottom = function () { var e = []; return e = e.concat(P.getRowsTop()), e = e.concat(P.getRowsBottom()); }, P.bottomFrozenY = function () { if (A.Lk.bottom.enabled()) {
                if ("viewport" === P.vg)
                    return A.Lk.bottom.top;
                if ("full" === P.vg)
                    return P.xg() - A.Lk.bottom.height;
                if ("range" === P.vg)
                    return P.xg() - A.Lk.bottom.height;
            } return P.xg(); }, P.getEvents = function () { var e = P.vg; switch (e) {
                case "full":
                    var t = x();
                    return x(A.rowlist).forEach(function (e) { e.hidden || x(e.events).forEach(function (e) { t.push(e); }); }), t;
                case "viewport": return H.Aj().filter(function (e) { return "main" === e.event.part.grid; }).map(function (e) { return e.event; });
                case "range":
                    var t = x(), n = P.getRangeStart(), i = P.getRangeEnd();
                    return P.getRows().forEach(function (e) { x(e.events).filter(function (e) { return u(e.start(), e.end(), n, i); }).forEach(function (e) { t.push(e); }); }), t;
                default: throw new DayPilot.Exception("Unsupported export mode: " + e);
            } }, P.getEventsFrozen = function () { var e = P.vg; switch (e) {
                case "full":
                    var t = x();
                    return P.getRowsTopAndBottom().forEach(function (e) { e.hidden || x(e.events).forEach(function (e) { t.push(e); }); }), t;
                case "viewport": return H.Aj().filter(function (e) { return "main" !== e.event.part.grid; }).map(function (e) { return e.event; });
                case "range":
                    var t = x(), n = P.getRangeStart(), i = P.getRangeEnd();
                    return P.getRowsTopAndBottom().forEach(function (e) { x(e.events).filter(function (e) { return u(e.start(), e.end(), n, i); }).forEach(function (e) { t.push(e); }); }), t;
                default: throw new DayPilot.Exception("Unsupported export mode: " + e);
            } }, P.getLinks = function () { if (DayPilot.isArray(A.links.list)) {
                for (var e = [], t = 0; t < A.links.list.length; t++) {
                    var n = A.links.list[t], i = A.events.find(n.from), a = A.events.Hn(i && i.data), r = A.events.find(n.to), o = A.events.Hn(r && r.data), s = B.Ln(a, o, n, P.ug.includeHiddenRows);
                    s && e.push(s);
                }
                return e;
            } }, P.getTimeline = function () { var e = P.vg; switch (e) {
                case "full": return x(A.itline).addProps({ "offset": 0 });
                case "viewport": return P.getViewportTimeline();
                case "range": return P.getRangeTimeline();
                default: throw new DayPilot.Exception("Unsupported export mode: " + e);
            } }, P.getRangeTimeline = function () { var e = x(); if (A.itline && A.itline.length > 0) {
                var t = A.Gl(P.getRangeStart()).i, n = A.Gl(P.getRangeEnd()).i, i = A.Mo();
                n = Math.min(n, i - 1), t = p(t, 0);
                for (var a = t; a <= n; a++) {
                    var r = A.itline[a];
                    e.push(r);
                }
                e.offset = t;
            } return e; }, P.getViewportTimeline = function () { var e = x(); if (A.itline && A.itline.length > 0) {
                var t = A.No, n = t + A.nav.scroll.offsetWidth, i = A.El(t).x, a = A.El(n, !0).x, r = A.Mo();
                a = Math.min(a, r), i = p(i, 0);
                for (var o = i; o <= a; o++) {
                    var s = A.itline[o];
                    e.push(s);
                }
                e.offset = i;
            } return e; }, P.getTimeHeader = function (e) { if ("full" === P.vg)
                return x(A.timeHeader[e]); var t, n, i = x(); t = P.getViewportOffsetStart(), n = t + P.getViewportOffsetWidth(); var a = A.Oo(e, t), r = A.Oo(e, n); r || (r = { "x": A.timeHeader[e].length - 1 }); for (var o = a.x; o <= r.x; o++) {
                var s = A.timeHeader[e][o];
                i.push(s);
            } return i; }, P.getSeparators = function () { return x(A.separators).map(function (e) { var t = new DayPilot.Date(e.location); if (t.getTime() < A.wb().getTime())
                return null; if (t.getTime() >= A.ud().getTime())
                return null; var n = A.getPixels(t); return n.cut ? null : n.left < 0 ? null : n.left > A._k() ? null : { "left": n.left, "color": e.color, "width": e.width || 1 }; }).filter(function (e) { return !!e; }); }, P.fakeDurationBar = function () { var e = c(); e.style.display = "none", e.className = A.K(V.event); var t = c(); t.className = A.K(V.eventBar); var n = c(); return n.className = A.K(V.eventBarInner), d().appendChild(e), t.appendChild(n), e.appendChild(t), e; }, P.fakeEventLeft = function () { var e = c(); return e.style.display = "none", e.className = A.K("_event_left"), d().appendChild(e), e; }, P.fakeGroup = function () { var e = c(); e.style.display = "none", e.className = A.K(V.event) + " " + A.K("_task_group"); var t = c(); return t.className = A.K(V.eventInner), e.appendChild(t), A.divEvents.appendChild(e), e; }, P.fakeMilestone = function () { var e = c(); e.style.display = "none", e.className = A.K(V.event) + " " + A.K("_task_milestone"); var t = c(); return t.className = A.K(V.eventInner), e.appendChild(t), A.divEvents.appendChild(e), e; }, P.fakeCell = function () { var e = c(); e.style.display = "none", e.className = A.K("_cell"), e.style.position = "absolute", e.style.top = "-2000px", e.style.left = "-2000px"; var t = c(); return t.className = A.K("_cell_inner"), e.appendChild(t), A.divCells.appendChild(e), e; }, P.fakeRowHeader = function () { var e = c(); e.style.display = "none", e.className = A.K("_rowheader"), e.style.position = "absolute", e.style.top = "-2000px", e.style.left = "-2000px"; var t = c(); return t.className = A.K("_rowheader_inner"), e.appendChild(t), A.divResScroll.appendChild(e), e; }, P.Po = function () { var e = c(); e.style.display = "none", e.className = A.K("_corner"), e.style.position = "absolute", e.style.top = "-2000px", e.style.left = "-2000px"; var t = c(); return t.className = A.K("_corner_inner"), e.appendChild(t), A.nav.top.appendChild(e), e; }, P.fakeExpand = function () { var e = c(); return e.style.display = "none", e.className = A.K("_tree_image_expand"), d().appendChild(e), e; }, P.fakeIcon = function (e) { var t = document.createElement("i"); return t.className = e, t.style.position = "absolute", t.style.top = "-2000px", t.style.left = "-2000px", t; }, P.extractUrl = function (e) { var t = /url\((")?([^"].*[^"])\1\)/.exec(e); return t ? t[2] : null; }, P.getImages = function () { var e = {}, t = P.fakeExpand(); return e.expand = P.extractUrl(new DayPilot.StyleReader(t).get("background-image")), t.className = A.K("_tree_image_collapse"), e.collapse = P.extractUrl(new DayPilot.StyleReader(t).get("background-image")), t.className = A.K("_tree_image_no_children"), e.nochildren = P.extractUrl(new DayPilot.StyleReader(t).get("background-image")), C(t), e; }, P.getFont = function (e) { return new DayPilot.StyleReader(e).getFont(); }, P.getViewportOffsetStart = function () { switch (P.vg) {
                case "full": return 0;
                case "viewport": return A.nav.scroll.scrollLeft;
                case "range": return A.getPixels(P.getRangeStart()).boxLeft;
            } }, P.getViewportOffsetTop = function () { switch (P.vg) {
                case "full": return 0;
                case "viewport": return A.nav.scroll.scrollTop;
                case "range": return P.Jo(P.getRangeResStart()) - A.Lk.top.height;
            } }, P.getViewportOffsetWidth = function () { switch (P.vg) {
                case "full": return A._k();
                case "viewport": return A.nav.scroll.offsetWidth;
                case "range": return A.getPixels(P.getRangeEnd()).boxRight - P.getViewportOffsetStart();
            } }, P.excelBoard = function () { var e = new DayPilot.Excel, t = e.worksheets.create("Scheduler"), n = new DayPilot.StyleReader(A.nav.corner).get("background-color"), i = new DayPilot.StyleReader(A.nav.top).get("border-top-color"), a = x(A.elements.events).filter(function (e) { return !e.event.data.type; }).map(function (e) { return e.firstChild; }).last(), r = new DayPilot.StyleReader(a).get("border-right-color"); e.styles.getDefault().setBackColor("#ffaaaa"); var o = e.styles.create(); o.setHorizontalAlignment("Center"), o.setBackColor(n), o.setBorderColor(i); var s = e.styles.create(); s.setVerticalAlignment("Top"), s.setBackColor(n), s.setBorderColor(i); var l = e.styles.create(); l.setVerticalAlignment("Top"), l.setBackColor("#ff0000"), l.setBorderColor(r), t.enableGridlines(!1), t.cell(0, 0).setRowspan(A.timeHeader.length).setStyle(o), t.cell(10, 10).setText("hi there"), x(A.timeHeader).forEach(function (e, n) { var i = { "x": 1, "y": 0 }; P.getTimeHeader(n, "full").forEach(function (e, a) { var r = e.colspan; t.cell(a + i.x, n + i.y).setText(e.innerHTML).setColspan(r).setStyle(o); }); }), x(A.rowlist).forEach(function (e, n) { for (var i = { "x": 0, "y": 1 }, a = "", r = 0; r < e.level; r++)
                a += "  "; t.cell(i.x, n + i.y).setText(a + e.html).setRowspan(e.lines.length).setStyle(s); }); var d = { "x": 0, "y": A.timeHeader.length }, c = d.y; return x(A.rowlist).forEach(function (e, n) { x(e.lines).forEach(function (e, i) { var a = d.x; x(e).forEach(function (e) { var i = A.Gl(e.start()).i, r = A.Gl(e.end()).i, o = 1 + r - i; t.cell(i + a, n + c).setText(e.client.html()).setColspan(o).setStyle(l), a += o - 1; }); }), c += e.lines.length - 1; }), e; }, P.ug = null, P.vg = null, P.generate = function (e, t) {
                function n(e) { var t = h.grid.y + P.Jo(e) - P.Ko(e); t += p(0, h.grid.y - t); var n = A.treeEnabled && !e.isNewRow, i = 10, a = n ? e.level * A.treeIndent + A.treeImageMarginLeft + 5 : 5; "Disabled" !== A.rowMoveHandling && (a += 10); var r = { "x": 0, "y": t, "w": h.grid.x + 1, "h": e.height + 1 }, o = e; if (ve) {
                    o = A.So(e).row;
                } var s = A.rowHeaderCols ? A.rowHeaderCols.length : 0, l = A.pm(), c = A.internalUseStandardColumns && !e.isNewRow, u = c || l && DayPilot.isArray(A.rowHeaderColumns), f = {}; if (f.text = o.html, Z.Ro().length > 0 && u) {
                    var m = o.columns.find(function (e, t) { return !A.rowHeaderColumns[t].hidden; });
                    f.text = m.text || m.html;
                } f.backColor = o.backColor || ie, f.fontSize = te.size, f.fontFamily = te.family, f.fontStyle = te.style, f.fontColor = o.fontColor || ne, f.borderColor = y, f.horizontalAlignment = "left", f.verticalAlignment = "center", f.row = A.Im(e), f.columns = [], f.row.columns = f.columns, o.columns && o.columns.forEach(function (e) { var t = g(e, {}, ["text", "html", "backColor", "horizontalAlignment", "verticalAlignment"]); t.text = e.text || e.html, t.fontSize = f.fontSize, t.fontFamily = f.fontFamily, t.fontStyle = f.fontStyle, t.fontColor = f.fontColor, t.horizontalAlignment = t.horizontalAlignment || f.horizontalAlignment, t.verticalAlignment = t.verticalAlignment || f.verticalAlignment, t.backColor = t.backColor || f.backColor, f.columns.push(t); }), e.isNewRow && (f.text = A.rowCreateText), pe && A.onBeforeRowHeaderExport(f); var b = 10, w = { "x": a, "y": t + A.treeImageMarginTop + 2, "w": 10, "h": b }, k = { "size": f.fontSize, "family": f.fontFamily, "style": f.fontStyle }; "center" === f.verticalAlignment && (w.y = t + r.h / 2 - 5); var C = n ? a + i + 3 : a, D = n ? r.w - C : r.w, S = { "x": C, "y": t, "w": D, "h": e.height + 1 }; if (A.rowHeaderCols && (S.w = A.rowHeaderCols[0] - C), d.fillRect(r, f.backColor), d.text(S, f.text, k, f.fontColor, f.horizontalAlignment, 0, f.verticalAlignment), d.rect(r, f.borderColor), n) {
                    var _ = null;
                    _ = x(e.children).isEmpty() ? v.nochildren : e.expanded || P.ug.includeHiddenRows ? v.collapse : v.expand, d.image(w, _);
                } var E = x(f.row.columns); if (u && (E = E.filter(function (e, t) { return !A.rowHeaderColumns[t].hidden; }), s = E.length), A.rowHeaderCols) {
                    var a = r.x;
                    x(A.rowHeaderCols).forEach(function (e, t) { if (0 !== t) {
                        var n = c || A.pm() ? 0 : 1, i = t - n, o = E[i] || {}, s = g(r);
                        s.x = a, s.w = e + 1;
                        var l = 3, u = g(s);
                        u.x += l, u.w -= l;
                        var h = o.backColor || f.backColor;
                        d.fillRect(s, h), o.text && d.text(u, o.text, { "size": o.fontSize, "family": o.fontFamily, "style": o.fontStyle }, o.fontColor, o.horizontalAlignment, 0, o.verticalAlignment), d.rect(s, f.borderColor);
                    } a += e; });
                } }
                function i(e, t, n) { n = n || "main"; var i = A.itline[e], a = A.Lk[n].rowlist[t], r = A.eo(e, t, n), o = r.business, s = A.To(e, t, n); s || (s = {}, s.cell = A.cells.findXy(e, t, n)[0]); var l = r.html, c = r.horizontalAlignment || "left", u = r.backColor || (o ? j : U); s.areas = s.cell && s.cell.properties && s.cell.properties.areas || [], s.text = l, s.horizontalAlignment = c, s.backColor = u, s.fontSize = W.size, s.fontFamily = W.family, s.fontStyle = W.style, s.fontColor = s.cell && s.cell.properties && s.cell.properties.fontColor || F, me && (A.onBeforeCellExport(s), l = s.text, c = s.horizontalAlignment, u = s.backColor); var f = h.grid.y + P.Jo(a) - P.Ko(a); f += p(0, h.grid.y - f); var v = h.grid.x + i.left - ce; v += p(0, h.grid.x - v); var m = { "x": v, "y": f, "w": i.width, "h": a.height }; d.fillRect(m, u); var g = {}; g.x = m.x + 1, g.y = m.y + 1, g.w = m.w - 2, g.h = m.h - 2; var b = { "size": s.fontSize, "family": s.fontFamily, "style": s.fontStyle }; l && d.text(g, l, b, s.fontColor, c), x(s.areas).forEach(function (e) { if (DayPilot.Areas.isVisible(e)) {
                    var t = { "type": "cell-area" };
                    "undefined" != typeof e.id && (t.id = e.id), d.groupStart(t);
                    var n = 0;
                    "number" == typeof e.left ? n = e.left : e.start ? n = A.getPixels(new DayPilot.Date(e.start)).left - i.left : "number" == typeof e.right && (n = i.width - e.right - e.width);
                    var a = e.width || e.w;
                    "number" == typeof e.right ? a = i.width - e.right - n : e.end && (a = A.getPixels(new DayPilot.Date(e.end)).left - e.left - i.left + 1);
                    var r = e.top || 0, o = e.height || e.h;
                    "number" == typeof e.bottom && (o = i.height - e.bottom - r), o || (o = i.height - r);
                    var l = { "x": v + n, "y": f + r, "w": a, "h": o };
                    if (e.backColor && d.fillRect(l, e.backColor), e.icon) {
                        var c = A.tg.areaIcon(e.icon);
                        d.text(l, c.text, c.font, e.fontColor || s.fontColor, e.horizontalAlignment, e.padding, e.verticalAlignment);
                    }
                    else if (e.image) {
                        var u = new Image;
                        u.src = e.image, d.image(l, u);
                    }
                    else
                        e.symbol ? d.symbol(l, e.symbol, { color: e.fontColor || s.fontColor }) : (e.text || e.html) && d.text(l, e.text || e.html, { "size": e.fontSize || s.fontSize, "family": e.fontFamily || s.fontFamily, "style": e.fontStyle || s.fontStyle }, e.fontColor || s.fontColor, e.horizontalAlignment, e.padding, e.verticalAlignment);
                    d.groupEnd();
                } }); }
                function a(e) { var t = h.grid.y + P.Jo(e) - P.Ko(e); if (t += p(0, h.grid.y - t), t !== h.grid.y && !("main" === e.grid && t > P.bottomFrozenY())) {
                    var n = K, i = {};
                    if (ge) {
                        if (i.row = A.Im(e), i.hidden = !1, i.cssClass = null, i.type = "HorizontalLine", i.color = null, A.onBeforeGridLineRender(i), i.hidden)
                            return;
                        n = i.color || K;
                    }
                    d.line(h.gridContent.x + 1, t, h.gridContent.x + h.gridContent.w - 1, t, n), "top" === e.grid && e === A.Lk.top.rowlist.last() && d.line(h.gridContent.x + 1, t + e.height, h.gridContent.x + h.gridContent.w - 1, t + e.height, K);
                } }
                function r(e, t) { var n = h.grid.x + e.left - ce; if (n += p(0, h.grid.x - n), n !== h.grid.x) {
                    var i = h.grid.y + 1, a = h.grid.y + h.grid.h - 2;
                    "top" === t && (a = i + A.Lk.top.height), "bottom" === t && (i = P.bottomFrozenY());
                    var r = V, o = {};
                    if (ge) {
                        if (o.start = e.start, o.end = e.end, o.hidden = !1, o.cssClass = null, o.type = "VerticalLine", o.color = null, A.onBeforeGridLineRender(o), o.hidden)
                            return;
                        r = o.color || V;
                    }
                    d.line(n, i, n, a, r);
                } }
                function o(e) { function t() { var e = T.backColor; d.diamond(M, e); } function n() { var e = { "x": u, "y": c, "w": s, "h": T.barHeight }, t = { "x": u + w, "y": c, "w": k, "h": T.barHeight }, n = v.backColor || R, i = { x: u, y: c + 5, h: M.h - 6 - 5, w: M.w }; d.fillRect(i, n); var a = v.text || v.html; d.text(i, a, { "size": T.fontSize, "family": T.fontFamily, "style": T.fontStyle }, T.fontColor, T.horizontalAlignment, T.textPadding, T.verticalAlignment), d.upperRightCorner({ x: u + M.w - 6, y: i.y + i.h, w: 6, h: 6 }, n), d.upperLeftCorner({ x: u, y: i.y + i.h, w: 6, h: 6 }, n), l && (d.fillRect(e, g), k > 0 && d.fillRect(t, m)); } function i(t, n) { var i = v.versions[n]; d.groupStart({ "type": "event-version", "event-id": e.id() }); var a = t.width, r = h.grid.y + o + t.top - ue; r += p(0, h.grid.y - r); var s = h.grid.x + t.left - ce + 1, l = p(0, h.grid.x - s); s += l, a -= l; var c = A.eventVersionHeight, u = A.durationBarVisible && !i.barHidden, f = u ? Z.Uo() : 0, m = { "x": s, "y": r, "w": a, "h": c }; d.fillRect(m, i.backColor || T.backColor); var g = { "x": s + C, "y": r + f, "w": p(0, a - C), "h": c - f }; if (d.text(g, i.text, { "size": T.fontSize, "family": T.fontFamily, "style": T.fontStyle }, T.fontColor, T.horizontalAlignment, T.textPadding, T.verticalAlignment), d.rect(m, i.borderColor || T.borderColor), u) {
                    var b = i.barBackColor || N, y = i.barColor || I, w = 100 * t.barLeft / a, x = Math.ceil(100 * t.barWidth / a), k = { "x": s, "y": r + 1, "w": a, "h": f }, D = { "x": s + w, "y": r + 1, "w": x, "h": f };
                    d.fillRect(k, b), x > 0 && d.fillRect(D, y);
                } d.groupEnd(); } function a() { var t = { "x": u, "y": c, "w": s, "h": T.barHeight }, n = { "x": u + w, "y": c, "w": k, "h": T.barHeight }, i = { "x": u + C, "y": c + T.barHeight, "w": s - C, "h": e.part.height - T.barHeight }; d.fillRect(M, T.backColor), d.text(i, T.text, { "size": T.fontSize, "family": T.fontFamily, "style": T.fontStyle }, T.fontColor, T.horizontalAlignment, T.textPadding, T.verticalAlignment), d.rect(M, T.borderColor), l && (d.fillRect(t, g), k > 0 && d.fillRect(n, m)), x(T.areas).forEach(function (t) { if (DayPilot.Areas.isVisible(t)) {
                    var n = { "type": "event-area" };
                    "undefined" != typeof t.id && (n.id = t.id), d.groupStart(n);
                    var i = 0;
                    "number" == typeof t.left ? i = t.left : t.start ? i = A.getPixels(new DayPilot.Date(t.start)).left - e.part.left : "number" == typeof t.right && (i = e.part.width - t.right - t.width);
                    var a = t.width || t.w;
                    "number" == typeof t.right ? a = e.part.width - t.right - i : t.end && (a = A.getPixels(new DayPilot.Date(t.end)).left - t.left - e.part.left + 1);
                    var r = t.top || 0, o = t.height || t.h;
                    "number" == typeof t.bottom && (o = e.part.height - t.bottom - r), o || (o = e.part.height - r);
                    var s = { "x": u + i, "y": c + r, "w": a, "h": o };
                    if (t.backColor && d.fillRect(s, t.backColor), t.icon) {
                        var l = A.tg.areaIcon(t.icon);
                        d.text(s, l.text, l.font, t.fontColor || T.fontColor, t.horizontalAlignment, t.padding, t.verticalAlignment);
                    }
                    else if (t.image) {
                        var h = new Image;
                        h.src = t.image, d.image(s, h);
                    }
                    else
                        t.symbol ? d.symbol(s, t.symbol, { color: t.fontColor || T.fontColor }) : (t.text || t.html) && d.text(s, t.text || t.html, { "size": t.fontSize || T.fontSize, "family": t.fontFamily || T.fontFamily, "style": t.fontStyle || T.fontStyle }, t.fontColor || T.fontColor, t.horizontalAlignment, t.padding, t.verticalAlignment);
                    d.groupEnd();
                } }); } var r = A.Lk[e.part.grid].rowlist[e.part.dayIndex], o = P.Jo(r), s = e.part.width, l = e.client && e.client.barVisible && e.client.barVisible(), c = h.grid.y + o + e.part.top - P.Ko(r), u = h.grid.x + e.part.left - ce + 1, f = p(0, h.grid.x - u); u += f, s -= f; var v = e.cache || e.data, m = v.barColor || I, g = v.barBackColor || N, b = v.backColor || E, y = v.fontColor || _, w = e.part.barLeft, k = e.part.barWidth; "PercentComplete" === A.durationBarMode && (w = 0, k = p(0, Math.floor(e.part.width * (v.complete || 0) / 100))), "Milestone" === e.data.type && (b = H); var C = 2, T = {}; T.e = e, T.text = e.text ? e.text() : e.client.html(), T.areas = DayPilot.Util.createArrayCopy(v.areas), T.fontSize = S.size, T.fontFamily = S.family, T.fontStyle = S.style, T.fontColor = y, T.backColor = b, T.borderColor = D, T.horizontalAlignment = "left", T.verticalAlignment = "center", T.barHeight = 4, T.textPadding = 2, T.textLeft = v.textLeft || v.htmlLeft, T.textRight = v.textRight || v.htmlRight, "function" == typeof A.onBeforeEventExport && A.onBeforeEventExport(T); var M = { "x": u, "y": c, "w": s, "h": e.part.height }; d.groupStart({ "type": "event", "id": e.id() }), "Milestone" === e.data.type ? t() : "Group" === e.data.type ? n() : a(); var B = T.textLeft; if (B) {
                    var L = { "size": T.fontSize, "family": T.fontFamily, "style": T.fontStyle }, O = d.textWidth(B, L), U = { "x": u - (A.eventHtmlLeftMargin + O), "y": c, "w": O, "h": e.part.height };
                    d.text(U, B, L, z);
                } var j = T.textRight; if (j) {
                    var W = { "size": T.fontSize, "family": T.fontFamily, "style": T.fontStyle }, F = d.textWidth(j, W), q = { "x": u + s + A.eventHtmlRightMargin, "y": c, "w": F, "h": e.part.height };
                    d.text(q, j, W, z);
                } d.groupEnd(), (e.versions || []).forEach(i); }
                "object" == typeof e && (t = e, e = null);
                var t = t || {}, e = e || t.format || "svg", s = t.scale || 1;
                if ("xls" === e)
                    return P.excelBoard();
                "jpg" === e.toLowerCase() && (e = "jpeg");
                var l = t.area || "viewport";
                P.ug = g(t), P.vg = l, P.ug.includeHiddenRows = P.ug.includeHiddenRows && "range" === l, P.getRows().forEach(function (e) { A.Qo(e); });
                var d, c = P.wg(), u = P.xg();
                switch (e.toLowerCase()) {
                    case "svg":
                        d = new DayPilot.Svg(c, u);
                        break;
                    case "png":
                        d = new DayPilot.Canvas(c, u, "image/png", s);
                        break;
                    case "jpeg":
                        d = new DayPilot.Canvas(c, u, "image/jpeg", s, t.quality);
                        break;
                    default: throw new DayPilot.Exception("Export format not supported: " + e);
                }
                var h = P.getRectangles(), v = P.getImages(), m = new DayPilot.StyleReader(A.nav.top).get("background-color"), b = new DayPilot.StyleReader(A.nav.corner).get("background-color"), y = new DayPilot.StyleReader(A.nav.top).get("border-top-color"), w = new DayPilot.StyleReader(A.nav.divider).get("background-color"), k = x(A.elements.events).filter(function (e) { return !e.event.data.type; }).map(function (e) { return e.firstChild; }).last(), D = new DayPilot.StyleReader(k).get("border-right-color"), S = P.getFont(k), _ = new DayPilot.StyleReader(k).get("color"), E = new DayPilot.StyleReader(k).get("background-color");
                E = DayPilot.Util.isTransparentColor(E) ? "white" : E;
                var T = P.fakeMilestone(), H = new DayPilot.StyleReader(T.firstChild).get("background-color");
                C(T);
                var M = P.fakeGroup(), R = new DayPilot.StyleReader(M.firstChild).get("background-color");
                C(M);
                var B = P.fakeDurationBar(), N = new DayPilot.StyleReader(B.firstChild).get("background-color"), I = new DayPilot.StyleReader(B.firstChild.firstChild).get("background-color");
                C(B);
                var L = P.fakeEventLeft(), z = new DayPilot.StyleReader(L).get("color");
                C(L);
                var O = P.fakeCell(), U = new DayPilot.StyleReader(O).get("background-color");
                f(O, A.K("_cell_business"));
                var j = new DayPilot.StyleReader(O).get("background-color"), W = P.getFont(O), F = new DayPilot.StyleReader(O).get("color");
                C(O);
                var q = DayPilot.Util.firstPropValue(A.V.ik), K = new DayPilot.StyleReader(q).get("background-color"), Y = DayPilot.Util.firstPropValue(A.V.hk), V = new DayPilot.StyleReader(Y).get("background-color"), J = A.V.timeHeader["0_0"], G = P.getFont(J), X = new DayPilot.StyleReader(J).get("color"), $ = new DayPilot.StyleReader(J).get("background-color"), ee = P.fakeRowHeader(), te = P.getFont(ee), ne = new DayPilot.StyleReader(ee).get("color"), ie = new DayPilot.StyleReader(ee).get("background-color");
                C(ee);
                var ae = P.Po(), re = P.getFont(ae), oe = new DayPilot.StyleReader(ae).get("color"), b = new DayPilot.StyleReader(ae).get("background-color");
                if (A.rowHeaderColumns && A.kn && A.kn.blocks[0])
                    var se = A.kn.blocks[0].section.firstChild, le = new DayPilot.StyleReader(se).getFont(), de = new DayPilot.StyleReader(se).get("color");
                var ce = P.getViewportOffsetStart(), ue = P.getViewportOffsetTop();
                d.fillRect(h.main, "white"), d.fillRect(h.main, m), function () { var e = {}; e.backColor = b, e.text = A.cornerText, e.fontSize = re.size, e.fontFamily = re.family, e.fontStyle = re.style, e.fontColor = oe, e.horizontalAlignment = "left", e.verticalAlignment = "top", "function" == typeof A.onBeforeCornerExport && A.onBeforeCornerExport(e); var t = { "size": e.fontSize, "family": e.fontFamily, "style": e.fontStyle }; d.fillRect(h.corner, e.backColor), d.text(h.corner, e.text, t, e.fontColor, e.horizontalAlignment, 0, e.verticalAlignment); }();
                var he = h.corner.x;
                Z.Ro().forEach(function (e, t) { var n = A.rowHeaderCols[t], i = {}; i.x = he, i.w = n + 1, i.y = h.corner.h - A.kn.height, i.h = A.kn.height + 1; var a = 3, r = g(i); r.x += a, r.w -= a; var o = e.name || e.title || ""; d.fillRect(i, b), d.text(r, o, le, de, "left", 0, "center"), d.rect(i, y), he += n; });
                var fe = "function" == typeof A.onBeforeTimeHeaderExport, ve = "function" == typeof A.onBeforeRowHeaderRender, pe = "function" == typeof A.onBeforeRowHeaderExport, me = "function" == typeof A.onBeforeCellExport;
                P.getRows().forEach(n), P.getRowsTop().forEach(n), P.getRowsBottom().forEach(n), P.getRows().forEach(function (e, t, n) { var t = e.index; P.getTimeline().forEach(function (n, a, r) { var a = r.offset + a; i(a, t, e.grid); }); });
                var ge = "function" == typeof A.onBeforeGridLineRender;
                P.getRows().forEach(a), P.getTimeline().forEach(function (e) { r(e, "main"); });
                var be = P.getTimeline().last();
                return function (e) { if (e) {
                    var t = V, n = {};
                    if (ge) {
                        if (n.start = e.end, n.end = e.end, n.hidden = !1, n.cssClass = null, n.type = "VerticalLine", n.color = null, A.onBeforeGridLineRender(n), n.hidden)
                            return;
                        t = n.color || V;
                    }
                    var i = h.grid.x + e.left - ce + e.width;
                    d.line(i, h.grid.y + 1, i, h.grid.y + h.grid.h - 2, t);
                } }(be), P.getSeparators().forEach(function (e) { var t = h.grid.x + e.left - ce; d.line(t, h.grid.y + 1, t + e.width, h.grid.y + h.grid.h - 2, e.color); }), P.getLinks().forEach(function (e) {
                    e && e.map(function (e) { return P.shiftableSegment(e).shift(h.grid.x - ce, h.grid.y - ue); }).forEach(function (e) {
                        switch (e.type) {
                            case "HorizontalLine":
                                d.line(e.startX, e.startY, e.endX, e.endY, "red");
                                break;
                            case "VerticalLine":
                                d.line(e.startX, e.startY, e.endX, e.endY, "red");
                                break;
                            case "ArrowRight":
                                d.triangle({ x: e.startX - 10, y: e.startY - 4.5, w: 10, h: 10 }, "red");
                                break;
                            case "ArrowDown":
                                d.triangle({ x: e.startX - 4.5, y: e.startY - 10, w: 10, h: 10 }, "red", 90);
                                break;
                            case "ArrowLeft":
                                d.triangle({ x: e.startX, y: e.startY - 4.5, w: 10, h: 10 }, "red", 180);
                                break;
                            case "ArrowUp": d.triangle({ x: e.startX - 4.5, y: e.startY, w: 10, h: 10 }, "red", -90);
                        }
                    });
                }), P.getEvents().forEach(o), P.getRowsTopAndBottom().forEach(function (e, t, n) { var t = e.index; P.getTimeline().forEach(function (n, a, r) { var a = r.offset + a; i(a, t, e.grid); }), a(e); }), P.getTimeline().forEach(function (e) { r(e, "top"), r(e, "bottom"); }), P.getEventsFrozen().forEach(o), x(A.timeHeader).forEach(function (e, t) { P.getTimeHeader(t, l).forEach(function (e) { var n = h.grid.x + e.left - ce, i = e.width, a = Q.Vo(t), r = a.top, o = a.height, s = {}; s.header = {}, s.header.start = e.start, s.header.end = e.end, s.header.level = t, s.header.text = e.text, s.header.html = e.innerHTML, s.text = e.text, s.backColor = e.backColor, s.verticalAlignment = "center", s.horizontalAlignment = "center", s.fontColor = X, s.fontSize = G.size, s.fontFamily = G.family, s.fontStyle = G.style, fe && A.onBeforeTimeHeaderExport(s); var l = p(0, h.grid.x - n); n += l, i -= l; var l = p(0, n + i - (h.grid.x + h.grid.w)); i -= l; var c = { "x": n, "y": r, "w": i + 1, "h": o + 1 }, u = { "size": s.fontSize, "family": s.fontFamily, "style": s.fontStyle }; d.fillRect(c, s.backColor || $), d.rect(c, y), d.text(c, s.text, u, s.fontColor, s.horizontalAlignment, 0, s.verticalAlignment); }); }), d.rect(h.main, y), d.line(h.grid.x, 0, h.grid.x, h.main.h, w), d.line(0, h.grid.y, h.main.w, h.grid.y, w), d;
            }, P.areaIcon = function (e) { var t = P.fakeIcon(e); d().appendChild(t); var n = window.getComputedStyle(t, ":before").content.replace(/"/g, ""), i = new DayPilot.StyleReader(t).getFont(); return d().removeChild(t), { "text": n, "font": i }; }, P.shiftableSegment = function (e) { return { "startX": e.startX, "endX": e.endX, "startY": e.startY, "endY": e.endY, "type": e.type, "shift": function (t, n) { return P.shiftableSegment({ "startX": e.startX + t, "endX": e.endX + t, "startY": e.startY + n, "endY": e.endY + n, "type": e.type }); } }; }, this.Wo = {};
            var I = this.Wo;
            I.findJointDivs = function (e) { var t = e.data.join; return t ? x(A.elements.events).filter(function (n) { return n.event.data.join === t && n.event !== e; }) : x(); }, this.Xo = {};
            var L = this.Xo;
            L.divs = [], L.list = [], L.forbidden = !1, L.additional = function () { var e = x(), t = A.multiselect.isSelected(o.oo.event), n = A.allowMultiResize, e = x(); if (t && n && (e = x(A.multiselect.Nc).filter(function (e) { return e !== o.oo; })), A.jointEventsResize) {
                var i = I.findJointDivs(o.Ho);
                e = e.concat(i);
            } return e; }, L.update = function () { L.clear(), L.draw(); }, L.clear = function () { C(L.divs), L.divs = []; }, L.isInvalid = function () { return L.divs.some(function (e) { return e.info.invalid; }); }, L.Yo = function () { return A.Zo(L.list); }, L.$o = function () { if (o.oo) {
                var e = o.Ho, t = o.Go, n = t.start.getTime() - e.start().getTime(), i = t.end.getTime() - e.end().getTime(), a = 0;
                L.list = [], L.forbidden = !1, L.invalid = !1, L.rowoffset = a, L.additional().forEach(function (e) { if (e.event) {
                    var t = e.event, r = A.rowlist[t.part.dayIndex + a];
                    if (!r)
                        return void (L.invalid = !0);
                    var o = t.start().addTime(n), s = t.end().addTime(i), l = {};
                    l.$ = {}, o >= s && (l.invalid = !0, n > 0 ? (l.$._o = o, l.$.ap = s.addSeconds(-1)) : i < 0 && (l.$.bp = s, l.$.cp = o.addSeconds(1))), l.event = t, l.start = o, l.end = s, l.$.ep = r, L.list.push(l);
                } });
            } }, L.fp = function () { var e = 0; if (L.list.forEach(function (e) { var t = e.event, n = e.$.ep, i = t.part.top + n.top, a = t.part.height, r = new DayPilot.Date(e.start), o = new DayPilot.Date(e.end), s = A.getPixels(r), l = A.getPixels(o); e.$._o === r && e.$.ap && (s = A.getPixels(e.$.ap)), e.$.bp === o && e.$.cp && (l = A.getPixels(e.$.cp)); var d = DayPilot.DateUtil.diff(t.rawend(), t.start()); d = p(d, 1); var u = Z.hg(d), h = u ? s.boxLeft : s.left, f = u ? l.boxRight - h : l.left - h, v = c(); v.style.position = "absolute", v.style.left = h + "px", v.style.top = i + "px", v.style.height = a + "px", v.style.width = f + "px", v.style.zIndex = 101, v.style.overflow = "hidden", v.className = A.K("_shadow"), v.info = e; var m = c(); m.className = A.K("_shadow_inner"), v.appendChild(m), A.Mk.appendChild(v), L.divs.push(v); }), L.invalid) {
                var t = A.K("_shadow_overlap");
                return void x(L.divs).forEach(function (e) { f(e, t); });
            } x(L.divs).forEach(function (t) { if (t.info) {
                var n = t, i = t.info, a = t.info.event, r = A.rowlist[a.part.dayIndex + e], s = A.getPixels(i.start), l = A.getPixels(i.end), d = s.left, c = l.left - d;
                t.info.invalid && f(t, A.K("_shadow_invalid"));
                var u = x(L.list).map(function (e) { return e.event.data; }).add(o.oo.event.data);
                A.gp(n, r, d, c, u), A.hp(n, i.start, i.end, a.resource()), n.overlapping && (i.overlapping = !0, L.forbidden = !0);
            } }); }, L.draw = function () { L.$o(), L.fp(); }, this.ip = {}, this.ip.modifiedProps = function () { var e = new DayPilot.Scheduler, t = DayPilot.Util.members(A, 2), n = []; return n.push("<div id='dp'></div>"), n.push("<script>"), n.push("var dp = new DayPilot.Scheduler('dp');"), t.properties.forEach(function (t) { var i, a, r = t.name, o = r.split("."); if (o.length > 1) {
                var s = o[0], l = o[1];
                i = JSON.stringify(e[s][l]), a = JSON.stringify(A[s][l]);
            }
            else
                i = JSON.stringify(e[r]), a = JSON.stringify(A[r]); i !== a && n.push("dp." + r + " = " + a + ";"); }), t.events.forEach(function (e) { var t = e.name; "function" == typeof A[t] && n.push("dp." + t + " = " + A[t].toString() + ";"); }), n.push("dp.init();"), n.push("</script>"), n.join("\n"); }, this.jp = {};
            var z = this.jp;
            z.divs = [], z.list = [], z.forbidden = !1, z.kp = 0, z.verticalAll = function () { return "All" === A.multiMoveVerticalMode; }, z.additional = function () { var e = x(), t = A.Il, n = A.multiselect.isSelected(o.jo), i = A.allowMultiMove; if (n && i && (e = x(A.multiselect.Nc).filter(function (e) { return e !== o.Il && e !== t.Il; })), A.jointEventsMove) {
                var a = I.findJointDivs(o.jo);
                e = e.concat(a);
            } return e; }, z.update = function () { z.clear(), z.draw(); }, z.Yo = function () { return A.Zo(z.list); }, z.$o = function () { if (z.list = [], z.rowoffset = 0, o.Il) {
                var e = o.jo, t = !!o.lp, n = t ? o.lp.start : e.start(), i = n.getTime() - e.start().getTime(), a = e.part.dayIndex, r = t ? D(A.rowlist, o.lp.row) : a, s = r - a;
                z.verticalAll() || (s = 0), z.forbidden = !1, z.invalid = !1, z.rowoffset = s, z.additional().forEach(function (e) { if (e.event) {
                    var t = e.event, n = A.rowlist[t.part.dayIndex + s];
                    if (!n)
                        return void (z.invalid = !0);
                    var a = t.start().addTime(i), r = t.end().addTime(i), o = {};
                    o.event = t, o.start = a, o.end = r, o.resource = n.id, z.list.push(o);
                } });
            } }, z.fp = function () { z.rowoffset; if (z.list.forEach(function (e) { var t = e.start, n = e.end, i = e.event, a = A.getPixels(t), r = A.getPixels(n), o = DayPilot.DateUtil.diff(i.rawend(), i.start()); o = p(o, 1); var s = Z.hg(o), l = A.Pk(e.resource); if (!l)
                return void (z.invalid = !0); e.$ = {}, e.$.ep = l; var d = s ? a.boxLeft : a.left, u = s ? r.boxRight - d : r.left - d, h = i.part.top + l.top, f = i.part.height; e.resource !== e.event.data.resource && (h = l.top, f = l.height); var v = c(); v.style.position = "absolute", v.style.left = d + "px", v.style.top = h + "px", v.style.height = f + "px", v.style.width = u + "px", v.style.overflow = "hidden", v.className = A.K("_shadow"), v.info = e; var m = c(); m.className = A.K("_shadow_inner"), v.appendChild(m), A.Mk.appendChild(v), z.divs.push(v); }), z.invalid) {
                var e = A.K("_shadow_overlap");
                return void x(z.divs).forEach(function (t) { f(t, e); });
            } x(z.divs).forEach(function (e) { if (e.info) {
                var t = e, n = e.info, i = (e.info.event, e.info.$.ep), a = A.getPixels(n.start), r = A.getPixels(n.end), s = a.left, l = r.left - s, d = x(z.list).map(function (e) { return e.event.data; }).add(o.jo.data);
                A.gp(t, i, s, l, d), A.hp(t, n.start, n.end, n.resource), n.overlapping = !1, t.overlapping && (n.overlapping = !0, z.forbidden = !0);
            } }); }, z.draw = function () { z.$o(), z.fp(); }, z.clear = function () { C(z.divs), z.divs = []; }, this.Zo = function (e, t) { return t = ["$"].concat(t || []), e.map(function (e) { var n = e, i = {}; for (var a in n) {
                var r = t && D(t, a) !== -1;
                n.hasOwnProperty(a) && "undefined" != typeof n[a] && (r ? Object.defineProperty(i, a, { "value": n[a] }) : i[a] = n[a]);
            } return i; }); }, this.mp = function () { var e = A.coords, t = o.oo.dpBorder, n = o.oo.event, i = n.part.left; "right" == t && (i += n.part.width); var a, r, s = o.oo.event.calendar.cellWidth, l = o.oo.event.part.width, d = o.oo.event.part.left, c = 0, u = e.x - i, h = A.snapToGrid && A.snapToGridEventResizing; if ("right" === t) {
                if (a = d, h) {
                    var f = A.El(l + d + u).cell, v = A.El(d).cell, p = v.left + v.width - d;
                    r = f.left + f.width - d, r < p && (r = p);
                }
                else
                    r = l + u;
                var m = A._k();
                d + r > m && (r = m - d), o.Go.left = d, o.Go.width = r;
            }
            else {
                if ("left" !== t)
                    throw new DayPilot.Exception("Invalid dpBorder.");
                h ? (u >= l && (u = l), a = Math.floor((d + u + 0) / s) * s, a < c && (a = c)) : a = d + u, r = l - (a - d);
                var g = d + l, b = s;
                h ? "Never" === A.useEventBoxes && (b = l < s ? l : 1) : b = 1, r < b && (r = b, a = g - r), o.Go.left = a, o.Go.width = r;
            } !function () { o.Go.overlapping = !1; var e = o.oo.event, t = A.rowlist[e.part.dayIndex], n = a, i = r; A.gp(o.Go, t, n, i, e.data); var s = o.Go; if (s.start) {
                var l = { "start": s.start, "end": A.Si(s.end) };
                A.hp(o.Go, l.start, l.end, t.id);
            } }(), A.np(); }, this.Eo = function () { this.nav.scroll; if (A.coords && o.jo) {
                A.gl();
                var e = o.lp, t = this.pn(o.jo);
                if (!A.qn(t.rowIndex, t.grid)) {
                    var n = o.jo, i = n.cache && "undefined" != typeof n.cache.moveVDisabled ? !n.cache.moveVDisabled : !n.data.moveVDisabled, a = n.cache && "undefined" != typeof n.cache.moveHDisabled ? !n.cache.moveHDisabled : !n.data.moveHDisabled, r = !z.additional().isEmpty();
                    r && "Disabled" === A.multiMoveVerticalMode && (i = !1), i && t.grid !== e.grid && (e.parentNode.removeChild(e), A.Lk[t.grid].divShadow.appendChild(e), e.grid = t.grid);
                    var s = 0, l = 0;
                    if (function () { if (A.ak) {
                        var e = t.relativeY, n = A.El(t.left).x, i = t.row, a = i.evColumns[n], r = a.events.find(function (t) { return e < t.part.top + t.part.height + A.eventMarginBottom; });
                        r || (r = a.events.last()), r && (l = r.part.top, s = D(a.events, r), e - r.part.top > r.part.height / 2 && (l = r.part.top + r.part.height + A.eventMarginBottom / 2, s += 1));
                    }
                    else {
                        for (var e = t.relativeY, i = t.row, o = 0, d = A.oa.rn(), c = i.lines.length, u = 0; u < i.lines.length; u++) {
                            if (i.lines[u].td(t.left, A.cellWidth)) {
                                c = u;
                                break;
                            }
                        }
                        var h = Math.floor((e - o + d / 2) / d);
                        h = Math.min(c, h), h = p(0, h), s = h, l = A.rowMarginTop + s * (A.oa.rn() + A.eventMarginBottom) + A.eventMarginBottom / 2;
                    } }(), l > 0 && (l -= 3), i)
                        if (this.qn(t.rowIndex, t.grid)) {
                            var d = e.row, c = 1;
                            if (!d)
                                return;
                            c = t.rowIndex < d.index ? 1 : -1;
                            for (var u = t.rowIndex; u !== d.index; u += c) {
                                var h = this.rowlist[u];
                                if (!this.qn(u, t.grid) && !h.hidden) {
                                    e.row = h, e.style.top = e.row.top + e.row.marginTop + "px", e.style.height = p(e.row.height - e.row.marginTop - e.row.marginBottom, 0) + "px", A.eventMoveToPosition && (s = c > 0 ? 0 : h.lines.length - 1, e.style.top = t.top + l + "px", e.style.height = "3px", e.line = s);
                                    break;
                                }
                            }
                        }
                        else
                            e.row = t.row, e.style.top = e.row.top + e.row.marginTop + "px", e.style.height = p(e.row.height - e.row.marginTop - e.row.marginBottom, 0) + "px", A.eventMoveToPosition && (e.style.top = t.top + l + "px", e.style.height = "3px", e.line = s);
                    else {
                        for (var f = A.Lk[n.part.grid].rowlist, d = f[n.part.dayIndex], v = d.lines.length, u = 0; u < d.lines.length; u++) {
                            if (d.lines[u].td(t.left, A.cellWidth)) {
                                v = u;
                                break;
                            }
                        }
                        if (r || (e.style.height = p(d.height, 0) + "px", e.style.top = d.top + "px"), e.row = d, A.eventMoveToPosition && !r)
                            if (t.row === d)
                                e.style.top = d.top + l + "px", e.style.height = "3px", e.line = s;
                            else {
                                var m = t.rowIndex > d.index && v > 0 ? v * A.oa.rn() - 3 : 0;
                                e.style.top = d.top + m + "px", e.style.height = "3px", e.line = 0;
                            }
                    }
                    a ? (e.style.left = t.left + "px", A.eventMoveToPosition ? e.style.width = A.cellWidth + "px" : e.style.width = t.width + "px", e.start = t.start, e.end = t.end) : (e.style.left = n.part.left + "px", e.start = n.start(), e.end = n.rawend(), t.left = n.part.left), function () { e.overlapping = !1; var i = e.row, a = n.data, r = t.width, s = t.left, l = x(z.list).map(function (e) { return e.event.data; }).add(a); A.gp(e, i, s, r, l), A.hp(o.lp, e.start, e.end, e.row.id); }(), A.pp();
                }
            } }, this.pp = function () { var e = o.lp, t = A.jp, n = A.Na, i = o.jo; if (n) {
                var a = n.start.getTime() === e.start.getTime(), r = n.end.getTime() === e.end.getTime(), s = n.resource === e.row.id, l = n.shift + "_" + n.ctrl + "_" + n.meta + "_" + n.alt == A.coords.shift + "_" + A.coords.ctrl + "_" + A.coords.meta + "_" + A.coords.alt;
                if (a && r && s && l)
                    return;
            } n && (h(e, n.cssClass), e.firstChild.innerHTML = ""), t.clear(), t.$o(); var d = !!o.qp && i.part.external, c = {}; c.start = e.start, c.end = A.Si(e.end), c.duration = new DayPilot.Duration(c.start, c.end), c.e = i, c.external = d, c.control = A, c.resource = e.row.id, c.html = null, c.row = A.Im(e.row), c.position = e.line, c.overlapping = e.overlapping || t.forbidden, c.allowed = !0, c.left = {}, c.left.html = c.start.toString(A.eventMovingStartEndFormat, Z.sc()), c.left.enabled = A.eventMovingStartEndEnabled, c.left.space = 5, c.left.width = null, c.left.height = A.eventHeight, c.right = {}, c.right.html = c.end.toString(A.eventMovingStartEndFormat, Z.sc()), c.right.enabled = A.eventMovingStartEndEnabled, c.right.space = 5, c.right.width = null, c.right.height = A.eventHeight, c.multimove = t.Yo(), c.shift = A.coords.shift, c.ctrl = A.coords.ctrl, c.meta = A.coords.meta, c.alt = A.coords.alt, c.areaData = w.movingAreaData, c.link = null, c.cssClass = null, c.html = null; var u = {}; u.event = i, u.start = c.start, u.end = c.end, u.overlapping = c.overlapping, u.resource = c.resource, c.multimove.splice(0, 0, u), A.Na = c; var v = { "start": c.start, "end": c.end, "resource": c.resource }; if ("function" == typeof A.onEventMoving && A.onEventMoving(c), o.Il) {
                if (t.list = x(c.multimove, !0), t.list.splice(0, 1), t.fp(), e.allowed = c.allowed, f(e, c.cssClass), c.html && (e.firstChild.innerHTML = c.html), c.start !== v.start || c.end !== v.end) {
                    var m = c.start, g = A.vi(c.end);
                    e.start = m, e.end = g;
                    var b = DayPilot.DateUtil.diff(m, g);
                    b = p(b, 1);
                    var y = Z.hg(b), k = y ? A.getPixels(m).boxLeft : A.getPixels(m).left, C = y ? A.getPixels(g).boxRight : A.getPixels(g).left;
                    e.style.left = k + "px", e.style.width = C - k + "px";
                }
                if (c.resource !== v.resource) {
                    var D = A.Pk(c.resource);
                    if (D && (e.row = D, e.style.height = p(D.height, 0) + "px", e.style.top = D.top + "px", A.eventMoveToPosition)) {
                        var S = A.rowMarginTop;
                        e.style.top = D.top + S + "px", e.style.height = "3px", e.line = 0;
                    }
                }
                c.html ? e.firstChild.innerHTML = c.html : e.firstChild.innerHTML = "", A.rp(e, c), A.sp(e, c), w.movingLink && w.movingLink.clear(), c.link && (w.movingLink = B.In(c.link.from, e, c.link));
            } }, this.gp = function (e, t, n, i, a) { if (!A.allowEventOverlap) {
                !function () { e.overlapping = !1; for (var r = 0; r < t.lines.length; r++) {
                    if (!t.lines[r].td(n, i, a))
                        return void (e.overlapping = !0);
                } var o = t.index, s = x(G.list).some(function (t) { var a = t.div, r = parseInt(a.style.left), s = parseInt(a.style.width), l = t.start.y; return e !== a && (l === o && u(n, n + i, r, r + s)); }); if (s)
                    return void (e.overlapping = !0); if (x(z.divs).some(function (t) { var a = t.info, r = parseInt(t.style.left), s = parseInt(t.style.width), l = a.$.ep.index; return e !== t && (l === o && u(n, n + i, r, r + s)); }))
                    return void (e.overlapping = !0); var s = x(L.divs).some(function (t) { var a = t.info, r = parseInt(t.style.left), s = parseInt(t.style.width), l = a.$.ep.index; return e !== t && (l === o && u(n, n + i, r, r + s)); }); return s ? void (e.overlapping = !0) : void 0; }();
                var r = e.overlapping, o = A.K("_shadow_overlap");
                r ? f(e, o) : h(e, o);
            } }, this.hp = function (e, t, n, i) { A.uc(t, n, i) && (e.overlapping = !0); var a = A.K("_shadow_overlap"); e.overlapping ? f(e, a) : h(e, a); }, this.uc = function (e, t, n) { if (!(A.cellConfig && A.cellConfig.hasDisabled || A.yl.tp))
                return !1; var i = null; "Days" === A.viewType && (i = A.go(e)); var a = A.rows.find(n, i).cells.forRange(e, t); return !!a && a.some(function (e) { return e.properties.disabled; }); }, this.rp = function (e, t) { var n = A.K("_shadow_forbidden"); !t.allowed || z.invalid ? f(e, n) : h(e, n); }, this.sp = function (e, t) { if (this.up(), e.calendar === A) {
                var n = A.nn(e.grid), i = {};
                i.left = parseInt(e.style.left), i.top = parseInt(e.style.top), i.right = i.left + parseInt(e.style.width);
                var a = t.left.width || 10, r = c();
                if (r.style.position = "absolute", r.style.left = i.left - a - t.left.space + "px", r.style.top = i.top + "px", r.style.height = t.left.height + "px", r.style.overflow = "hidden", r.style.boxSizing = "border-box", r.innerHTML = t.left.html, r.className = A.K("_event_move_left"), r.onmousemove = A.vp, DayPilot.browser.ie && (r.style.display = "block"), t.left.enabled)
                    if (n.divHover.appendChild(r), t.left.width)
                        r.style.width = a + "px";
                    else {
                        r.style.whiteSpace = "nowrap";
                        var o = r.offsetWidth, s = i.left - o - t.left.space;
                        r.style.width = o + "px", r.style.left = s + "px";
                        var l = A.nav.scroll.scrollLeft;
                        s < l && n.divHover.removeChild(r);
                        var d = A.cl() + (s - l);
                        d > 0 && (r.style.left = d + "px", r.style.top = i.top - n.div.scrollTop + n.top + "px", A.nav.top.appendChild(r), A.elements.hover.push(r));
                    }
                var a = t.right.width || 10, u = c();
                if (u.style.position = "absolute", u.style.left = i.right + t.right.space + "px", u.style.top = i.top + "px", u.style.height = t.right.height + "px", u.style.overflow = "hidden", u.style.boxSizing = "border-box", t.right.width ? u.style.width = t.right.width + "px" : u.style.whiteSpace = "nowrap", u.innerHTML = t.right.html, u.className = this.K("_event_move_right"), u.onmousemove = A.vp, DayPilot.browser.ie && (u.style.display = "block"), t.right.enabled) {
                    n.divHover.appendChild(u);
                    var h = A.nav.scroll.scrollWidth;
                    i.right + t.right.space + u.offsetWidth >= h && n.divHover.removeChild(u);
                }
            } }, this.up = function () { A.divHover.innerHTML = "", A.Lk.top.divHover.innerHTML = "", A.Lk.bottom.divHover.innerHTML = "", C(A.elements.hover), A.elements.hover = []; }, this.wp = function () { var e = A.rowHeaderColumnDefaultWidth; if (this.rowHeaderColumns) {
                var t = Z.Ro();
                this.rowHeaderCols = DayPilot.Util.propArray(t, "width", e);
            }
            else
                this.rowHeaderCols = null; }, this.xp = function () { var e = 0; if (this.wp(), this.rowHeaderCols)
                for (var t = 0; t < this.rowHeaderCols.length; t++)
                    e += this.rowHeaderCols[t];
            else
                e = this.rowHeaderWidth; return e; }, this.yp = function () { return this.zp(A.progressiveRowRenderingPreload); }, this.zp = function (e) { var e = e || 0, t = 0, n = A.rowlist.length; if (A.progressiveRowRendering) {
                var i = A.fa();
                t = i.yStart, function () { var e = A.rowlist[t], n = e && e.split && e.split.parent; n && (t = n.index); }(), n = i.yEnd + 1, t = p(0, t - e), n = Math.min(A.rowlist.length, n + e);
            } return { "start": t, "end": n }; }, this.Ap = function () { function e(e, t, n) { for (var i = t; i < n; i++) {
                var r = e.rows[i];
                r && A.Bp(r, a);
            } } if (this.Cf()) {
                var t = !1, n = 0;
                if (this.rowHeaderWidthAutoFit) {
                    var i = this.divHeader;
                    if (!i)
                        return;
                    if (!i.rows)
                        return;
                    var a = [];
                    A.rowHeaderWidthAutoFitShrink && (A.rowHeaderWidth = 0, A.rowHeaderCols && A.rowHeaderCols.forEach(function (e, t) { A.rowHeaderCols[t] = 0; }));
                    var r = A.yp();
                    if (e(i, r.start, r.end), A.Lk.top.enabled() && e(A.Lk.top.divHeader, 0, A.Lk.top.divHeader.rows.length), A.Lk.bottom.enabled() && e(A.Lk.bottom.divHeader, 0, A.Lk.bottom.divHeader.rows.length), this.wp(), this.rowHeaderCols)
                        for (var o = 0; o < a.length; o++)
                            this.rowHeaderCols[o] && (a[o] > this.rowHeaderCols[o] && (this.rowHeaderCols[o] = a[o], t = !0), n += this.rowHeaderCols[o]);
                    else {
                        n = this.rowHeaderWidth;
                        var s = Z.dl();
                        this.rowHeaderWidth < a[0] + A.rowHeaderWidthMarginRight + s && (n = a[0] + A.rowHeaderWidthMarginRight + s, t = !0);
                    }
                }
                t && (this.kn && (this.kn.widths = this.rowHeaderCols, this.kn.updateWidths(), DayPilot.Util.updatePropsFromArray(Z.Ro(), "width", this.rowHeaderCols)), this.rowHeaderCols || (this.rowHeaderWidth = n), this.$l(), this.Cp());
            } }, this.Bp = function (e, t) { if (!e.hidden) {
                for (var n = 0; n < e.cells.length; n++)
                    if (e.cells[n] && "number" != typeof e.cells[n].Dp) {
                        var i = e.cells[n].firstChild.firstChild;
                        if (i && i.style) {
                            var a = i.style.width, r = i.style.right, o = i.style.display;
                            i.style.position = "absolute", i.style.width = "auto", i.style.right = "auto", i.style.whiteSpace = "nowrap", i.style.display = "block";
                            var s = i.offsetWidth + 2;
                            e.cells[n].Dp = s, i.style.position = "", i.style.width = a, i.style.right = r, i.style.display = o, i.style.whiteSpace = "";
                        }
                    }
                for (var n = 0; n < e.cells.length; n++)
                    if (e.cells[n]) {
                        var s = e.cells[n].Dp;
                        "undefined" == typeof t[n] && (t[n] = 0), t[n] = Math.max(t[n], s);
                    }
            } }, this.qk = function () { this.Ep = !0, this.wp(); var e = this.xp(), t = this.divHeader; if (t.style.width = e + "px", t.style.height = A.ek + "px", A.Lk.main.divHeader = t, A.progressiveRowRendering)
                s();
            else
                for (var n = this.rowlist.length, i = 0; i < n; i++)
                    A.Fp(i); if (A.Lk.top.enabled())
                for (var i = 0; i < A.Lk.top.rowlist.length; i++)
                    A.Fp(i, "top"); if (A.Lk.bottom.enabled())
                for (var i = 0; i < A.Lk.bottom.rowlist.length; i++)
                    A.Fp(i, "bottom"); A.Gp(), this.divResScroll.appendChild(t), this.rowHeaderWidthAutoFit && this.Ap(); }, this.pk = function () { function e(e) { var t = A.nn(e), n = t.divHeader, i = n; if (n.Hp && (i = n.Hp), A.en(e), i) {
                if (DayPilot.browser.ie)
                    for (var a = 0; a < i.childNodes.length; a++)
                        C(i.childNodes[a]);
                i.innerHTML = "", DayPilot.puc(i);
            } n && (n.rows = []); } e("main"), e("top"), e("bottom"); }, this._l = function () { if (A.progressiveRowRendering) {
                for (var e = this.yp(), t = 0; t < A.rowlist.length; t++)
                    e.start <= t && t < e.end ? A.Fp(t) : A.on(t);
                if (this.rowHeaderWidthAutoFit && !o.Ip) {
                    var n = A.cl();
                    this.Ap();
                    if (A.cl() !== n) {
                        var i = this.cellWidth;
                        this.lk();
                        this.cellWidth !== i && (A.mk(), A.rk(), A.sk(), A.db(), A.Xa(), A.Jp());
                    }
                }
            } }, this.Gp = function () { if (!A.oa.Kp()) {
                var e = A.divHeader, t = c();
                t.style.position = "absolute", e.appendChild(t), A.nav.resScrollSpace = t, t.setAttribute("unselectable", "on");
                var n = c();
                n.style.position = "relative", n.style.height = "100%", n.className = this.K("_rowheader"), t.appendChild(n);
                var i = this.xp(), t = A.nav.resScrollSpace;
                t.style.width = i + "px", t.style.top = this.ek + "px";
            } }, this.on = function (e, t) { var n = A.nn(t), i = n.divHeader.rows[e]; if (i) {
                if (i) {
                    var a = i.domArgs;
                    if (i.domArgs = null, a && "function" == typeof A.onBeforeRowHeaderDomRemove && A.onBeforeRowHeaderDomRemove(a), a && "function" == typeof A.onBeforeRowHeaderDomAdd && A.F.reactDOM) {
                        var r = a && a.Wd;
                        if (r) {
                            if (b(a.element)) {
                                if (!A.F.reactDOM)
                                    throw new DayPilot.Exception("Can't reach ReactDOM");
                                A.F.N(r);
                            }
                        }
                    }
                    a && (a.element = null, a.Wd = null);
                }
                C(i.cells), n.divHeader.rows[e] = null;
            } }, this.rm = function (e, t) { this.on(e, t), this.Fp(e, t); }, this.pm = function () { return "Standard" === A.rowHeaderColumnsMode || "Tabular" === A.rowHeaderColumnsMode; }, this.Lp = function (e, t) { var n = void 0; return e.tags && (n = e.tags[t]), "undefined" != typeof n ? n : e[t]; }, this.Fp = function (e, t) { function n() { var t = c(); if (A.treeEnabled && !l.isNewRow) {
                var n = l.level * A.treeIndent + A.treeImageMarginLeft;
                j && (n += W);
                var i = A.treeImageWidth, a = A.treeImageHeight;
                t.style.marginLeft = n + "px", t.style.position = "relative", t.className = A.K("_rowheader_inner_indent");
                var r = c();
                r.style.width = i + "px", r.style.height = a + "px", r.style.backgroundRepeat = "no-repeat", r.style.position = "absolute", r.style.top = A.treeImageMarginTop + "px", l.loaded || 0 !== l.children.length ? l.children.length > 0 ? (l.expanded ? r.className = A.K("_tree_image_collapse") : r.className = A.K("_tree_image_expand"), r.style.cursor = "pointer", r.index = e, r.onclick = function (e) { A.Do(this.index), e.cancelBubble = !0; }) : r.className = A.K("_tree_image_no_children") : (r.className = A.K("_tree_image_expand"), r.style.cursor = "pointer", r.index = e, r.onclick = function (e) { A.Vp(this.index), e.cancelBubble = !0; }), t.appendChild(r);
            } var o = c(); if (A.treeEnabled) {
                var s = A.treeImageMarginRight;
                o.style.marginLeft = i + s + "px";
            } o.innerHTML = A.ma(C.text, C.html), o.className = A.K("_rowheader_inner_text"), w.textDiv = o, w.cellDiv = P, t.appendChild(o), O.appendChild(t); var d = C.verticalAlignment || k.verticalAlignment; if (d)
                switch (O.style.display = "flex", d) {
                    case "center":
                        O.style.alignItems = "center";
                        break;
                    case "top":
                        O.style.alignItems = "flex-start";
                        break;
                    case "bottom": O.style.alignItems = "flex-end";
                } } var i = A.nn(t), a = i.rowlist, r = i.divHeader, o = r; if (r.Hp && (o = r.Hp), r && !r.rows[e]) {
                var s = this.rowHeaderCols, l = a[e];
                if (l && !l.hidden) {
                    var d = U.V[e], u = l.height, h = l.cells && l.cells[0];
                    h && h.rowspan > 1 && (u = h.row.split.totalHeight());
                    var v = null;
                    l.split && l.split.parent && l.split.Mp() && (v = A.So(l.split.parent));
                    var p = this.So(l), m = s && p.row.columns && p.row.columns.length > 0, g = m ? this.rowHeaderCols.length : 0, y = this.xp();
                    r.rows[e] = {}, r.rows[e].cells = [];
                    var w = c();
                    w.style.position = "absolute", w.style.top = l.top + "px", w.row = v ? l.split.parent : l, w.index = e;
                    var k = p.row, C = v ? v.row : k, D = A.pm(), _ = l.children.length > 0, E = A.internalUseStandardColumns && !l.isNewRow, T = DayPilot.isArray(A.rowHeaderColumns), H = E || D && T, M = x(p.row.columns);
                    v && T && p.row.columns.length === A.rowHeaderColumns.length && A.rowHeaderColumns.forEach(function (e, t) { e.split || (M[t] = v.row.columns[t]); }), H && (M = M.filter(function (e, t) { return !A.rowHeaderColumns[t].hidden; }), g = M.length);
                    var R = !(A.rowHeaderColumnsMergeParents && _);
                    if (H && R) {
                        C = M[0] || p.row;
                        A.rowHeaderColumns.find(function (e) { return !e.hidden; }).split && (w.row = l);
                    }
                    A.M() && (C = p.row);
                    var B = m ? s[0] : y;
                    w.style.width = B + "px", w.style.border = "0px none";
                    var N = C.toolTip || k.toolTip;
                    N && (w.title = N), w.setAttribute("unselectable", "on"), "undefined" != typeof k.ariaLabel ? w.setAttribute("aria-label", k.ariaLabel) : w.setAttribute("aria-label", C.text || ""), w.onmouseenter = A.Np, w.onmouseleave = A.Op, w.onmousemove = A.Pp, w.onmouseout = A.Qp, w.onmouseup = A.Rp, w.oncontextmenu = A.Sp, w.onclick = A.Tp, w.ondblclick = A.Up;
                    var P = c();
                    P.style.width = B + "px", P.setAttribute("unselectable", "on"), P.className = this.K("_rowheader"), d && f(P, A.K("_rowheader_selected")), k.cssClass && f(P, k.cssClass), C.cssClass && f(P, C.cssClass);
                    var I = C.backColor || k.backColor;
                    I && (P.style.background = I);
                    var L = C.fontColor || k.fontColor;
                    L && (P.style.color = L);
                    var z = C.horizontalAlignment || k.horizontalAlignment;
                    A.treeEnabled && (z = null), z && (P.style.textAlign = z), P.style.height = u + "px", P.style.overflow = "hidden", P.style.position = "relative";
                    var O = c();
                    switch (O.setAttribute("unselectable", "on"), O.className = this.K("_rowheader_inner"), z) {
                        case "right":
                            O.style.justifyContent = "flex-end";
                            break;
                        case "left":
                            O.style.justifyContent = "flex-start";
                            break;
                        case "center": O.style.justifyContent = "center";
                    }
                    P.appendChild(O);
                    var j = "Disabled" !== this.rowMoveHandling && "main" === l.grid, W = A.rowDragHandleWidth, F = C.areas || [];
                    j && !k.moveDisabled && F.push({ "v": "Hover", "w": W, "bottom": 0, "top": 0, "left": 0, "css": A.K("_rowmove_handle"), "action": "Move" });
                    var q = A.Im(l);
                    DayPilot.Areas.attach(P, q, { "areas": F, "allowed": function () { return !S.row; } });
                    var K = c();
                    K.style.position = "absolute", K.style.bottom = "0px", K.style.width = "100%", K.style.height = "0px", K.style.boxSizing = "content-box", K.style.borderBottom = "1px solid transparent", K.className = this.K(V.resourcedivider), P.appendChild(K), n(), w.appendChild(P), function () { if ("function" == typeof A.onBeforeRowHeaderDomAdd || "function" == typeof A.onBeforeRowHeaderDomRemove) {
                        var t = {};
                        if (t.control = A, t.row = A.Im(l), t.element = null, t.target = "Cell", r.rows[e].domArgs = t, "function" == typeof A.onBeforeRowHeaderDomAdd && A.onBeforeRowHeaderDomAdd(t), t.element) {
                            var n = null;
                            switch (t.target && t.target.toLowerCase()) {
                                case "text":
                                    n = ee;
                                    break;
                                case "cell": n = O;
                            }
                            if (n) {
                                t.Wd = n, n.innerHTML = "";
                                if (b(t.element)) {
                                    if (!A.F.reactDOM)
                                        throw new DayPilot.Exception("Can't reach ReactDOM");
                                    A.F.E(t.element, n);
                                }
                                else
                                    n.appendChild(t.element);
                            }
                        }
                    } }();
                    h && h.refCell || (o.appendChild(w), r.rows[e].cells[0] = w);
                    var Y = !l.isNewRow && A.rowHeaderColumnsMergeParents && p.row.children().length > 0;
                    if (!p.row.columns || 0 === p.row.columns.length || Y)
                        w.colSpan = "max", P.style.width = y + "px";
                    else
                        for (var J = B, G = E || D ? 0 : 1, X = 1; X < g; X++) {
                            var C = M[X - G] || {}, h = l.cells[X - G], u = l.height;
                            h.rowspan > 1 && (u = h.row.split.totalHeight());
                            var w = c();
                            w.style.position = "absolute", w.style.top = l.top + "px", w.style.left = J + "px", h.refCell || (o.appendChild(w), r.rows[e].cells[X] = w), w.row = l, w.index = e;
                            var Z = C.toolTip || k.toolTip;
                            Z && (w.title = Z), w.setAttribute("unselectable", "on"), w.onmousemove = A.Pp, w.onmouseout = A.Qp, w.onmouseup = A.Rp, w.oncontextmenu = A.Sp, w.onclick = A.Tp, w.ondblclick = A.Up;
                            var P = c(), Q = s[X];
                            J += Q;
                            var I = C.backColor || k.backColor;
                            I && (P.style.backgroundColor = I);
                            var L = C.fontColor || k.fontColor;
                            L && (P.style.color = L), P.style.width = Q + "px", P.style.height = u + "px", P.style.overflow = "hidden", P.style.position = "relative", P.setAttribute("unselectable", "on"), f(P, this.K("_rowheader")), f(P, this.K("_rowheadercol")), f(P, this.K("_rowheadercol" + X)), d && f(P, A.K("_rowheader_selected")), k.cssClass && f(P, k.cssClass), C.cssClass && f(P, C.cssClass);
                            var $ = C.horizontalAlignment || k.horizontalAlignment;
                            $ && (P.style.textAlign = $);
                            var O = c();
                            switch (O.setAttribute("unselectable", "on"), O.className = this.K("_rowheader_inner"), $) {
                                case "right":
                                    O.style.justifyContent = "flex-end";
                                    break;
                                case "left":
                                    O.style.justifyContent = "flex-start";
                                    break;
                                case "center": O.style.justifyContent = "center";
                            }
                            P.appendChild(O);
                            var K = c();
                            K.style.position = "absolute", K.style.bottom = "0px", K.style.width = "100%", K.style.height = "0px", K.style.boxSizing = "content-box", K.style.borderBottom = "1px solid transparent", K.className = this.K("_resourcedivider"), P.appendChild(K);
                            var ee = c(), te = A.ma(C.text, C.html);
                            ee.innerHTML = te, w.textDiv = ee, w.cellDiv = P, O.appendChild(ee), DayPilot.Areas.attach(P, q, { "areas": C.areas, "allowed": function () { return !S.row; } }), w.appendChild(P);
                        }
                }
            } }, this.Sp = function (e) { if ("Disabled" === A.rowRightClickHandling)
                return !1; var t = this.row, n = A.Im(t), i = {}; if (i.ctrl = e.ctrlKey, i.shift = e.shiftKey, i.meta = e.metaKey, i.originalEvent = e, i.row = n, i.preventDefault = function () { this.preventDefault.value = !0; }, "function" != typeof A.onRowRightClick || (A.onRowRightClick(i), !i.preventDefault.value)) {
                switch (A.rowRightClickHandling) {
                    case "ContextMenu": t.contextMenu && t.contextMenu.show(n);
                }
                return "function" == typeof A.onRowRightClicked && A.onRowRightClicked(i), !1;
            } }, this.Tp = function (e) { if (!j.cancelClick) {
                var t = this.row, n = A.Im(t, this.index);
                return t.isNewRow ? void A.Pm.Om(t) : void A.Lm(n, e);
            } }, this.Up = function (e) { if (A.Jl.resClick) {
                for (var t in A.Jl.resClick)
                    window.clearTimeout(A.Jl.resClick[t]);
                A.Jl.resClick = null;
            } var n = this.row, i = A.Im(n, this.index); if (A.nb()) {
                var a = {};
                if (a.resource = i, a.row = i, a.ctrl = e.ctrlKey, a.shift = e.shiftKey, a.meta = e.metaKey, a.originalEvent = e, a.preventDefault = function () { this.preventDefault.value = !0; }, "function" == typeof A.onRowDoubleClick && (A.onRowDoubleClick(a), a.preventDefault.value))
                    return;
                switch (A.rowDoubleClickHandling) {
                    case "PostBack":
                        A.rowDoubleClickPostBack(i);
                        break;
                    case "CallBack":
                        A.rowDoubleClickCallBack(i);
                        break;
                    case "Select":
                        A.Nm(n, e.ctrlKey, e.shiftKey, e.metaKey);
                        break;
                    case "Edit": A.Pm.Om(n);
                }
                "function" == typeof A.onRowDoubleClicked && A.onRowDoubleClicked(a);
            }
            else
                switch (A.rowDoubleClickHandling) {
                    case "PostBack":
                        A.rowDoubleClickPostBack(i);
                        break;
                    case "CallBack":
                        A.rowDoubleClickCallBack(i);
                        break;
                    case "JavaScript":
                        A.onRowDoubleClick(i);
                        break;
                    case "Select":
                        A.Nm(n, e.ctrlKey, e.shiftKey, e.metaKey);
                        break;
                    case "Edit": A.Pm.Om(n);
                } }, this.rowDoubleClickPostBack = function (e, t) { var n = {}; n.resource = e, this.pa("RowDoubleClick", n, t); }, this.rowDoubleClickCallBack = function (e, t) { var n = {}; n.resource = e, this.ra("RowDoubleClick", n, t); }, this.Wp = function (e) { if ("Disabled" !== A.timeHeaderClickHandling) {
                var t = {};
                t.start = this.cell.start, t.level = this.cell.level, t.end = this.cell.end, t.end || (t.end = new DayPilot.Date(t.start).addMinutes(A.cellDuration)), A.Qm(t);
            } }, this.Xp = function (t) { if ("Disabled" !== A.timeHeaderRightClickHandling) {
                t.cancelBubble = !0, t.preventDefault();
                var n = {};
                if (n.start = this.cell.start, n.level = this.cell.level, n.end = this.cell.end, n.end || (n.end = new DayPilot.Date(n.start).addMinutes(A.cellDuration)), A.nb()) {
                    var i = {};
                    if (i.header = n, i.preventDefault = function () { this.preventDefault.value = !0; }, "function" == typeof A.onTimeHeaderRightClick && (A.onTimeHeaderRightClick(i), i.preventDefault.value))
                        return;
                    switch (this.timeHeaderRightClickHandling) {
                        case "PostBack":
                            A.timeHeaderRightClickPostBack(e);
                            break;
                        case "CallBack": A.timeHeaderRightClickCallBack(e);
                    }
                    "function" == typeof A.onTimeHeaderRightClicked && A.onTimeHeaderRightClicked(i);
                }
            } }, this.Yp = function (e) { var t = A.rowlist[e]; if (t.hidden)
                return 0; var n = t.height; return "number" == typeof t.forcedHeight && (n = t.forcedHeight), n; }, this.Zp = function (e, t, n) { A.divHeader, A.elements.cells, A.V.cells; e.forEach(function (e) { }); }, this.$p = function (e, t, n) { function i(e) { var n = A.Yp(e), i = t; "hide" === t ? i = 0 : "show" === t && (i = A.rowlist[e].height); var a = i - n; o.push({ "i": e, "now": n, "dist": a }); } function a(e) { s || (s = e); var t = e - s, i = Math.min(1, t / r); 0 === i && (i = .1), o.forEach(function (e) { var t = e.now + e.dist * i; A.rowlist[e.i].forcedHeight = t; }), A._p(), i < 1 ? window.requestAnimationFrame(a) : (l.style.overflowX = d, l.style.overflowY = c, "function" == typeof n && n()); } var r = 200, o = []; if ("number" == typeof e)
                i(e);
            else {
                if (!DayPilot.isArray(e))
                    throw new DayPilot.Exception("Unexpected param (must be number/array).");
                e.forEach(function (e) { i(e); });
            } var s = 0, l = A.nav.scroll, d = l.style.overflowX, c = l.style.overflowY; 0 === DayPilot.sw(l) && (l.style.overflowY = "hidden"), window.requestAnimationFrame(a); }, this.Im = function (e) { return new DayPilot.Row(e, A); }, this.wl = function (e, t) { t = t || "main"; var n = A.Lk[t], i = n.rowlist, a = i[e]; if (a.events || a.aq(), !a.data) {
                a.data = {}, a.data.start = new DayPilot.Date(a.start), a.data.startTicks = a.data.start.getTime();
                var r = this.ud().getTime() - this.wb().getTime();
                a.data.end = Z.bq() ? a.data.start.addTime(r) : a.data.start.addDays(1), a.data.endTicks = a.data.end.getTime(), a.data.offset = a.start.getTime() - this.wb().getTime(), a.data.i = e, a.data.grid = t;
            } }, this.cq = {}, this.Xa = function (e) {
                if (e ? this.events.list = e : this.events.list || (this.events.list = []), null != this.events.list && !DayPilot.isArray(this.events.list))
                    throw new DayPilot.Exception("DayPilot.Scheduler.events.list expects an array object");
                O.oi(!0);
                var t, n = this.events.list, i = "function" == typeof this.onBeforeEventRender, a = "Resources" === A.viewType;
                A.cq = {};
                for (var r = 0; r < n.length; r++) {
                    var o = n[r];
                    if (o) {
                        if ("object" != typeof o)
                            throw new DayPilot.Exception("Event data item must be an object");
                        if (!o.start)
                            throw new DayPilot.Exception("Event data item must specify 'start' property");
                        if (o instanceof DayPilot.Event)
                            throw new DayPilot.Exception("DayPilot.Scheduler: DayPilot.Event object detected in events.list array. Use raw event data instead.");
                        var s = "string" == typeof o.id || "number" == typeof o.id, l = "string" == typeof o.recurrentMasterId || "number" == typeof o.recurrentMasterId;
                        if (!s) {
                            var l = "string" == typeof o.recurrentMasterId || "number" == typeof o.recurrentMasterId;
                            if (!l)
                                throw new DayPilot.Exception("All events must have an id property (string or number)");
                        }
                        if (!A.temp.allowDuplicateEventIds) {
                            var d = "_" + o.id;
                            if (!s && l && (d = "#" + o.recurrentMasterId + "#" + new DayPilot.Date(o.start)), A.cq[d])
                                throw new DayPilot.Exception("Duplicate event IDs are not allowed: " + d);
                            A.cq[d] = !0;
                        }
                        "Milestone" === o.type && (o.end = o.start),
                            i && this.Pf(r), "*" === o.resource ? t = A.rowlist : a ? t = A.dq(o.resource).concat(A.dq("*")) : "Days" === A.viewType ? t = A.rowlist : "Gantt" === A.viewType && (t = A.dq(o.id));
                        for (var c = 0; t && c < t.length; c++) {
                            var u = t[c], h = this.Vn(o, u);
                            h && i && (h.cache = this.V.events[r]);
                        }
                    }
                }
                A.vl().forEach(function (e) { A.$n(e); }), A.Sl();
            }, this.eq = {};
            var O = this.eq;
            O.fq = {}, O.oi = function (e) { O.fq = {}; for (var t = A.vl(), n = 0; n < t.length; n++) {
                var i = t[n];
                if (e && i.aq(), A.wl(i.index, i.grid), i.id) {
                    var a = typeof i.id + "_" + i.id;
                    O.fq[a] || (O.fq[a] = x()), O.fq[a].push(i);
                }
            } }, O.loadEvent = function (e) { }, this.dq = function (e) { var t = typeof e + "_" + e; return x(O.fq[t]); }, this.Un = function () { var e = {}; if ("Resources" !== A.viewType)
                return !1; for (var t = 0; t < A.rowlist.length; t++) {
                var n = A.rowlist[t], i = n.id;
                if (e[i])
                    return !0;
                e[i] = !0;
            } return !1; }, this.Pf = function (e) { var t = this.V.events, n = this.events.list[e], i = {}; n instanceof DayPilot.Event && (n = n.data); for (var a in n)
                i[a] = n[a]; if ("string" == typeof i.start && (i.start = new DayPilot.Date(i.start)), "string" == typeof i.end && (i.end = new DayPilot.Date(i.end)), "function" == typeof this.onBeforeEventRender) {
                var r = {};
                r.e = i, r.data = i, this.onBeforeEventRender(r);
            } t[e] = i; }, this.gq = function (e) { var t = e.data.container, n = typeof t; return "string" !== n && "number" !== n ? null : typeof t + "_" + t; }, this.$n = function (e) { if (e.lines = [], e.sections = null, !e.isNewRow) {
                this.sortDirections ? e.events.sort(this.jg) : A.ak || e.events.sort(this.ig), e.containerCache = {}, e.containers = [], e.events.forEach(function (t) { var n = A.gq(t); if (n) {
                    var i = e.containerCache[n];
                    i || (i = { "events": [], "line": null, "start": null, "end": null, "left": null, "width": null }, e.containerCache[n] = i, e.containers.push(i)), t.part.container = i, i.events.push(t);
                } }), e.containers.forEach(function (e) { var t = e.events[0], n = e.events[e.events.length - 1]; e.start = t.part.start, e.end = n.part.end, e.left = t.part.left, e.width = n.part.right - t.part.left, e.right = n.part.right; });
                if (A.ak)
                    return void K.$n(e);
                var t = A.groupConcurrentEvents;
                if (t)
                    for (var n = 0; n < e.blocks.length; n++)
                        e.blocks[n].clear();
                x(e.events).forEach(function (t) { if (!t.part.height)
                    return e.eventHeight ? void (t.part.height = e.eventHeight) : void (t.part.height = Z.rn()); });
                var i = function (e) { return "number" == typeof e.data.line; };
                e.events.filter(i).forEach(function (t) { e.sd(t); });
                for (var a = 0; a < e.events.length; a++) {
                    var r = e.events[a];
                    e.sd(r), t && e.qd(r);
                }
                for (var o = 0, n = 0; n < e.lines.length; n++) {
                    var s = e.lines[n];
                    s.top = o, o += (s.height || e.eventHeight) * e.eventStackingLineHeight / 100;
                }
                if (t)
                    for (var a = 0; a < e.blocks.length; a++) {
                        var l = e.blocks[a];
                        l.lines = [], l.events.sort(this.jg);
                        for (var d = 0; d < l.events.length; d++) {
                            var r = l.events[d];
                            l.sd(r);
                        }
                        l.lines.length <= A.groupConcurrentEventsLimit && (l.expanded = !0);
                        var c = x(l.events).map(function (e) { return e.id(); }).some(function (e) { return k(A.hq, e); });
                        c && (l.expanded = !0);
                        for (var o = 0, n = 0; n < l.lines.length; n++) {
                            var s = l.lines[n];
                            s.top = o, o += (s.height || e.eventHeight) * e.eventStackingLineHeight / 100;
                        }
                    }
            } }, this.Rl = function (e) { e = DayPilot.ua(e), e = A.sm(e), e.forEach(function (e) { A.$n(e); }), A.ak ? K.iq() : e.forEach(function (e) { A.Qo(e); }); }, this.ko = function () { var e = "Manual" === A.scale ? A.itline[0].start : A.startDate; return x(A.rowlist).some(function (t) { return !!t.start && t.start.getTime() !== new DayPilot.Date(e).getTime(); }); }, this.Vn = function (e, t) { if (!t.hideEvents) {
                var n = DayPilot.Util.isNullOrUndefined, i = new DayPilot.Date(e.start), a = new DayPilot.Date(e.end);
                a = A.vi(a);
                var r = i.ticks, o = a.ticks;
                if (o < r)
                    return null;
                var s = null;
                if ("function" == typeof A.onBeforeEventRender) {
                    var l = D(A.events.list, e);
                    s = A.V.events[l];
                }
                if (s) {
                    if (s.hidden)
                        return null;
                }
                else if (e.hidden)
                    return null;
                var d = !1;
                switch (this.viewType) {
                    case "Days":
                        var c = !(o <= t.data.startTicks || r >= t.data.endTicks) || r === o && r === t.data.startTicks, u = n(t.id) && n(e.resource) || t.id === e.resource;
                        d = c && u;
                        break;
                    case "Resources":
                        d = (t.id === e.resource || "*" === t.id || "*" === e.resource) && (!(o <= t.data.startTicks || r >= t.data.endTicks) || r === o && r === t.data.startTicks);
                        break;
                    case "Gantt": d = t.id === e.id && !(o <= t.data.startTicks || r >= t.data.endTicks);
                }
                if (!d)
                    return null;
                var h = new DayPilot.Event(e, A);
                h.part.dayIndex = t.data.i, h.part.grid = t.data.grid, h.part.start = t.data.startTicks < r ? i : t.data.start, h.part.end = t.data.endTicks > o ? a : t.data.end;
                var f = this.getPixels(h.part.start.addTime(-t.data.offset)), v = this.getPixels(h.part.end.addTime(-t.data.offset));
                h.part.start === h.part.end && (v = this.getPixels(h.part.end.addTime(-t.data.offset).addMilliseconds(1))), s && s.height ? h.part.height = s.height : e.height && (h.part.height = e.height);
                s || h.data;
                h.part.jq = function () { var e = this.height; if (A.eventVersionsEnabled && !x(h.versions).isEmpty()) {
                    var t = h.versions.length;
                    e += t * A.eventVersionHeight, e += t * A.eventVersionMargin;
                } return e + A.eventMarginBottom; };
                var m = f.left, g = v.left;
                if (h.part.startPixels = f, h.part.endPixels = v, m === g) {
                    if (f.cut || v.cut)
                        return null;
                    var b = (h.part.start.addTime(-t.data.offset).getTime() + h.part.end.addTime(-t.data.offset).getTime()) / 2;
                    if (A.getPixels(new DayPilot.Date(Math.floor(b))).cut)
                        return null;
                }
                h.part.box = Z.hg(o - r);
                var y = A.eventHeight;
                if ("Milestone" === e.type) {
                    var w = e.width || y;
                    h.part.end = h.part.start, h.part.left = m - w / 2, h.part.width = w, h.part.barLeft = 0, h.part.barWidth = w;
                }
                else if (h.part.box) {
                    var k = f.boxLeft, C = v.boxRight;
                    h.part.left = k, h.part.width = C - k, h.part.barLeft = p(m - h.part.left, 0), h.part.barWidth = p(g - m, 1);
                }
                else
                    h.part.left = m, h.part.width = p(g - m, 1), h.part.barLeft = 0, h.part.barWidth = p(g - m - 1, 1);
                var S = A.eventMinWidth;
                if (h.part.width = Math.max(h.part.width, S), h.part.right = h.part.left + h.part.width, h.cache = s, A.eventVersionsEnabled && A.kq(h, t), "function" == typeof A.onEventFilter && A.events.gg) {
                    var _ = {};
                    if (_.filter = A.events.gg, _.filterParam = A.events.gg, _.visible = !0, _.e = h, A.onEventFilter(_), !_.visible)
                        return null;
                }
                return t.events.push(h), h;
            } }, this.kq = function (e, t) { e.versions = []; var n = e.cache || e.data, i = x(n.versions); if (!i.isEmpty()) {
                var a = e.part.left, r = e.part.left + e.part.width;
                i.forEach(function (n) { var i = new DayPilot.Date(n.start), o = new DayPilot.Date(n.end), s = A.getPixels(i.addTime(-t.data.offset)), l = A.getPixels(o.addTime(-t.data.offset)); i.ticks === o.ticks && (l = A.getPixels(o.addTime(-t.data.offset).addTime(1))); var d = s.left, c = l.left; if (d === c && (s.cut || l.cut))
                    return null; var u = {}; u.left = d, u.continueLeft = i < t.data.start, u.right = c, u.continueRight = o > t.data.end, u.width = c - d, e.versions.push(u), u.left < a && (a = u.left), u.right > r && (r = u.right); }), A.eventVersionsReserveSpace ? (e.part.versionsLeft = a, e.part.versionsRight = r, e.part.versionsWidth = r - a) : (e.part.versionsLeft = e.part.left, e.part.versionsRight = e.part.left + e.part.width, e.part.versionsWidth = e.part.width);
            } }, this.ig = function (e, t) { if (!(e && t && e.start && t.start))
                return 0; var n = e.start().ticks - t.start().ticks; return 0 !== n ? n : t.end().ticks - e.end().ticks; }, this.jg = function (e, t) { if (!e || !t)
                return 0; var n = e.cache || e.data, i = t.cache || t.data; if (!(n.sort && n.sort.length > 0 && i.sort && i.sort.length > 0))
                return A.ig(e, t); for (var a = 0, r = 0; 0 === a && "undefined" != typeof n.sort[r] && "undefined" != typeof i.sort[r];)
                a = n.sort[r] === i.sort[r] ? 0 : "number" == typeof n.sort[r] && "number" == typeof i.sort[r] ? n.sort[r] - i.sort[r] : A.kg(n.sort[r], i.sort[r], A.sortDirections[r]), r++; return a; }, this.kg = function (e, t, n) { var i = "desc" !== n, a = i ? -1 : 1, r = -a; if (null === e && null === t)
                return 0; if (null === t)
                return r; if (null === e)
                return a; var o = []; return o[0] = e, o[1] = t, o.sort(), e === o[0] ? a : r; }, this.Nm = function (e, t, n, i) { if (A.nb()) {
                var a = D(A.rowlist, e), r = A.Im(e, a), o = D(j.Vh, e) !== -1, s = o ? "deselected" : "selected", l = {};
                if (l.row = r, l.selected = o, l.ctrl = t, l.shift = n, l.meta = i, l.preventDefault = function () { this.preventDefault.value = !0; }, "function" == typeof A.onRowSelect && (A.onRowSelect(l), l.preventDefault.value))
                    return;
                var d = n && !t && !i;
                if (n || (j.lq = { "row": e, "index": a }), d) {
                    j.mq();
                    var c = j.lq.index, u = a;
                    j.nq(c, u);
                }
                switch (A.rowSelectHandling) {
                    case "PostBack":
                        A.rowSelectPostBack(r, s);
                        break;
                    case "CallBack":
                        A.rowSelectCallBack(r, s);
                        break;
                    case "Notify":
                        !d && j.q(e, t, n, i), A.rowSelectNotify(r, s);
                        break;
                    case "Update": !d && j.q(e, t, n, i);
                }
                "function" == typeof A.onRowSelected && (l.selected = D(j.Vh, e) !== -1, A.onRowSelected(l));
            }
            else {
                j.q(e, t, n);
                var a = D(A.rowlist, e), r = A.Im(e, a), o = D(j.Vh, e) !== -1, s = o ? "deselected" : "selected";
                switch (A.rowSelectHandling) {
                    case "PostBack":
                        A.rowSelectPostBack(r, s);
                        break;
                    case "CallBack":
                        A.rowSelectCallBack(r, s);
                        break;
                    case "Notify":
                        A.rowSelectNotify(r, s);
                        break;
                    case "JavaScript": A.onRowSelect(r, s);
                }
            } }, this.rowSelectPostBack = function (e, t, n) { var i = {}; i.resource = e, i.change = t, this.pa("RowSelect", i, n); }, this.rowSelectCallBack = function (e, t, n) { var i = {}; i.resource = e, i.change = t, this.ra("RowSelect", i, n); }, this.rowSelectNotify = function (e, t, n) { var i = {}; i.resource = e, i.change = t, this.ra("RowSelect", i, n, "Notify"); }, this.rows = {}, this.rows.selection = {};
            var U = this.rows.selection;
            U.V = [], U.get = function () { var e = []; return x(j.Vh).forEach(function (t) { e.push(A.Im(t)); }), e; }, U.clear = function () { j.oq(); }, U.add = function (e) { if (!e || !e.isRow)
                throw new DayPilot.Exception("DayPilot.Scheduler.rows.selection.add(): DayPilot.Row object expected"); x(j.Vh).some(function (t) { return t === e.$.row; }) || (j.Vh.push(e.$.row), U.pq(), j.Ij(e.$.row)); }, U.remove = function (e) { if (!e || !e.isRow)
                throw new DayPilot.Exception("DayPilot.Scheduler.rows.selection.remove(): DayPilot.Row object expected"); U.isSelected(e) && (DayPilot.rfa(j.Vh, e.$.row), U.pq(), j.Ij(e.$.row)); }, U.isSelected = function (e) { if (!e || !e.isRow)
                throw new DayPilot.Exception("DayPilot.Scheduler.rows.selection.isSelected(): DayPilot.Row object expected"); return D(j.Vh, e.$.row) !== -1; }, U.pq = function () { A.selectedRows = x(j.Vh).map(function (e) { return e.id; }), U.V = [], j.Vh.forEach(function (e) { U.V[e.index] = !0; }); }, this.rows.all = function () { for (var e = x(), t = 0; t < A.rowlist.length; t++) {
                var n = A.Im(A.rowlist[t]);
                e.push(n);
            } return e; }, this.rows.visible = function () { for (var e = x(), t = 0; t < A.rowlist.length; t++) {
                var n = A.rowlist[t];
                if (!n.hidden) {
                    var n = A.Im(A.rowlist[t]);
                    e.push(n);
                }
            } return e; }, this.rows.each = function (e) { A.rows.all().forEach(e); }, this.rows.forEach = function (e) { A.rows.all().forEach(e); }, this.rows.filter = function (e, t) { A.rows.gg = e, t || A.Y && A.bd({ "immediateEvents": !0 }); }, Object.defineProperty(A.rows, "filterParam", { get: function () { return A.rows.gg; } }), this.rows.sort = function (e) { var t = A.rows.sortParam; if ("string" == typeof e)
                A.rows.qq = { "field": e, "order": "asc" };
            else if ("object" == typeof e) {
                var n = g(e);
                n.order || (n.order = "asc"), A.rows.qq = n;
            }
            else
                A.rows.qq = null; if (A.Y && A.bd({ "immediateEvents": !0 }), "function" == typeof A.onRowSorted) {
                var i = {};
                i.oldSortParam = t, A.onRowSorted(i);
            } }, Object.defineProperty(A.rows, "sortParam", { get: function () { return { "order": A.rows.rq(), "field": A.rows.sq() }; } }), this.rows.sq = function () { var e = A.rows.qq; return e ? e.field : null; }, this.rows.rq = function () { var e = A.rows.qq; return e ? e.order : "asc"; }, this.rows.find = function (e, t) { if ("string" == typeof e || "number" == typeof e || !e && t) {
                var n = A.dq(e);
                e || (n = A.rowlist);
                var i = null;
                return "string" == typeof t || t instanceof DayPilot.Date ? (t = new DayPilot.Date(t), i = n.find(function (e) { return t === e.start; })) : i = n.first(), i ? new DayPilot.Row(i, A) : null;
            } if ("function" != typeof e)
                throw new DayPilot.Exception("Invalid rows.find() argument: id or function expected"); var a = t || 0, r = A.rowlist.find(function (t, n) { return !(n < a) && e(A.Im(t)); }); if (r)
                return A.Im(r); }, this.rows.load = function (e, t, n) { if (!e)
                throw new DayPilot.Exception("rows.load(): 'url' parameter required"); var i = function (e) { var t = {}; t.exception = e.exception, t.request = e.request, "function" == typeof n && n(t); }, a = function (e) { var n, a = e.request; try {
                n = JSON.parse(a.responseText);
            }
            catch (e) {
                var r = {};
                return r.exception = e, void i(r);
            } if (DayPilot.isArray(n)) {
                var o = {};
                if (o.preventDefault = function () { this.preventDefault.value = !0; }, o.data = n, "function" == typeof t && t(o), o.preventDefault.value)
                    return;
                A.resources = o.data, A.Y && A.update();
            } }; A.rowsLoadMethod && "POST" === A.rowsLoadMethod.toUpperCase() ? DayPilot.ajax({ "method": "POST", "url": e, "success": a, "error": i }) : DayPilot.ajax({ "method": "GET", "url": e, "success": a, "error": i }); }, this.rows.expand = function (e) { for (var t = [], n = e || 1, i = 0; i < A.rowlist.length; i++) {
                var a = A.rowlist[i], r = n === -1;
                a.level < n && (r = !0), r && !a.expanded && a.children && a.children.length > 0 && t.push(a.index);
            } if (0 !== t.length)
                if (1 === t.length)
                    A.Do(t[0]);
                else {
                    for (var i = 0; i < t.length; i++) {
                        var o = t[i], s = A.rowlist[o].resource;
                        s.expanded = !0;
                    }
                    A.bd();
                } }, this.rows.expandAll = function () { A.rows.expand(-1); }, this.rows.collapseAll = function () { A.rowlist.forEach(function (e) { e.resource.expanded = !1; }), A.bd(); }, this.rows.headerHide = function () { A.tq = !0, A.uq(), A.Cp(), A.ll(); }, this.rows.headerShow = function () { A.tq = !1, A.uq(), A.Cp(), A.ll(); }, this.rows.headerToggle = function () { A.tq ? A.rows.headerShow() : A.rows.headerHide(); }, this.rows.edit = function (e) { j.Om(e.$.row); }, this.rows.remove = function (e) { if ("number" == typeof e || "string" == typeof e) {
                var t = A.rows.find(e);
                if (!t)
                    throw new DayPilot.Exception("The row to be removed was not found");
                return void A.rows.remove(t);
            } var n = e.$.row.resource, i = F.vq(n); if (!i)
                throw new DayPilot.Exception("Cannot find source node parent"); var a = D(i, n); i.splice(a, 1), A.update(); }, this.rows.add = function (e) { A.resources.push(e), A.bd(); }, this.rows.addChild = function (e, t) { if ("number" != typeof e && "string" != typeof e || (e = A.rows.find(e)), e) {
                if (!(e instanceof DayPilot.Row)) {
                    var t = e;
                    if (e = A.rows.find(t.id), !e)
                        return;
                }
                e.data.children || (e.data.children = []), e.data.children.push(t), A.bd();
            } }, this.rows.update = function (e) { if (!(e instanceof DayPilot.Row || "object" == typeof e))
                throw new DayPilot.Exception("DayPilot.Scheduler.rows.update() expects a DayPilot.Row object or a data object."); if (!(e instanceof DayPilot.Row)) {
                var t = e;
                if (e = A.rows.find(t.id), !e)
                    return;
                e.data = t;
            } !x(A.events.Tn.rows).isEmpty() && (X.Sn = !0, A.events.zm({ "dontResetFocus": !0 })); var n = A.rows.selection.isSelected(e), i = e, a = e.index, r = A.nn(e.grid).rowlist, o = r[a], s = e.data, l = e.parent() ? e.parent().$.row : null, d = A.wq(s), e = A.xq(d, l); e.hidden = o.hidden, e.level = o.level, e.children = o.children, e.index = a, e.top = o.top, e.height = o.height, e.grid = o.grid, r[a] = e, n && (DayPilot.rfa(j.Vh, i.$.row), j.Vh.push(e)), e.aq(), A.wl(e.index, e.grid), A.ok(), A.yq(e), A.$n(e), A.rm(e.index, e.grid), A.vk(), A.yk(); }, this.yq = function (e) { for (var t = A.events.list, n = t.length, i = "function" == typeof A.onBeforeEventRender, a = 0; a < n; a++) {
                var r = t[a];
                if (r) {
                    if (r instanceof DayPilot.Event)
                        throw new DayPilot.Exception("DayPilot.Scheduler: DayPilot.Event object detected in events.list array. Use raw event data instead.");
                    if ("Days" === A.viewType)
                        throw new DayPilot.Exception(".rows.update() not supported for viewType = 'Days'.");
                    if ("Gantt" === A.viewType)
                        throw new DayPilot.Exception(".rows.update() not supported for viewType = 'Gantt'.");
                    if ("*" === r.resource || "*" === e.id || r.resource === e.id) {
                        i && this.Pf(a);
                        var o = this.Vn(r, e);
                        o && i && (o.cache = this.V.events[a]);
                    }
                }
            } }, this.zq = function () { var e = S.source, t = S.target, n = S.position, i = S.sourceCalendar; if (j.Aq(), A.nb()) {
                var a = {};
                if (a.source = A.Im(e), a.source.calendar = i, a.target = A.Im(t), a.position = n, a.preventDefault = function () { this.preventDefault.value = !0; }, "function" == typeof A.onRowMove && (A.onRowMove(a), a.preventDefault.value))
                    return;
                switch (A.rowMoveHandling) {
                    case "Update":
                        j.Bq(a);
                        break;
                    case "CallBack":
                        A.rowMoveCallBack(a.source, a.target, a.position);
                        break;
                    case "PostBack":
                        A.rowMovePostBack(a.source, a.target, a.position);
                        break;
                    case "Notify": j.Bq(a), A.rowMoveNotify(a.source, a.target, a.position);
                }
                "function" == typeof A.onRowMoved && A.onRowMoved(a);
            }
            else {
                var e = A.Im(e), t = A.Im(t), n = n;
                switch (A.rowMoveHandling) {
                    case "CallBack":
                        A.rowMoveCallBack(e, t, n);
                        break;
                    case "PostBack":
                        A.rowMovePostBack(e, t, n);
                        break;
                    case "JavaScript": A.onRowMove(e, t, n);
                }
            } }, this.Dk = function (e) { var t = x(e); j.Vh = [], t.isEmpty() || (A.$j = !1, A.Wa()), t.forEach(function (e) { var t = A.Pk(e); t && j.Vh.push(t); }), j.Cq(); }, this.Pm = {};
            var j = this.Pm;
            j.Om = function (e) { j.Dq(e); }, j.Eq = function () { j.lq = { "row": A.rowlist[0], "index": 0 }; }, j.Fq = function (e) { var t = D(A.rowlist, e); if (t === -1)
                throw new DayPilot.Exception("DayPilot.Scheduler: Row not found when selecting a range"); j.lq = { "row": e, "index": t }; }, j.mq = function () { j.lq || j.Eq(); var e = D(A.rowlist, j.lq.row); if (!(e > -1)) {
                var t = A.Pk(j.lq.row.id);
                t ? (e = D(A.rowlist, t), j.lq = { "row": t, "index": e }) : j.Eq();
            } }, j.Gq = function (e) { var t = A.xp(), n = A.K("_rowmove_source"), i = e.top, a = e.height; e.split.list.length > 0 && (i = e.split.list[0].top, a = e.split.totalHeight()); var r = v(A.divHeader, 0, i, t, a); r.className = n, e.moveOverlay = r; }, j.Hq = function (e) { e && (C(e.moveOverlay), e.moveOverlay = null); }, j.Dq = function (e) { var t = j.Iq(e), n = t.cells[0]; if (n.input)
                return n.input; DayPilot.Areas.disable(n.firstChild); var i = n.clientWidth; e.isNewRow && (i = A.cl()); var a = document.createElement("input"); a.style.position = "absolute", a.style.top = "0px", a.style.left = "0px", a.style.width = i + "px", a.style.height = e.height - 1 + "px", a.style.border = "0px none", a.style.overflow = "hidden", a.style.boxSizing = "border-box", a.style.resize = "none", a.style.paddingLeft = e.level * A.treeIndent + "px", a.style.outline = "none"; var r = n.textDiv; a.style.fontFamily = DayPilot.gs(r, "fontFamily") || DayPilot.gs(r, "font-family"), a.style.fontSize = DayPilot.gs(r, "fontSize") || DayPilot.gs(r, "font-size"), a.value = e.name || "", n.firstChild.appendChild(a), n.input = a; var o = function () { try {
                n.input.parentNode.removeChild(n.input);
            }
            catch (e) {
                s();
            } n.input = null; }; return a.focus(), a.onblur = function () { a.onblur = null; var t = a.value; o(), DayPilot.Areas.enable(n.firstChild), A.Km(e, t, a.canceled); }, a.onkeydown = function (e) { var t = e.keyCode; return 27 === t && (a.canceled = !0, o()), 13 !== t || (a.onblur(), !1); }, a.setSelectionRange ? a.setSelectionRange(0, 9999) : a.select(), a; }, j.Vh = [], j.q = function (e, t, n, i) { var a = D(j.Vh, e) !== -1; if (t || i) {
                if (a)
                    return DayPilot.rfa(j.Vh, e), U.pq(), void j.Ij(e);
            }
            else
                a = !1, j.oq(); a || j.Vh.push(e), U.pq(), j.Ij(e); }, j.nq = function (e, t) { j.oq(); for (var n = Math.min(e, t), i = Math.max(e, t), a = n; a <= i; a++) {
                var r = A.rowlist[a];
                j.Vh.push(r);
            } U.pq(); for (var a = n; a <= i; a++) {
                var r = A.rowlist[a];
                j.Ij(r);
            } }, j.Cq = function () { for (var e = 0; e < j.Vh.length; e++) {
                var t = j.Vh[e];
                j.Ij(t);
            } }, j.Ij = function (e) { var t = D(A.rowlist, e); if (t === -1) {
                var n = A.Pk(e.id);
                if (!n)
                    return;
                t = n.index;
            } A.xm(t), A.yk(), A.on(t), A.Fp(t); }, j.Wm = function () { var e = []; if (!j.Vh)
                return e; for (var t = 0; t < j.Vh.length; t++) {
                var n = j.Vh[t], i = D(A.rowlist, n), a = A.Im(n, i);
                e.push(a.toJSON());
            } return e; }, j.lq = null, j.oq = function () { var e = j.Vh; if (j.Vh = [], A.selectedRows = [], U.V = [], e.length <= 5)
                e.forEach(function (e) { j.Ij(e); });
            else {
                A.vk(), A.yk();
                for (var t = 0; t < A.rowlist.length; t++)
                    A.divHeader.rows[t] && A.rm(t);
            } }, j.Iq = function (e) { for (var t = A.divHeader, n = 0; n < t.rows.length; n++) {
                var i = t.rows[n];
                if (i && i.cells[0] && i.cells[0].row === e)
                    return i;
            } return null; }, j.Ad = function (e) { var t = w.rowmoving, n = e.split.parent ? e.split.parent : e; t.row = n, t.sourceCalendar = A, t.cursor = A.divResScroll.style.cursor, A.divResScroll.style.cursor = "move", j.Gq(n); }, j.Aq = function () { A.divResScroll.style.cursor = S.cursor, C(S.div), j.Hq(S.row), w.rowmoving = S = {}; }, j.Jq = function (e) { var t = DayPilot.mo3(A.divHeader, e), n = A.bn(t.y, "main", !0), i = A.rowlist[n.i]; if (i && !i.isNewRow) {
                i.split.parent && (i = i.split.parent);
                var a = A.rowMoveSameLevelOnly, r = t.y - n.top, o = n.bottom - n.top, s = o / 3, l = 2 * s, d = o / 2, u = "before", h = i.children && i.children.length > 0, f = h && i.expanded, v = function () { for (var e = n.i, t = i.level; e >= 0;) {
                    var a = A.rowlist[e];
                    if (e--, !(t <= a.level)) {
                        if (a === S.row)
                            return !0;
                        if (0 === a.level)
                            return !1;
                        t = a.level;
                    }
                } return !1; }(), p = i, m = A.treeEnabled;
                if (v || n.i === S.row.index && !a)
                    u = "forbidden";
                else if (m)
                    if (a) {
                        var g = S.row.level, b = i.level;
                        if (b === g - 1)
                            u = "child";
                        else if (g !== b)
                            if (g === b - 1) {
                                var y = i.Kq, w = y.children.length - 1;
                                i.index === y.children[w] ? (p = y, u = "after") : u = "forbidden";
                            }
                            else
                                u = "forbidden";
                        else
                            u = r < d ? "before" : h && f ? "before" : "after";
                    }
                    else
                        u = h && f ? r < d ? "before" : "child" : r < s ? "before" : r < l ? "child" : "after";
                else
                    u = h ? "before" : r < d ? "before" : "after";
                S.row.moveDisabled && (u = "forbidden"), S.calendar = A, S.source = S.row, S.target = p, S.position = u;
                if (function () { return !S.last || (S.last.target !== S.target || S.last.position !== S.position); }()) {
                    if ("function" == typeof A.onRowMoving) {
                        var x = {};
                        x.source = A.Im(S.source), x.target = A.Im(S.target), x.position = u, A.onRowMoving(x), S.position = x.position;
                    }
                }
                else
                    S.last && (S.position = S.last.position);
                S.last = {}, S.last.target = S.target, S.last.position = S.position, function () { S.div && C(S.div); var e = n.top, t = S.position, i = A.rowlist[n.i], a = i.level, r = a * A.treeIndent; switch (t) {
                    case "before":
                        e = n.top;
                        break;
                    case "child":
                        e = n.top + d;
                        break;
                    case "after":
                        e = n.bottom;
                        break;
                    case "forbidden": e = n.top + d;
                } var o = A.xp() - r, s = c(); s.style.position = "absolute", s.style.left = r + "px", s.style.width = o + "px", s.style.top = e + "px", s.className = A.K("_rowmove_position_" + t), S.div = s, A.divResScroll.appendChild(s); }();
            } }, j.Bq = function (e) { var t = e.source.$.row.resource, n = e.target.$.row.resource, i = e.position; if (t !== n && "forbidden" !== i) {
                var a = e.source.calendar.Lq.vq(t);
                if (!a)
                    throw new DayPilot.Exception("Cannot find source node parent");
                var r = D(a, t);
                a.splice(r, 1);
                var o = F.vq(n);
                if (!o)
                    throw new DayPilot.Exception("Cannot find target node parent");
                var s = D(o, n);
                switch (i) {
                    case "before":
                        o.splice(s, 0, t);
                        break;
                    case "after":
                        o.splice(s + 1, 0, t);
                        break;
                    case "child": n.children || (n.children = [], n.expanded = !0), n.children.push(t);
                }
                A.update();
            } };
            var W = {};
            this.Mq = W, W.mh = function (e) { };
            var F = {};
            this.Lq = F, F.vq = function (e) { return F.Nq(A.resources, e); }, F.Nq = function (e, t) { if (D(e, t) !== -1)
                return e; for (var n = 0; n < e.length; n++) {
                var i = e[n];
                if (i.children && i.children.length > 0) {
                    var a = F.Nq(i.children, t);
                    if (a)
                        return a;
                }
            } return null; }, this.nk = function () { var e = this.resources, t = this.M(); t || ("Gantt" === this.viewType ? e = this.Oq() : "Days" === this.viewType && (e = this.Pq())), !t || "Days" !== this.viewType || e && 0 !== e.length || (e = this.Pq()); var n = {}; if (n.i = 0, null != e && !DayPilot.isArray(e))
                throw new DayPilot.Exception("DayPilot.Scheduler.resources expects an array object"); e = e || [], A.Qq = !1; var i = e.filter(function (e) { var t = "string" == typeof e.frozen ? e.frozen.toLowerCase() : null; return "top" !== t && "bottom" !== t; }); A.rowlist = x(), this.Rq(i, n, 0, null, this.treeEnabled, !1, "main"); var a = e.filter(function (e) { return "string" == typeof e.frozen && "top" === e.frozen.toLowerCase(); }); A.Lk.top.rowlist = x(), A.Lk.top.height = 0, this.Rq(a, { "i": 0 }, 0, null, !1, !1, "top"); var r = e.filter(function (e) { return "string" == typeof e.frozen && "bottom" === e.frozen.toLowerCase(); }); A.Lk.bottom.rowlist = x(), A.Lk.bottom.height = 0, this.Rq(r, { "i": 0 }, 0, null, !1, !1, "bottom"), "Disabled" !== A.rowCreateHandling && this.Sq(); }, this.Sq = function () { var e = {}; e.id = "NEW", e.isNewRow = !0, e.html = "", e.index = A.rowlist.length, e.loaded = !0, e.start = this.startDate, e.children = [], e.height = A.eventHeight, e.marginBottom = 0, e.marginTop = 0, e.getHeight = function () { return A.rowCreateHeight ? A.rowCreateHeight : A.eventHeight + A.rowMarginBottom + A.rowMarginTop; }, e.sd = function () { }, e.aq = function () { }, this.rowlist.push(e); }, this.ok = function (e) { function t(e, t) { if (e.cells = [], !e.hidden || n) {
                var i = e.split && e.split.parent;
                (A.rowHeaderColumns || [{}]).forEach(function (n, a) { var r = {}; r.row = n.split ? e : i || e, r.y = t, r.x = a, r.rowspan = 1; var o = !n.split && i, s = i && e.split.Mp(), l = (n.split && !i, i && i.split.list.filter(function (e) { return !e.hidden; }).length), d = 0; if (i) {
                    var c = i.split.list.find(function (e) { return e.split.Mp(); }), u = i.split.list.indexOf(c);
                    u > 0 && (d = u);
                } o && (s ? (r.rowspan = l, r.totalHeight = function () { return i.split.totalHeight(); }) : r.refCell = i.split.list[d].cells[a]), e.cells.push(r); });
            } } e = e || {}; var n = e.includeHidden; A.rowlist.forEach(function (e, n) { t(e, n); }), A.Lk.top.rowlist.forEach(function (e, n) { t(e, n); }), A.Lk.bottom.rowlist.forEach(function (e, n) { t(e, n); }); }, this.Oq = function () { var e = []; if (this.fk && this.resources)
                for (var t = 0; t < this.resources.length; t++)
                    e.push(this.resources[t]); if (this.events.list) {
                for (var t = 0; t < this.events.list.length; t++) {
                    var n = this.events.list[t], i = {};
                    i.id = n.id, i.name = n.text, i.columns = n.columns, e.push(i);
                }
                return e;
            } }, this.Pq = function () { var e = [], t = A.wb(), n = this.oa.sc(), i = A.resources || [], a = i.filter(function (e) { return "string" == typeof e.frozen && "top" === e.frozen.toLowerCase(); }), r = i.filter(function (e) { return "string" == typeof e.frozen && "bottom" === e.frozen.toLowerCase(); }); e = e.concat(a).concat(r); for (var o = 0; o < this.days; o++) {
                var s = t.addDays(o);
                if (A.showNonBusiness || A.businessWeekends || 0 != s.dayOfWeek() && 6 != s.dayOfWeek()) {
                    var l = {};
                    l.name = s.toString(n.datePattern, n), l.start = s, e.push(l);
                }
            } return e; }, this.wb = function () { return this.itline && this.itline.length > 0 ? this.itline[0].start : new DayPilot.Date(this.startDate); }, this.ud = function () { if (this.itline && this.itline.length > 0) {
                var e = A.itline[this.itline.length - 1].end;
                return "Days" !== A.viewType ? e : e.addDays(A.days - 1);
            } return new DayPilot.Date(A.startDate).addDays(A.days); }, this.visibleStart = function () { return this.wb(); }, this.visibleEnd = function () { return this.ud(); }, this.xq = function (e, t) { var n = {}; if (n.backColor = e.backColor, n.fontColor = e.fontColor, n.cssClass = e.cssClass, n.expanded = e.expanded, n.name = e.name, n.html = A.ma(e.name, e.html), n.emptyHeight = "undefined" != typeof e.emptyHeight ? e.emptyHeight : A.rowEmptyHeight, n.eventHeight = "undefined" != typeof e.eventHeight ? e.eventHeight : A.oa.rn(), n.minHeight = "undefined" != typeof e.minHeight ? e.minHeight : A.rowMinHeight, n.marginBottom = "undefined" != typeof e.marginBottom ? e.marginBottom : A.rowMarginBottom, n.marginTop = "undefined" != typeof e.marginTop ? e.marginTop : A.rowMarginTop, n.eventStackingLineHeight = "undefined" != typeof e.eventStackingLineHeight ? e.eventStackingLineHeight : A.eventStackingLineHeight, n.loaded = !e.dynamicChildren, n.id = e.id || e.value, n.toolTip = e.toolTip, n.children = [], n.columns = [], n.start = e.start ? new DayPilot.Date(e.start) : this.wb(), n.isParent = e.isParent, n.contextMenu = e.contextMenu ? DayPilot.Util.evalVariable(e.contextMenu) : this.contextMenuResource, n.areas = e.areas, n.moveDisabled = e.moveDisabled, n.bubbleHtml = e.bubbleHtml, n.cellsDisabled = e.cellsDisabled, n.tags = e.tags, n.task = e.task, n.swimlane = e.swimlane, n.hideEvents = e.hideEvents, n.height = n.eventHeight, n.level = 0, n.resource = e.Tq, n.lines = [], n.blocks = [], n.containers = [], n.containerCache = {}, n.isRow = !0, n.getHeight = function () { var e = 0; if (A.groupConcurrentEvents)
                for (var t = 0; t < this.blocks.length; t++) {
                    var n = this.blocks[t];
                    e = Math.max(e, n.getHeight());
                }
            else if (this.lines.length > 0) {
                var i = this.lines.length - 1, a = this.lines[i], r = a.height || this.eventHeight, o = a.top || 0;
                e = o + r;
            } if (0 === e) {
                if ("number" == typeof this.emptyHeight)
                    return this.emptyHeight;
                e = this.eventHeight;
            } return e > this.minHeight ? e : this.minHeight; }, n.qo = function () { var e = n.start.getTime() - A.wb().getTime(); return A.itline[A.itline.length - 1].end.addTime(e); }, n.aq = function () { var e = this; e.events = x(), e.events.forRange = function (t, n) { t = new DayPilot.Date(t), n = n ? new DayPilot.Date(n) : e.qo(); for (var i = x(), a = 0; a < e.events.length; a++) {
                var r = e.events[a], o = A.vi(r.end());
                u(r.start(), o, t, n) && i.push(r);
            } return i; }; }, n.do = function () { function e() { for (var e = [], t = 0; t < n.events.length; t++) {
                var i = n.events[t];
                k(e, i.start().toString()) || e.push(i.start().toString()), k(e, i.rawend().toString()) || e.push(i.rawend().toString());
            } return e.sort(), e; } function t() { for (var t = e(), i = [], a = { "start": n.data.start }, r = 0; r < t.length; r++)
                a.end = new DayPilot.Date(t[r]), i.push(a), a = { "start": new DayPilot.Date(t[r]) }; return a.end = n.data.end, i.push(a), i.forRange = function (e, t) { for (var n = x(), i = 0; i < this.length; i++) {
                var a = this[i];
                u(e, t, a.start, a.end) && n.push(a);
            } return n.maxSum = function (e) { for (var t = 0, n = 0; n < this.length; n++) {
                var i = this[n], a = i.sum(e);
                a > t && (t = a);
            } return t; }, n; }, i; } for (var n = this, i = n.sections = t(), a = 0; a < i.length; a++) {
                var r = i[a];
                r.events = x();
                for (var o = 0; o < n.events.length; o++) {
                    var s = n.events[o];
                    u(r.start, r.end, s.start(), s.rawend()) && r.events.push(s);
                }
                r.sum = function (e) { for (var t = 0, n = 0; n < this.events.length; n++) {
                    var i = this.events[n], a = 0;
                    "undefined" == typeof e ? a = 1 : i.tag(e) ? a = i.tag(e) : i.data[e] && (a = i.data[e]), "number" == typeof a && (t += a);
                } return t; };
            } }, n.Uq = function () { var e = []; return e.height = 0, e.add = function (t) { this.push(t); var n = t.part.jq(); n > e.height && (e.height = n); }, e.td = function (e, t, n) { for (var i = e + t - 1, a = this.length, r = 0; r < a; r++) {
                var o = this[r];
                if (!o.data.nonBlocking) {
                    if (!(i < o.part.left || e > o.part.left + o.part.width - 1)) {
                        if (k(n, o.data))
                            continue;
                        return !1;
                    }
                    if (o.part.container && !(i < o.part.container.left || e > o.part.container.left + o.part.container.width - 1))
                        return !1;
                    if (A.eventVersionsReserveSpace && !(i < o.part.versionsLeft || e > o.part.versionsRight - 1))
                        return !1;
                }
            } return !0; }, e; }, n.Vq = function (e, t, i) { if ("number" == typeof i) {
                for (var a = 0; a <= i; a++)
                    this.lines[a] || (this.lines[a] = n.Uq());
                return i;
            } if ("dedicated" === i) {
                var r = n.Uq();
                return r.td = function () { return !1; }, this.lines.push(r), this.lines.length - 1;
            } for (var a = 0; a < this.lines.length; a++) {
                var r = this.lines[a];
                if (r.td(e, t))
                    return a;
            } var r = n.Uq(); return this.lines.push(r), this.lines.length - 1; }, n.sd = function (e) { var t = e.data, i = e.part, a = e.part.container; if (a) {
                if (null === a.line && ("number" == typeof t.line || "dedicated" === t.line))
                    return r = n.Vq(a.left, a.width, t.line), i.line = r, this.lines[r].add(e), a.line = r, r;
            }
            else if ("number" == typeof t.line || "dedicated" === t.line)
                return r = n.Vq(i.left, i.width, t.line), i.line = r, this.lines[r].add(e), r; var r = -1; if (a) {
                if (null !== a.line)
                    return this.lines[a.line].add(e), a.line;
                r = n.Vq(a.left, a.width), a.line = r;
            }
            else
                r = A.eventVersionsReserveSpace ? n.Vq(i.versionsLeft, i.versionsWidth) : n.Vq(i.left, i.width); return i.line = r, this.lines[r].add(e), r; }, n.qd = function (e) { for (var t = A.eventVersionsReserveSpace, n = 0; n < this.blocks.length; n++) {
                var i = this.blocks[n];
                if (D(i.events, e) !== -1)
                    return;
                var a = t ? e.part.versionsLeft : e.part.left, r = t ? e.part.versionsWidth : e.part.width;
                if (i.rd(a, r))
                    return i.events.push(e), e.part.block = i, i.min = Math.min(i.min, a), i.max = Math.max(i.max, a + r), n;
            } var i = {}; i.expanded = !1, i.row = this, i.events = x(), i.lines = x(), i.sd = function (e) { for (var n = 0; n < this.lines.length; n++) {
                var i = this.lines[n], a = t ? e.part.versionsLeft : e.part.left, r = t ? e.part.versionsWidth : e.part.width;
                if (i.td(a, r))
                    return i.add(e), n;
            } var i = []; i.height = 0, i.add = function (e) { this.push(e), e.part.height > i.height && (i.height = e.part.height), e.data.versions && (i.height = e.part.height + e.data.versions.length * (A.eventVersionHeight + A.eventVersionMargin)); }, i.td = function (e, n) { for (var i = e + n - 1, a = this.length, r = 0; r < a; r++) {
                var o = this[r], s = t ? o.part.versionsLeft : o.part.left, l = t ? o.part.versionsWidth : o.part.width;
                if (!(i < s || e > s + l - 1))
                    return !1;
            } return !0; }, i.add(e), this.lines.push(i); }, i.rd = function (e, t) { return !(e + t - 1 < this.min || e > this.max - 1); }, i.getHeight = function () { if (!this.expanded)
                return A.eventHeight; if (this.lines.length > 0) {
                var e = this.lines.length - 1, t = this.lines[e], n = t.height || A.eventHeight;
                return (t.top || 0) + n;
            } return A.eventHeight; }, i.clear = function () { i.events = x(), i.min = null, i.max = null; }, i.events.push(e), e.part.block = i, i.min = t ? e.part.versionsLeft : e.part.left, i.max = i.min + (t ? e.part.versionsWidth : e.part.width), this.blocks.push(i); }, n.Wq = !1, n.Kq = t, n.nd = function () { this.hidden = !this.Xq(), this.Wq = !1, this.Kq && this.Kq.nd(); }, n.Xq = function () { return !this.Kq || this.Kq.Xq() && this.Kq.expanded; }, e.columns)
                for (var i = 0; i < e.columns.length; i++)
                    n.columns.push(e.columns[i]); return n; }, this.hm = function () { A.rowlist.forEach(function (e) { if (!e.isNewRow && "function" == typeof A.onRowFilter && A.rows.gg) {
                var t = e.Kq, n = {};
                if (n.visible = !0, n.row = A.Im(e), n.filter = A.rows.gg, n.filterParam = A.rows.gg, n.control = A, A.onRowFilter(n), e.Wq = !n.visible, n.visible) {
                    A.rowFilterParentsAlwaysVisible && t && t.nd();
                }
                else
                    e.hidden = !0;
            } }); }, this.Yq = function (e) { return !e.some(function (e) { return e.children && e.children.length; }); }, this.Zq = function (e) { return !e.some(function (e) { return !e.children || 0 === e.children.length; }); }, this.nn = function (e) { return e = e || "main", A.Lk[e]; }, this.Rq = function (e, t, n, i, a, r, o) { function s(e, a) { for (var s = 0; s < e.split.length; s++)
                !function () { var l = e.split[s], d = A.wq(l, v), c = A.xq(d, i); c.level = n, c.index = t.i, c.grid = o || "main", r && (c.hidden = !0), c.split = {}, c.split.parent = a, c.split.y = s, c.split.Mp = function () { return c === c.split.parent.split.list.find(function (e) { return !e.hidden; }); }, c.Kq = a, a.split.list.push(c), null !== i && i.children.push(t.i), h.push(c), t.i++, A.Qq = !0; }(); } if (e) {
                var l = !1;
                if (A.rows.qq)
                    switch (A.rowSortingMode) {
                        case "LeavesOnly":
                            l = A.Yq(e);
                            break;
                        case "ParentsOnly": l = A.Zq(e);
                    }
                if (l) {
                    var d = A.rows.sq(), c = "desc" === A.rows.rq(), u = x(e, !0);
                    u.sort(function (e, t) { var n = A.Lp(e, d), i = A.Lp(t, d), a = 0; return a = n === i ? 0 : "number" == typeof n && "number" == typeof i ? n - i : A.kg(n, i, "asc"), c ? -a : a; }), e = u;
                }
                for (var h = A.nn(o).rowlist, f = 0; f < e.length; f++)
                    if (e[f]) {
                        var v = {};
                        if (v.level = n, v.hidden = r, v.index = t.i, !e[f].hidden) {
                            var p = this.wq(e[f], v), m = A.xq(p, i);
                            r && (m.hidden = !0), m.level = n, m.index = t.i, m.grid = o || "main", m.split = {}, m.split.list = [], m.split.totalHeight = function () { var e = 0; return this.list.forEach(function (t) { t.hidden || (e += t.height); }), e; };
                            var g = !p.children || 0 === p.children.length, b = g && p.split;
                            if (b ? s(p, m) : (null !== i && i.children.push(t.i), h.push(m), t.i++), a && p.children && p.children.length) {
                                var y = r || !m.expanded;
                                this.Rq(p.children, t, n + 1, m, !0, y, o);
                            }
                        }
                    }
            } }, this.$q = ["text", "html", "backColor", "cssClass", "areas", "horizontalAlignment", "hidden"], this.So = function (e) {
                if (e.isNewRow)
                    return { "row": { "cssClass": A.K("_row_new"), "moveDisabled": !0, "html": A.ma(A.rowCreateText, A.rowCreateHtml)
                        } };
                var t = {};
                t.row = this.Im(e), g(e, t.row, ["html", "backColor", "fontColor", "cssClass", "toolTip", "contextMenu", "moveDisabled"]), t.row.areas = DayPilot.Util.createArrayCopy(e.areas), t.row.columns = DayPilot.Util.createArrayCopy(e.columns, A.$q), e.split && DayPilot.isArray(A.rowHeaderColumns) && A.rowHeaderColumns.forEach(function (n, i) { !e.split.parent && 0 === e.split.list.length && n.split ? t.row.columns[i].text = "" : !e.split.parent && n.split ? t.row.columns[i] = null : e.split.parent && !n.split && (t.row.columns[i] = null); });
                var n = A.rowHeaderColumns;
                if ("undefined" == typeof t.row.columns && n.length > 0) {
                    r.columns = [];
                    for (var i = 0; i < n.length; i++)
                        r.columns.push({});
                }
                return t.row.children().length > 0 && A.rowHeaderColumnsMergeParents && A.rowHeaderColumns && A.rowHeaderColumns.forEach(function (e, n) { n > 0 && delete t.row.columns[n]; }), "function" == typeof this.onBeforeRowHeaderRender && this.onBeforeRowHeaderRender(t), t;
            }, this.wq = function (e, t) { var n = this._q(e, t); if ("function" == typeof this.onBeforeResHeaderRender) {
                var i = {};
                i.resource = n, this.onBeforeResHeaderRender(i);
            } return n; }, this._q = function (e, t) { var n = { get $data() { return this.Tq; } }; for (var i in t)
                n[i] = t[i]; for (var i in e)
                n[i] = e[i]; if (n.html = A.ma(e.name, e.html), A.rowHeaderColumns && A.rowHeaderColumns.length > 0 && "undefined" == typeof n.columns) {
                n.columns = [];
                var a = A.rowHeaderColumns;
                if (A.pm()) {
                    for (var r = 0; r < a.length; r++) {
                        var o = a[r], s = A.Lp(e, o.display);
                        n.columns.push({ "text": s });
                    }
                    n.columns[0] && a[0] && !a[0].display && (n.columns[0].text = n.name);
                }
                else
                    for (var r = 0; r < a.length; r++)
                        n.columns.push({});
            } return n.Tq = e, n; }, this.dm = function () { this.nav.top.dp = this, this.nav.top.innerHTML = "", f(this.nav.top, this.K("_main")), this.nav.top.setAttribute("role", "region"), this.nav.top.setAttribute("aria-label", "scheduler"), this.nav.top.style.MozUserSelect = "none", this.nav.top.style.KhtmlUserSelect = "none", this.nav.top.style.webkitUserSelect = "none", this.nav.top.style.WebkitTapHighlightColor = "rgba(0,0,0,0)", this.nav.top.style.WebkitTouchCallout = "none", this.width && (this.nav.top.style.width = this.width), "Parent100Pct" === this.heightSpec && (this.nav.top.style.height = "100%"), this.nav.top.style.lineHeight = "1.2", this.nav.top.style.position = "relative", this.visible || (this.nav.top.style.display = "none"), this.nav.top.onmousemove = this.tj, this.nav.top.onmouseout = function () { A.Fo(); }, DayPilot.reNonPassive(this.nav.top, "touchstart", Y.ye), DayPilot.reNonPassive(this.nav.top, "touchmove", Y.ze), DayPilot.reNonPassive(this.nav.top, "touchend", Y.Ae), this.hideUntilInit && this.backendUrl && (this.nav.top.style.visibility = "hidden"); var e = this.cl(), t = "Top" === A.timeHeaderPosition; if (A.cm = A.timeHeaderPosition, "DivBased" === this.oa.ar()) {
                var n = c();
                n.style.position = "absolute", n.style.left = "0px", n.style.width = e + "px";
                var i = c();
                i.style.height = "0px", i.style.boxSizing = "content-box", i.style.borderTop = "1px solid transparent", i.className = this.K("_divider_horizontal"), this.nav.dh1 = i, this.nav.left = n, "Top" === A.timeHeaderPosition ? (n.appendChild(this.Re()), n.appendChild(i), n.appendChild(this.br()), A.Lk.top.enabled(), n.appendChild(this.cr()), n.appendChild(this.dr())) : "Bottom" === A.timeHeaderPosition ? (n.appendChild(this.br()), n.appendChild(i), n.appendChild(this.Re())) : n.appendChild(this.br());
                var a = c();
                a.style.position = "absolute", a.style.left = e + "px", a.style.width = Z.dl() + "px", a.style.height = this.fl() + this.ne() + "px", a.className = this.K("_divider") + " " + this.K("_splitter"), a.setAttribute("unselectable", "on"), this.nav.divider = a, this.rowHeaderScrolling && this.er();
                var r = c();
                r.style.marginLeft = e + Z.dl() + "px", r.style.marginRight = "1px", r.style.position = "relative", this.nav.right = r;
                var o = c();
                t && (o.style.position = "absolute", o.style.top = this.fl() + "px"), o.style.width = "100%", o.style.height = "0px", o.style.boxSizing = "content-box", o.style.borderBottom = "1px solid transparent", o.setAttribute("data-dh2", "true"), o.className = this.K("_divider_horizontal"), this.nav.dh2 = o, "Top" === A.timeHeaderPosition ? (r.appendChild(A.fr()), r.appendChild(A.gr()), r.appendChild(o), A.Lk.top.enabled(), r.appendChild(A.hr()), r.appendChild(A.ir())) : "Bottom" === A.timeHeaderPosition ? (r.appendChild(A.gr()), r.appendChild(o), r.appendChild(A.fr())) : r.appendChild(A.gr());
                var s = c();
                s.style.clear = "left";
                var l = c();
                l.style.height = "1px", l.style.position = "absolute", l.style.left = "0px", l.style.right = "0px", l.style.display = "none", l.className = this.K("_divider_horizontal") + " " + this.K("_divider_horizontal_frozen_top"), l.onmousemove = function (e) { e.cancelBubble = !0; }, this.nav.dividerTop = l;
                var d = c();
                d.style.height = "1px", d.style.position = "absolute", d.style.left = "0px", d.style.right = "0px", d.style.display = "none", d.className = this.K("_divider_horizontal") + " " + this.K("_divider_horizontal_frozen_bottom"), d.onmousemove = function (e) { e.cancelBubble = !0; }, this.nav.dividerBottom = d, this.nav.top.appendChild(n), this.nav.top.appendChild(a), this.nav.top.appendChild(r), this.nav.top.appendChild(s), this.nav.top.appendChild(l), this.nav.top.appendChild(d);
            }
            else {
                var u = document.createElement("table");
                u.cellPadding = 0, u.cellSpacing = 0, u.border = 0, u.style.position = "absolute";
                var h = u.insertRow(-1);
                h.insertCell(-1).appendChild(this.Re()), h.insertCell(-1).appendChild(this.fr());
                var v = u.insertRow(-1);
                v.insertCell(-1).appendChild(this.br()), v.insertCell(-1).appendChild(this.gr()), this.nav.top.appendChild(u);
            } if (this.ni = c(), this.ni.style.display = "none", this.nav.top.appendChild(this.ni), this.xa()) {
                var p = document.createElement("input");
                p.type = "hidden", p.id = this.id + "_state", p.name = this.id + "_state", this.nav.state = p, this.nav.top.appendChild(p);
            } var m = c(); m.style.position = "absolute", m.style.left = this.cl() + Z.dl() + 5 + "px", m.style.top = this.fl() + 5 + "px", m.style.display = "none", m.innerHTML = A.ma(this.loadingLabelText, this.loadingLabelHtml), f(m, this.K("_loading")), this.nav.loading = m, this.nav.top.appendChild(m), this.jr(), A.kr(); }, this.tj = function (e) { if (S.row)
                j.Jq(e);
            else if (o.Ip) {
                var t = DayPilot.mo3(A.nav.top, e).x, n = A.xp(), i = A.rowHeaderWidthMin, a = t - 1;
                A.rowHeaderCols && (a = Math.min(n, t - 1)), a = Math.max(i, a), A.rowHeaderWidth = a, A.tq = !1, A.rowHeaderCols || A.lr(), A.uq(), A.Ek(), A.La();
            } }, this.Ya = function () { var e = this.fl(), t = "Top" === A.timeHeaderPosition; this.nav.corner && (this.nav.corner.style.height = e + "px"), this.divTimeScroll && (this.divTimeScroll.style.height = e + "px"), this.divNorth && (this.divNorth.style.height = e + "px"), this.nav.dh1 && this.nav.dh2 && t && (this.nav.dh1.style.top = e + "px", this.nav.dh2.style.top = e + "px"), this.nav.loading.style.top = e + 5 + "px", t && (this.nav.scroll.style.top = e + 1 + "px"); }, this.cl = function () { if (this.tq)
                return 0; var e = 0, t = this.rowHeaderScrolling, n = this.xp(); return e = t && this.rowHeaderWidth < n ? this.rowHeaderWidth : n; }, this.er = function () { var e = this.nav.divider; e.style.cursor = "col-resize", e.setAttribute("unselectable", "on"), e.onmousedown = function (e) { var t = o.Ip = {}; return t.cursor = A.nav.top.style.cursor, t.cleanup = function () { if (A.Cp(), A.nav.top.style.cursor = t.cursor, "function" == typeof A.onRowHeaderResized) {
                var e = {};
                A.onRowHeaderResized(e);
            } }, A.nav.top.style.cursor = "col-resize", !1; }; }, this.uq = function () { var e = Z.dl(), t = this.cl(); if (this.nav.corner && (this.nav.corner.style.width = t + "px"), this.nav.corner && (this.divCorner.style.width = t + "px"), this.divResScroll.style.width = t + "px", "DivBased" === Z.ar() && (this.nav.left.style.width = t + "px", this.nav.divider.style.left = t - e + "px", this.nav.right.style.marginLeft = t + "px"), this.nav.message && (this.nav.message.style.left = A.bl() + "px"), this.nav.loading && (this.nav.loading.style.left = t + e + 5 + "px"), this.nav.hideIcon) {
                var n = this.nav.hideIcon, i = A.K("_header_icon_show"), a = A.K("_header_icon_hide");
                n.style.left = t - 1 + "px", A.tq ? (h(n, a), f(n, i)) : (h(n, i), f(n, a));
            } }, this.lr = function () { this.wp(); var e = this.xp(), t = function (e, t, n) { if (e && e.style) {
                var i = e.firstChild;
                A.Ep ? (e.style.width = t + "px", i.style.width = t + "px", "number" == typeof n && (e.style.left = n + "px")) : i.style.width = t + "px";
            } }, n = function (n) { var i = n.cells[0]; if (i && (i.colSpan > 1 || "max" === i.colSpan)) {
                var i = n.cells[0];
                t(i, e);
            }
            else if (A.rowHeaderCols)
                for (var a = 0, r = 0; r < n.cells.length; r++) {
                    var o = A.rowHeaderCols[r], i = n.cells[r];
                    t(i, o, a), a += o;
                }
            else {
                var o = A.rowHeaderWidth, i = n.cells[0];
                t(i, o);
            } }, i = this.divHeader; i.style.width = e + "px"; for (var a = A.yp(), r = a.start; r < a.end; r++) {
                var o = i.rows[r];
                o && n(o);
            } if (A.Lk.top.enabled())
                for (var r = 0; r < A.Lk.top.rowlist.length; r++) {
                    var o = A.Lk.top.divHeader.rows[r];
                    n(o);
                } if (A.Lk.bottom.enabled())
                for (var r = 0; r < A.Lk.bottom.rowlist.length; r++) {
                    var o = A.Lk.bottom.divHeader.rows[r];
                    n(o);
                } if (A.nav.resScrollSpace && (A.nav.resScrollSpace.style.width = e + "px"), A.Lk.bottom.enabled()) {
                A.Lk.bottom.divSpace.style.width = e + "px";
            } this.La(); }, this.$l = function () { this.uq(), this.lr(); }, this.Zl = function () { var e = A.nav.corner, t = Z.Ro(), n = c(); n.style.position = "absolute", n.style.bottom = "0px", n.style.left = "0px", n.style.width = "100%", n.style.height = Z.Vd() + "px", n.style.overflow = "hidden", A.nav.columnScroll = n; var i = c(); i.style.position = "absolute", i.style.bottom = "0px", i.style.left = "0px", i.style.width = "5000px", i.style.height = Z.Vd() + "px", i.style.overflow = "hidden", i.className = this.K("_columnheader"), n.appendChild(i); var a = c(); a.style.position = "absolute", a.style.top = "0px", a.style.bottom = "0px", a.style.left = "0px", a.style.right = "0px", a.className = this.K("_columnheader_inner"), i.appendChild(a), A.kn && (A.kn.dispose(), A.kn = null); var r = []; t.forEach(function (e) { var t = {}; t.column = {}, t.column.html = A.ma(e.text || e.name || e.title, e.html), t.column.areas = null, t.column.sortingEnabled = !!e.sort, t.column.data = e, t.column.cssClass = null, r.push(t), "function" == typeof A.onBeforeRowHeaderColumnRender && A.onBeforeRowHeaderColumnRender(t); }); var o = new DayPilot.Splitter(a); o.enabled = A.rowHeaderColumnsResizable, o.widths = DayPilot.Util.propArray(t, "width", A.rowHeaderColumnDefaultWidth), o.height = Z.Vd(), o.css.title = this.K("_columnheader_cell"), o.css.titleInner = this.K("_columnheader_cell_inner"), o.css.splitter = this.K("_columnheader_splitter"), A.rowHeaderScrolling && (o.splitterWidthLast = 6); var s = A.rows.sq(), l = A.rows.rq(); o.titles = x(r).map(function (e) { var t = e.column.data, n = e.column.html, i = e.column.cssClass, a = {}; if (a.areas = [], t.sort && e.column.sortingEnabled) {
                var r = A.K("_sorticon");
                s === t.sort ? (r += " " + A.K("_sorticon_active"), r += "asc" === l ? " " + A.K("_sorticon_asc") : " " + A.K("_sorticon_desc")) : r += " " + A.K("_sorticon_asc"), a.areas = [{ right: 5, top: 0, bottom: 0, width: 10, cssClass: r, onClick: function (e) { var n = {}; n.field = t.sort, s === t.sort ? n.order = "asc" === A.rows.rq() ? "desc" : "asc" : n.order = "asc", A.rows.sort(n); } }];
            } return DayPilot.isArray(e.column.areas) && (a.areas = a.areas.concat(e.column.areas)), a.cssClass = i, a.html = n, a; }), o.data = x(t, !0), o.started = function () { var e = o.totalWidth() === A.rowHeaderWidth; o.mr = e; }, o.updating = function (e) { A.Ik.skip = !0, DayPilot.Util.updatePropsFromArray(Z.Ro(), "width", this.widths), o.mr && A.rowHeaderScrolling && (A.rowHeaderWidth = o.totalWidth()), A.$l(), "Auto" === A.cellWidthSpec; }, o.updated = function (e) { if (A.Cp(), A.nb()) {
                if ("function" == typeof A.onRowHeaderColumnResized) {
                    var t = {};
                    t.column = Z.Ro()[e.index], A.onRowHeaderColumnResized(t);
                }
            }
            else
                switch (A.rowHeaderColumnResizedHandling) {
                    case "CallBack": break;
                    case "PostBack": break;
                    case "JavaScript": if ("function" == typeof A.onRowHeaderColumnResized) {
                        var t = {};
                        t.column = Z.Ro()[e.index], A.onRowHeaderColumnResized(t);
                    }
                } }, o.color = "#000000", o.opacity = 30, o.init(), e.appendChild(n), this.kn = o; }, this.rk = function () { var e = this.nav.corner; if (e) {
                A.Ea(), e.innerHTML = "", e.className = this.K("_corner");
                var t = c();
                if (t.style.position = "absolute", t.style.top = "0px", t.style.left = "0px", t.style.right = "0px", t.style.bottom = "0px", t.className = this.K("_corner_inner"), this.divCorner = t, t.innerHTML = "&nbsp;", this.rowHeaderColumns && this.rowHeaderColumns.length > 0) {
                    var n = c();
                    n.style.position = "absolute", n.style.top = "0px", n.style.left = "0px", n.style.right = "0px", n.style.bottom = Z.Vd() + 1 + "px", e.appendChild(n);
                    var i = c();
                    i.style.position = "absolute", i.style.left = "0px", i.style.right = "0px", i.style.height = "1px", i.style.bottom = Z.Vd() + "px", i.className = this.K("_divider"), e.appendChild(i), n.appendChild(t), this.Zl();
                }
                else
                    e.appendChild(t);
                !function () { var e = {}; e.control = A, e.html = A.ma(A.cornerText, A.cornerHtml), e.areas = null; var t = null; if ("function" == typeof A.onBeforeCornerRender && A.onBeforeCornerRender(e), "function" == typeof A.onBeforeCornerDomAdd && (e.element = null, A.onBeforeCornerDomAdd(e), t = e.element), t) {
                    var n = A.divCorner;
                    n.domArgs = e;
                    if (b(t)) {
                        if (!A.F.reactDOM)
                            throw new DayPilot.Exception("Can't reach ReactDOM");
                        A.F.E(t, n);
                    }
                    else
                        n.appendChild(t);
                }
                else
                    A.divCorner && (A.divCorner.innerHTML = e.html || ""); e.areas && DayPilot.Areas.attach(A.nav.corner, {}, { "areas": e.areas }); }();
                var a = c();
                a.style.position = "absolute", a.style.padding = "2px", a.style.top = "0px", a.style.left = "1px", a.style.backgroundColor = "#FF6600", a.style.color = "white", a.innerHTML = "\u0044\u0045" + "\u004D\u004F", m(undefined) && e.appendChild(a), A.rowHeaderScrolling && A.nav.columnScroll && A.jl && (A.nav.columnScroll.scrollLeft = A.jl.scrollLeft);
            } }, this.jr = function () { var e = 3, t = this.cl() + Z.dl() - 1, n = 10, i = 20, a = this.fl() + e, r = v(this.nav.top, t, a, n, i); r.style.cursor = "pointer", r.className = A.K("_header_icon"), f(r, A.K("_header_icon_hide")), r.onclick = function () { A.rows.headerToggle(); }, r.ontouchstart = function (e) { e.stopPropagation(); }, this.nav.hideIcon = r; }, this.im = function () { var e = 3, t = A.nav.hideIcon, n = A.fl() + e; t && (A.rowlist.length > 0 && A.rowHeaderHideIconEnabled ? t.style.display = "" : t.style.display = "none", t.style.top = n + "px"); }, this.Re = function () { var e = this.cl(), t = c(); return A.nav.corner = t, t.style.width = e + "px", t.style.height = this.fl() + "px", t.style.overflow = "hidden", t.style.position = "relative", t.setAttribute("unselectable", "on"), t.onmousemove = function () { A.Ka(); }, t.oncontextmenu = function () { return !1; }, this.rk(), t; }, this.fl = function () { if ("None" === A.timeHeaderPosition)
                return 0; if (A.timeHeaders) {
                var e = Q.Vo(A.timeHeaders.length - 1);
                return e.top + e.height;
            } return this.timeHeader ? A.timeHeader.length * Z.Vd() : 0; }, this.nr = null, this.or = function () { return A.scrollStep || A.eventHeight; }, this.br = function () { var e = c(); e.style.width = this.cl() + "px", e.style.height = this.ne() + "px", e.style.overflow = "hidden", e.style.position = "relative", e.className = A.K("_rowheader_scroll"); var t = A.or(), n = A.oa.Kp(); n && (e.style.overflowY = "auto", A.rowHeaderScrolling && (e.style.overflowX = "auto")), e.onmousemove = function () { A.Ka(); }, DayPilot.rePassive(e, "touchstart", function () { o.pr = !0; }), e.addEventListener("wheel", function (n) { if (0 !== A.qr()) {
                var i;
                i = A.overrideWheelScrolling || A.scrollStep ? n.deltaY > 0 ? t : -t : 1 === n.deltaMode ? n.deltaY * Z.rr() * 1.7 : n.deltaY, A.nav.scroll.scrollTop = e.scrollTop + i, n.preventDefault();
            } }, { "passive": !1 }), e.oncontextmenu = function () { return !1; }, e.onscroll = function () { if (A.nr && clearTimeout(A.nr), n) {
                var t = function () { var t = A.Io() - A.nav.scroll.offsetHeight; e.scrollTop = Math.min(e.scrollTop, t), A.nav.scroll.scrollTop = e.scrollTop; };
                a ? o.pr && (A.nr = setTimeout(t, 10)) : A.nr = setTimeout(t, 10);
            }
            else
                A.nr = setTimeout(function () { A.nav.scroll.scrollTop = e.scrollTop; }, 500); }, A.sr(e), e.setAttribute("role", "region"), e.setAttribute("aria-label", "scheduler rows"); var i = c(); return i.onmousemove = function () { A.Ka(); }, this.divHeader = i, e.appendChild(i), this.divResScroll = e, this.jl = e, e; }, this.sr = function (e) { e.addEventListener("scroll", function () { A.rowHeaderScrolling && (A.nav.columnScroll && (A.nav.columnScroll.scrollLeft = e.scrollLeft), A.Lk.top.enabled() && (A.Lk.top.divHeader.scrollLeft = e.scrollLeft), this !== A.divResScroll && (A.divResScroll.scrollLeft = e.scrollLeft)); }), e.onmouseenter = function () { A.rowHeaderScrolling && (e.style.overflowX = "auto"); }, e.onmouseleave = function () { A.rowHeaderScrolling && (e.style.overflowX = "hidden"); }; }, this.ur = function (e) { if ("TableBased" === Z.ar()) {
                var t = parseInt(this.width, 10), n = isNaN(t) || this.width.indexOf("%") !== -1, i = (/MSIE/i.test(navigator.userAgent), this.xp());
                n ? this.nav.top && this.nav.top.offsetWidth > 0 && (e.style.width = this.nav.top.offsetWidth - 6 - i + "px") : e.style.width = t - i + "px";
            } }, this.mn = function (e) { if ("function" == typeof A.onEventMoving && o.jo) {
                var t = A.coords || {};
                t.shift = e.shiftKey, t.meta = e.metaKey, t.ctrl = e.ctrlKey, t.alt = e.altKey, A.pp();
            } }, this.ln = function (e) { if ("function" == typeof A.onEventMoving && o.jo) {
                var t = A.coords || {};
                t.shift = e.shiftKey, t.meta = e.metaKey, t.ctrl = e.ctrlKey, t.alt = e.altKey, A.pp();
            } }, this.zh = function (e) { "function" == typeof ResizeObserver && A.watchWidthChanges || o.jo && (A.kb(), A.Ek()); }, this.kb = function () { A.Z || ("TableBased" === A.oa.ar() && (A.ur(A.nav.scroll), A.ur(A.divTimeScroll)), A.db(), A.Cp(), A.vr(), A.V.drawArea = null); }, this.Hf = null, this.If = null, this.ya = null, this.Ef = function () { var e = function () { A.kb(), A.Ek(null, { "dontHideBubble": !0 }); }, t = function () { var t = A.nav.top, n = t.offsetParent, i = n && n.offsetHeight; if (!A.Hf)
                return A.Hf = {}, A.Hf.changed = !1, A.Hf.width = t.offsetWidth, A.Hf.height = t.offsetHeight, void (A.Hf.opHeight = i); var a = A.Hf.width !== t.offsetWidth, r = A.Hf.height !== t.offsetHeight, o = "Max100Pct" === A.heightSpec && A.Hf.opHeight !== i; (a || r || o) && (A.Hf.changed = !0, A.Hf.width = t.offsetWidth, A.Hf.height = t.offsetHeight, A.Hf.opHeight = i), A.Hf.changed && (A.Hf.changed = !1, e()); }; if (A.watchWidthChanges) {
                if ("function" == typeof ResizeObserver) {
                    if (A.ya)
                        return;
                    var n = new ResizeObserver(t);
                    return n.observe(A.nav.top), A.nav.top.offsetParent && n.observe(A.nav.top.offsetParent), void (A.ya = n);
                }
                if (!A.If) {
                    var i = function () { return A.nav && A.nav.top ? A.Hf ? (A.Hf.width !== A.nav.top.offsetWidth && (A.Hf.changed = !0, A.Hf.counter = 0, A.Hf.width = A.nav.top.offsetWidth), A.Hf.changed && (A.Hf.counter += 1), void (A.Hf.changed && A.Hf.counter > 0 && (A.Hf.changed = !1, e()))) : (A.Hf = {}, A.Hf.counter = 0, A.Hf.changed = !1, void (A.Hf.width = A.nav.top.offsetWidth)) : void clearInterval(A.If); };
                    this.If = setInterval(i, 200), i();
                }
            } }, this.vr = function () { var e = A.Dm; A.clearSelection(), A.Dm = e, A.Em(e, { "justDraw": !0 }); }, this.Cp = function () { "Auto" === A.cellWidthSpec && (A.vk(), A.Y && (A.lk(), A.mk(), A.sk(), A.wk(), A.Aa(), A.Xa(), A.tk(), A.uk(), A.Sl(), A.ib(), A.yk(), A.zk(), A.db())); }, this.lk = function () { if ("Auto" === this.cellWidthSpec) {
                var e = this.nav.top.clientWidth, t = this.cl(), n = A.qr(), i = e - t - n;
                if (this.Mo()) {
                    var a = i / this.Mo();
                    this.cellWidth = Math.max(a, A.cellWidthMin), A.il = a < A.cellWidthMin;
                }
            } }, this.qr = function () { if ("Auto" === A.heightSpec)
                return 0; if ("Max" === A.heightSpec || "Fixed" === A.heightSpec || "Parent100Pct" === A.heightSpec) {
                if (A.Io() > A.height) {
                    return DayPilot.sw(A.nav.scroll) || 1;
                }
                return 0;
            } return DayPilot.sw(A.nav.scroll); }, this.nl = function () { var e = this.nav.top.clientWidth, t = this.cl(), n = this.ne(), i = this.Io(), a = "Auto" === A.heightSpec, r = 0; return i > n && !a && (r = DayPilot.swa()), e - t - 2 - r; }, this.fr = function () { var e = "Top" === A.timeHeaderPosition, t = c(); t.style.overflow = "hidden", t.style.display = "block", e ? (t.style.position = "absolute", t.style.top = "0px") : t.style.position = "relative", t.style.width = "100%", t.style.height = this.fl() + "px", t.style.overflow = "hidden", t.onmousemove = function () { A.Ka(), A.cellBubble && A.cellBubble.delayedHide(); }, t.className = A.K("_timeheader_scroll"), this.ur(t), this.divTimeScroll = t; var n = c(); return n.style.width = this._k() + 5e3 + "px", this.divNorth = n, t.appendChild(n), t; }, this.ne = function () { var e = 0, t = A.heightSpec; return "Fixed" === t || "Parent100Pct" === t ? this.height ? this.height : 0 : (e = A.Io(), ("Max" === t || "Max100Pct" === t) && e > A.height ? A.height : e); }, this.wr = null, this.xr = 0, this.yr = 0, this.zr = 0, this.ll = function () { if ("function" == typeof A.onHeightChanged || "function" == typeof A.onDimensionsChanged) {
                A.wr && clearTimeout(A.wr);
                var e = function () { var e = A.nav.top.offsetHeight, t = A.xr; A.xr = e; var n = A.nav.top.offsetWidth, i = A.yr; A.yr = n; var a = A.cl(), r = A.zr; if (A.zr = a, "function" == typeof A.onHeightChanged && e !== t) {
                    var o = {};
                    o.oldHeight = t, o.newHeight = e, A.onHeightChanged(o);
                } if ("function" == typeof A.onDimensionsChanged && (e !== t || n !== i || a !== r)) {
                    var o = {};
                    o.oldHeight = t, o.newHeight = e, o.oldWidth = i, o.newWidth = n, o.oldRowHeaderWidth = r, o.newRowHeaderWidth = a, A.onDimensionsChanged(o);
                } };
                A.wr = setTimeout(e, 100);
            } }, this.Io = function () { var e; return this.ek !== -1 ? (e = this.ek, this.ek > 0 && "auto" === A.nav.scroll.style.overflowX && (e += DayPilot.sh(A.nav.scroll))) : e = this.rowlist.length * this.oa.rn(), e += A.Lk.bottom.height; }, this.Ka = function () { A.Ar && (this.La(), this.Ma(), this.Br(), this.up(), this.Fo(), A.cellBubble && A.cellBubble.hideOnMouseOut(), A.bubble && A.bubble.hideOnMouseOut(), A.groupBubble && A.groupBubble.hideOnMouseOut(), A.Ar = !1); }, this.Lk = {}, this.Lk.top = {}, this.Lk.top.height = 0, this.Lk.top.rowlist = [], this.Lk.top.enabled = function () { return this.rowlist && this.rowlist.length > 0; }, Object.defineProperty(A.Lk.top, "top", { get: function () { return A.fl() + 1; } }), Object.defineProperty(A.Lk.top, "right", { get: function () { return A.qr(); } }), Object.defineProperty(A.Lk.top, "heightRes", { get: function () { return this.height; } }), this.Lk.bottom = {}, this.Lk.bottom.height = 0, this.Lk.bottom.rowlist = [], this.Lk.bottom.enabled = function () { return this.rowlist && this.rowlist.length > 0; }, Object.defineProperty(A.Lk.bottom, "top", { get: function () { return A.fl() + A.ne() - this.height - DayPilot.sh(A.nav.scroll) + 1; } }), Object.defineProperty(A.Lk.bottom, "right", { get: function () { return A.qr(); } }), Object.defineProperty(A.Lk.bottom, "heightRes", { get: function () { return this.height + DayPilot.sh(A.nav.scroll); } }), this.Lk.main = {}, this.kr = function () { var e = A.Lk.main; e.divCells = A.divCells, e.divLines = A.divLines, e.divBreaks = A.divBreaks, e.divHeader = A.divHeader, e.divEvents = A.divEvents, e.divShadow = A.divShadow, e.divHover = A.divHover, e.divCrosshair = A.divCrosshair, e.div = A.nav.scroll, Object.defineProperty(A.Lk.main, "rowlist", { get: function () { return A.rowlist; } }), Object.defineProperty(A.Lk.main, "top", { get: function () { return A.fl() + 1; } }), Object.defineProperty(A.Lk.main, "height", { get: function () { return A.ek; } }); }, this.cr = function () { var e = A.Lk.top, t = e.top, n = e.height, i = c(); return i.style.position = "absolute", i.style.left = "0px", i.style.right = "0px", i.style.top = t + "px", i.style.height = n + "px", i.style.overflow = "hidden", i.style.boxSizing = "border-box", i.rows = [], e.divHeader = i, i; }, this.dr = function () { var e = A.Lk.bottom, t = e.top, n = e.height, i = c(); i.style.position = "absolute", i.style.left = "0px", i.style.right = "0px", i.style.top = t + "px", i.style.height = n + "px", i.style.overflow = "hidden", i.style.boxSizing = "border-box"; var a = c(); a.style.position = "absolute", a.style.height = "500px", a.style.top = e.height + "px", a.style.left = "0px", a.style.width = A.xp() + "px", a.className = A.K("_rowheader"), i.appendChild(a), i.rows = []; var r = c(); return i.appendChild(r), i.Hp = r, A.sr(i), e.divHeader = i, e.divSpace = a, i; }, this.hr = function () { var e = A.Lk.top, t = e.top, n = e.height, i = c(); return i.style.position = "absolute", i.style.left = "0px", i.style.right = "0px", i.style.top = t + "px", i.style.height = n + "px", i.style.overflow = "hidden", i.className = A.K("_grid_top"), i.onmousedown = A.Cr, i.onmousemove = A.vp, i.oncontextmenu = A.Dr, A.nav.fixedTop = i, e.div = i, g(A.Er(i), e), i; }, this.ir = function () { var e = A.Lk.bottom, t = e.top, n = e.height, i = c(); return i.style.position = "absolute", i.style.left = "0px", i.style.right = "0px", i.style.bottom = t + "px", i.style.height = n + "px", i.style.overflow = "hidden", i.className = A.K("_grid_bottom"), i.onmousedown = A.Cr, i.onmousemove = A.vp, i.oncontextmenu = A.Dr, A.nav.fixedBottom = i, e.div = i, g(A.Er(i), e), i; }, this.Er = function (e) { var t = c(); t.style.position = "absolute", e.appendChild(t); var n = c(); n.style.position = "absolute", e.appendChild(n); var i = c(); i.style.position = "absolute", e.appendChild(i); var a = c(); a.style.position = "absolute", e.appendChild(a); var r = c(); r.style.position = "absolute", e.appendChild(r); var o = c(); o.style.position = "absolute", o.style.left = "0px", o.style.width = "100000px", o.style.bottom = "0px", o.style.height = "1px", e.appendChild(o); var s = c(); s.style.position = "absolute", e.appendChild(s); var l = c(); return l.style.position = "absolute", e.appendChild(l), { "divCells": t, "divLines": n, "divBreaks": i, "divEvents": r, "divShadow": l, "divHover": s, "divCrosshair": a }; }, this.kl = function () { var e = A.Lk.top, t = A.Lk.bottom; E(e), E(t), A.divStretch.style.height = A.ek + t.height + "px", A.nav.dividerTop.style.top = e.top + e.height - 1 + "px", A.nav.dividerTop.style.right = e.right + "px", A.Fr(A.nav.dividerTop, e.enabled()), A.nav.dividerBottom.style.top = t.top - 1 + "px", A.nav.dividerBottom.style.right = t.right + "px", A.Fr(A.nav.dividerBottom, t.enabled()); }, this.Fr = function (e, t) { e.style.display = t ? "" : "none"; }, this.vl = function () { var e = A.rowlist; return e = e.concat(A.Lk.top.rowlist), e = e.concat(A.Lk.bottom.rowlist); }, this.Gr = function () { return A.rowlist.length > 0 || A.Lk.top.rowlist.length > 0 || A.Lk.bottom.rowlist.length > 0; }, this.Hr = function () { this.le(), this.Ir(); }, this.gr = function () { var e = c(); if (e.style.overflow = "auto", e.style.overflowX = "auto", e.style.overflowY = "auto", e.style.height = this.ne() + "px", "Top" === A.timeHeaderPosition ? (e.style.top = this.fl() + 1 + "px", e.style.position = "absolute") : e.style.position = "relative", e.style.width = "100%", e.className = this.K("_scrollable"), e.oncontextmenu = function () { return !1; }, this.ur(e), A.overrideWheelScrolling) {
                var t = A.or();
                e.onwheel = function (n) { var i = n.deltaY > 0 ? t : -t; A.nav.scroll.scrollTop = e.scrollTop + i, n.preventDefault(); }, e.onmousewheel = function (n) { var i = n.wheelDelta < 0 ? t : -t; A.nav.scroll.scrollTop = e.scrollTop + i, n.preventDefault(), n.returnValue = !1; };
            } DayPilot.rePassive(e, "wheel", A.jn), this.nav.scroll = e, this.Mk = c(); var n = this.Mk; n.style.MozUserSelect = "none", n.style.KhtmlUserSelect = "none", n.style.webkitUserSelect = "none", n.daypilotMainD = !0, n.calendar = this, n.style.minHeight = "1px", i && (n.style.webkitTransform = "translateZ(0px)"), n.style.position = "absolute"; var a = this._k(); return a > 0 && !isNaN(a) && (n.style.width = a + "px"), n.setAttribute("unselectable", "on"), n.onmousedown = this.Cr, n.onmousemove = this.vp, n.onmouseup = this.Jr, n.oncontextmenu = this.Dr, n.ondblclick = this.Kr, n.className = this.K("_matrix"), this.divStretch = c(), this.divStretch.style.position = "absolute", this.divStretch.style.height = "1px", n.appendChild(this.divStretch), this.divCells = c(), this.divCells.style.position = "absolute", this.divCells.oncontextmenu = this.Dr, n.appendChild(this.divCells), this.divLines = c(), this.divLines.style.position = "absolute", this.divLines.oncontextmenu = this.Dr, n.appendChild(this.divLines), this.divBreaks = c(), this.divBreaks.style.position = "absolute", this.divBreaks.oncontextmenu = this.Dr, n.appendChild(this.divBreaks), this.divSeparators = c(), this.divSeparators.style.position = "absolute", this.divSeparators.oncontextmenu = this.Dr, n.appendChild(this.divSeparators), this.divLinksBelow = c(), this.divLinksBelow.style.position = "absolute", n.appendChild(this.divLinksBelow), this.divCrosshair = c(), this.divCrosshair.style.position = "absolute", this.divCrosshair.ondblclick = this.Kr, this.divCrosshair.onmousedown = this.sf, n.appendChild(this.divCrosshair), this.divRange = c(), this.divRange.style.position = "absolute", this.divRange.oncontextmenu = this.Dr, n.appendChild(this.divRange), this.divEvents = c(), this.divEvents.style.position = "absolute", n.appendChild(this.divEvents), this.divSeparatorsAbove = c(), this.divSeparatorsAbove.style.position = "absolute", this.divSeparatorsAbove.oncontextmenu = this.Dr, n.appendChild(this.divSeparatorsAbove), this.divLinksAbove = c(), this.divLinksAbove.style.position = "absolute", n.appendChild(this.divLinksAbove), this.divLinkShadow = c(), this.divLinkShadow.style.position = "absolute", n.appendChild(this.divLinkShadow), this.divLinkpoints = c(), this.divLinkpoints.style.position = "absolute", n.appendChild(this.divLinkpoints), this.divRectangle = c(), this.divRectangle.style.position = "absolute", n.appendChild(this.divRectangle), this.divHover = c(), this.divHover.style.position = "absolute", n.appendChild(this.divHover), this.divShadow = c(), this.divShadow.style.position = "absolute", n.appendChild(this.divShadow), e.appendChild(n), e; }, A.jn = function (e) { A.Ll(e); }, this.Lr = {};
            var q = this.Lr;
            q.oh = function () { if (!A.nav.overlay) {
                var e = document.createElement("div");
                e.style.position = "absolute", e.style.left = "0px", e.style.right = "0px", e.style.top = "0px", e.style.bottom = "0px", e.className = A.K("_block"), A.nav.top.appendChild(e), A.nav.overlay = e;
            } }, q.hb = function () { q.oh(), A.nav.overlay.style.display = ""; }, q.ai = function () { A.nav.overlay && (A.nav.overlay.style.display = "none"); }, this.sa = function (e) { e = e || {}; var t = e.delay || 0, n = A.ma(e.text || this.loadingLabelText, this.loadingLabelHtml), i = "undefined" != typeof e.block ? e.block : A.blockOnCallBack; A.Mr && window.clearTimeout(A.Mr); var a = function () { (A.loadingLabelVisible || e.text) && (A.nav.loading.innerHTML = n, A.nav.loading.style.display = ""), i && q.hb(); }; 0 === t ? a() : A.Mr = window.setTimeout(a, t); }, this.Ra = function (e) { this.Mr && window.clearTimeout(this.Mr), this.nav.loading.style.display = "none", (e || A.blockOnCallBack) && q.ai(); }, this.loadingStart = function (e) { A.sa(e); }, this.loadingStop = function () { A.Ra(!0); }, this.uiBlock = function () { q.hb(); }, this.uiUnblock = function () { q.ai(); }, this.og = function () { this.startDate = new DayPilot.Date(this.startDate).getDatePart(); }, this.rg = function (e) { var t = c(); t.style.position = "absolute", t.style.top = "-2000px", t.style.left = "-2000px", t.className = this.K(e), d().appendChild(t); var n = t.offsetHeight, i = t.offsetWidth; d().removeChild(t); var a = {}; return a.height = n, a.width = i, a; }, this.mb = function (e) { if (e && (this.autoRefreshEnabled = !0), this.autoRefreshEnabled && !(this.X >= this.autoRefreshMaxCount)) {
                this.za();
                var t = this.autoRefreshInterval;
                if (!t || t < 10)
                    throw new DayPilot.Exception("The minimum autoRefreshInterval is 10 seconds");
                this.autoRefreshTimeout = window.setTimeout(function () { A.Gf(); }, 1e3 * this.autoRefreshInterval);
            } }, this.za = function () { this.autoRefreshTimeout && (window.clearTimeout(this.autoRefreshTimeout), this.autoRefreshTimeout = null); }, this.autoRefreshStart = function (e) { A.mb(e); }, this.autoRefreshPause = function () { A.za(); }, this.Nr = function () { return !(o.oo || o.Il || o.qp || o.po); }, this.Gf = function () { if (A.Nr()) {
                var e = !1;
                if ("function" == typeof this.onAutoRefresh) {
                    var t = {};
                    t.i = this.X, t.preventDefault = function () { this.preventDefault.value = !0; }, A.onAutoRefresh(t), t.preventDefault.value && (e = !0);
                }
                !e && this.M() && this.commandCallBack(this.autoRefreshCommand), this.X++;
            } this.X < this.autoRefreshMaxCount && (this.autoRefreshTimeout = window.setTimeout(function () { A.Gf(); }, 1e3 * this.autoRefreshInterval)); }, this.Jf = function () { o.Kf || (o.Kf = !0, DayPilot.re(document, "mousemove", o.Lf), DayPilot.re(document, "mouseup", o.Mf), DayPilot.re(document, "mousedown", o.Or), DayPilot.re(document, "touchend", o.Of), document.addEventListener("touchmove", o.Nf, { "passive": !1 }), DayPilot.re(window, "keyup", o.Pr)), DayPilot.re(window, "resize", this.zh), DayPilot.re(document, "keydown", this.ln), DayPilot.re(document, "keyup", this.mn); }, this.Qr = function () { this.nav.scroll.root = this, this.nav.scroll.onscroll = this.Ek, A.No = this.nav.scroll.scrollLeft, A.Lo = this.nav.scroll.scrollTop, this.divNorth && (A.Rr = this.divNorth.clientWidth); }, this.ij = function () { if (this.nav.state) {
                var e = {};
                e.scrollX = this.nav.scroll.scrollLeft, e.scrollY = this.nav.scroll.scrollTop;
                var t = A.Xm(e.scrollX, e.scrollY), n = A.Ym(t), i = A.Zm(t);
                e.rangeStart = n.start, e.rangeEnd = n.end, e.resources = i, this.syncResourceTree && (e.tree = this.Ja()), this.nav.state.value = DayPilot.he(JSON.stringify(e));
            } }, this.zk = function () { if (this.separators)
                for (var e = 0; e < this.separators.length; e++)
                    this.fg(e); }, this.Sr = {}, this.Sr.step = 300, this.Sr.delay = 10, this.Sr.mode = "display", this.Sr.layers = !1, this.Qo = function (e) { if (A.ak)
                return void K.Tr(e); for (var t = 0, n = 0; n < e.lines.length; n++) {
                var i = e.lines[n];
                i.height = 0, i.top = t;
                for (var a = 0; a < i.length; a++) {
                    var r = i[a];
                    if (!r.part.top, !0) {
                        r.part.line = n, r.part.height || (r.part.height = e.eventHeight);
                        var o = r.part.jq();
                        o > i.height && (i.height = o), r.part.top = t + e.marginTop;
                        var s = "Above" === A.eventVersionPosition;
                        if (A.eventVersionsEnabled && !x(r.versions).isEmpty()) {
                            var l = r.cache || r.data, d = (l.versions.length, r.part.top);
                            s || (d += r.part.height + A.eventVersionMargin), x(l.versions).forEach(function (e, t) { if (r.versions[t]) {
                                var n = t * (A.eventVersionHeight + A.eventVersionMargin);
                                r.versions[t].top = d + n, s && (r.part.top += A.eventVersionHeight, r.part.top += A.eventVersionMargin);
                            } });
                        }
                        r.part.right = r.part.left + r.part.width, r.part.fullTop = e.top + r.part.top, r.part.fullBottom = r.part.fullTop + r.part.height;
                    }
                }
                t += (i.height || e.eventHeight) * e.eventStackingLineHeight / 100;
            } };
            var K = {};
            K.$n = function (e) { e.evColumns = x(A.itline).map(function (e, t) { return { "events": x() }; }), x(e.events).forEach(function (t) { var n = t.start(), i = A.Gl(n); e.evColumns[i.i].events.push(t); }); }, K.iq = function () { var e = A.bk, t = 0; x(A.rowlist).forEach(function (n) { var i = 0; n.evColumns.forEach(function (t, a) { var r = A.itline[a], o = A.rowMarginTop; t.events.forEach(function (t) { t.part.left = r.left, t.part.width = r.width, t.part.top = o, t.part.height || (e ? t.part.height = K.Ur(t) + Z.Uo() : t.part.height = n.eventHeight), o += t.part.height + A.eventMarginBottom; }), t.height = o, t.height > i && (i = t.height); }), n.maxColumnHeight = i, n.top = t; var a = n.height; n.height = n.getHeight(), i > A.rowMarginTop && (n.height = i + A.rowMarginBottom), a !== n.height && (A.tm = !0), t += n.height; }), A.ek = t; }, K.Ur = function (e) {
                var t = e.client.html(), n = c();
                n.style.position = "absolute", n.style.top = "-2000px", n.style.left = "-2000px", n.style.width = e.part.width + "px", n.className = A.K(V.event);
                var i = c();
                i.className = A.K(V.eventInner), i.innerHTML = t, i.style.position = "static", i.style.overflow = "auto", n.appendChild(i);
                var a = A.divEvents;
                a.appendChild(n);
                var r = n.offsetHeight;
                return a.removeChild(n), r;
            }, K.Tr = function (e) { K.iq(); }, K.Vr = function () { x(A.rowlist).forEach(function (e) { K.Wr(e); }); }, K.ib = function () { K.Vr(), K.Xr(), A.uk(), A.db(); }, K.Xr = function () { if (A.bk) {
                var e = !1;
                x(A.elements.events).forEach(function (t) { var n = t.firstChild, i = n.offsetHeight - n.clientHeight + t.offsetHeight - t.clientHeight, a = n.scrollHeight + i, r = t.event.part.height; t.event.part.height = a, r !== a && (e = !0); }), e && (A.Aa(), K.iq(), K.Vr(), A.vk(), A.yk());
            } }, K.Wr = function (e) { e.evColumns.forEach(function (e, t) { e.events.forEach(function (e) { A.$d(e); }); }); }, this.bm = null, this.ib = function (e) { if (!A.Z) {
                if (A.ak)
                    return void K.ib();
                var t = this.Sr.step;
                this.Sr.layers;
                "display" === this.Sr.mode ? this.divEvents.style.display = "none" : "visibility" === this.Sr.mode && (this.divEvents.style.visibility = "hidden"), this.divEvents.setAttribute("role", "region"), this.divEvents.setAttribute("aria-label", "scheduler events");
                var n = "Progressive" === this.dynamicEventRendering, i = this.fa(), a = i.pixels.top, r = i.pixels.bottom, o = A.allowMultiMove || A.allowMultiResize, s = A.rowlist.filter(function (e) { var t = e.top - A.dynamicEventRenderingMargin, i = t + e.height + 2 * A.dynamicEventRenderingMargin; return !(n && !o && (r <= t || a >= i)); });
                A.Lk.top.enabled() && (s = s.concat(A.Lk.top.rowlist)), A.Lk.bottom.enabled() && (s = s.concat(A.Lk.bottom.rowlist)), s.forEach(function (n) { A.Qo(n); for (var i = 0; i < n.lines.length; i++)
                    for (var a = n.lines[i], r = 0; r < a.length; r++) {
                        var o = a[r], s = A.$d(o);
                        if (e && s && (t--, t <= 0))
                            return A.divEvents.style.visibility = "", A.divEvents.style.display = "", void (A.bm = window.setTimeout(function () { A.ib(e); }, A.Sr.delay));
                    } }), this.divEvents.style.display = "", x(A.multiselect.hc).isEmpty() || A.multiselect.redraw(), this.Uk(), B.ym(), this.Xn();
            } }, this.vm = function (e, t) { var n = A.nn(t), i = n.rowlist[e]; if (A.ak)
                return void K.Wr(i); this.Mk.insertBefore(this.divEvents, this.divSeparatorsAbove), A.V.jk.push(this.divEvents), this.Qo(i); for (var a = 0; a < i.lines.length; a++)
                for (var r = i.lines[a], o = 0; o < r.length; o++) {
                    var s = r[o];
                    this.$d(s);
                } this.divEvents.style.display = ""; }, this.Yr = function () { var e = A.V.jk, t = []; e.forEach(function (e) { 0 === e.childNodes.length ? e.remove() : t.push(e); }), A.V.jk = t; }, this.Aa = function () { if (this.elements.events)
                for (var e = this.elements.events.length, t = 0; t < e; t++) {
                    var n = this.elements.events[t];
                    this.Yd(n);
                } this.elements.events = []; }, this.um = function (e, t) { if (t = t || "main", this.elements.events) {
                for (var n = this.elements.events.length, i = [], a = 0; a < n; a++) {
                    var r = this.elements.events[a], o = r.event;
                    o.part.dayIndex === e && o.part.grid === t && (this.Yd(r), i.push(a));
                }
                for (var a = i.length - 1; a >= 0; a--)
                    this.elements.events.splice(i[a], 1);
            } }, this.Yd = function (e) { var t = e.domArgs; if (e.domArgs = null, t && "function" == typeof A.onDomRemoveEvent && A.onDomRemoveEvent(t), t && "function" == typeof A.onBeforeEventDomRemove && A.onBeforeEventDomRemove(t), t && "function" == typeof A.onBeforeEventDomAdd && A.F.reactDOM) {
                var n = t && t.Wd;
                if (n) {
                    if (b(t.element)) {
                        if (!A.F.reactDOM)
                            throw new DayPilot.Exception("Can't reach ReactDOM");
                        A.F.N(n);
                    }
                }
            } e.parentNode && e.parentNode.removeChild(e), e.onclick = null, e.oncontextmenu = null, e.onmouseover = null, e.onmouseout = null, e.onmousemove = null, e.onmousedown = null, e.ondblclick = null, e.event && (e.event.rendered = null, e.event = null), e.related && C(e.related); }, this.Zr = function (e) { e.event && (e.event.rendered = !1), e.onclick = null, e.onmousedown = null, e.event = null, e.parentNode && e.parentNode.removeChild(e); }, this.$r = function () { if ("Progressive" === this.dynamicEventRendering) {
                if (A.dynamicEventRenderingCacheSweeping) {
                    var e = A.dynamicEventRenderingCacheSize || 0;
                    this.divEvents.style.display = "none";
                    for (var t = [], n = 0, i = this.elements.events.length, a = i - 1; a >= 0; a--) {
                        var r = this.elements.events[a];
                        this._r(r.event) ? e > 0 ? (e--, t.unshift(r)) : (this.Yd(r), n++) : t.unshift(r);
                    }
                    this.elements.events = t, this.divEvents.style.display = "";
                }
            } }, this.as = function (e) { for (var t = [], n = 0, i = this.fa(), a = this.elements.cells.length, r = a - 1; r >= 0; r--) {
                var o = this.elements.cells[r];
                i.xStart < o.coords.x && o.coords.x <= i.xEnd && i.yStart < o.coords.y && o.coords.y <= i.yEnd ? t.unshift(o) : e > 0 ? (e--, t.unshift(o)) : (this.co(o), n++);
            } }, this.co = function (e) { if (e && e.coords) {
                var t = e.coords.x, n = e.coords.y, i = e.coords.grid;
                !function () { var t = e.domArgs; if (e.domArgs = null, t && "function" == typeof A.onBeforeCellDomRemove && A.onBeforeCellDomRemove(t), t && "function" == typeof A.onBeforeCellDomAdd && A.F.reactDOM) {
                    var n = t && t.Wd;
                    if (n) {
                        if (b(t.element)) {
                            if (!A.F.reactDOM)
                                throw new DayPilot.Exception("Can't reach ReactDOM");
                            A.F.N(n);
                        }
                    }
                } }(), DayPilot.rfa(A.elements.cells, e), C(e), A.V.cells[i + "_" + t + "_" + n] = null;
            } }, this.wk = function () { if (this.elements.separators)
                for (var e = 0; e < this.elements.separators.length; e++) {
                    var t = this.elements.separators[e];
                    C(t);
                } this.elements.separators = []; }, this.bs = function () { var e = "Progressive" === this.dynamicEventRendering; if (!this.nav.scroll)
                return !1; for (var t = this.nav.scroll.scrollTop, n = t + this.nav.scroll.clientHeight, i = 0; i < this.rowlist.length; i++) {
                var a = this.rowlist[i], r = a.top, o = a.top + a.height;
                if (!e || !(n <= r || t >= o))
                    for (var s = 0; s < a.lines.length; s++)
                        for (var l = a.lines[s], d = 0; d < l.length; d++) {
                            var c = l[d];
                            if (this.cs(c))
                                return !0;
                        }
            } return !1; }, this.cs = function (e) { if (e.rendered)
                return !1; var t = "Progressive" === this.dynamicEventRendering, n = this.nav.scroll.scrollLeft, i = n + this.nav.scroll.clientWidth, a = e.part.left, r = e.part.left + e.part.width; return !t || !(i <= a || n >= r); }, this._r = function (e) { if (!e.rendered)
                return !0; var t = this.fa(), n = t.pixels.top, i = t.pixels.bottom, a = t.pixels.left - this.dynamicEventRenderingMargin, r = t.pixels.right + this.dynamicEventRenderingMargin, o = e.part.left, s = e.part.right, l = e.part.fullTop, d = e.part.fullBottom; return r <= o || a >= s || (i <= l || n >= d); }, this.hq = x(), this.es = function (e) { if (e.rendered)
                return !1; var t = e.row; if (t.hidden)
                return !1; var n = e.min, i = e.max - e.min, a = A.eventHeight, r = e.row.top; "number" == typeof t.forcedHeight && (a = Math.min(t.forcedHeight, A.eventHeight)); var o = c(); o.style.position = "absolute", o.style.left = n + "px", o.style.top = r + "px", o.style.width = i + "px", o.style.height = a + "px", o.className = A.K("_event_group"), o.style.cursor = "pointer"; var s = {}; s.group = {}, s.group.count = e.events.length, s.group.events = x(e.events, !0), s.group.html = "&#x1F7A7; " + e.events.length + " events", s.group.bubbleHtml = null, "function" == typeof A.onBeforeGroupRender && A.onBeforeGroupRender(s); var l = c(); return l.innerHTML = s.group.html, o.appendChild(l), o.onmousedown = function (e) { e.cancelBubble = !0; }, o.onclick = function (e) { var n = o.event; n.expanded = !0, A.Zr(o); var i = D(A.elements.events, o); i !== -1 && A.elements.events.splice(i, 1); var a = A.hq; x(n.events).forEach(function (e) { a.push(e.id()); }), "undefined" != typeof DayPilot.Bubble && (DayPilot.Bubble.hideActive(), DayPilot.Bubble.cancelShowing()), A.Sl(), A.Tl([t]), A.db(), A.ib(), e.cancelBubble = !0; }, o.onmousemove = function (t) { if (A.groupBubble) {
                var n = {};
                n.calendar = A, n.type = "Group", n.object = { "events": x(e.events, !0) }, n.staticHTML = s.group.bubbleHtml, n.div = o, n.toJSON = function () { var e = {}; return e.uid = A.uniqueID, e.type = "Group", e.object = n.object, e; }, A.groupBubble.showGroup(n);
            } }, o.onmouseout = function (e) { A.groupBubble && A.groupBubble.hideOnMouseOut(); }, e.part = {}, e.part.left = n, e.part.width = i, e.part.height = A.eventHeight, e.part.dayIndex = D(A.rowlist, e.row), e.part.top = 0, e.part.isBlock = !0, e.part.grid = e.row.grid, e.client = {}, e.client.html = function () { return s.group.html; }, e.data = {}, o.event = e, this.elements.events.push(o), this.divEvents.appendChild(o), e.rendered = !0, !0; }, this.$d = function (e, t) { t = t || {}; var n = t.forced; if (e.rendered)
                return !1; if (A.groupConcurrentEvents) {
                var i = e.part.block;
                if (i.events.length > 1 && !i.expanded)
                    return A.es(i);
            } var a = "Progressive" === this.dynamicEventRendering, r = e.part.dayIndex, o = e.part.grid || "main", s = A.Lk[o], l = s.divEvents, d = s.rowlist, u = d[r]; if (u.hidden)
                return !1; var h = u.top, v = this.fa(), m = v.pixels.left - this.dynamicEventRenderingMargin, g = v.pixels.right + this.dynamicEventRenderingMargin, y = v.pixels.top, w = v.pixels.bottom, k = e.part.left, C = e.part.left + e.part.width, D = e.part.top + h, S = D + e.part.height, _ = A.multiselect.Rc(e), E = g <= k || m >= C, T = "main" === o && (w <= D || y >= S); if (!n && !_ && a && (E || T))
                return !1; var H = "Milestone" === e.data.type, M = e.part.width, R = e.part.height, B = e.cache || e.data; M = p(0, M), R = p(0, R); var N = c(); if (N.related = [], function (t) { A.eventVersionsEnabled && x(B.versions).forEach(function (n, i) { if (n) {
                var a = e.versions[i];
                if (a) {
                    var r = c();
                    r.style.position = "absolute", r.style.overflow = "hidden", r.style.left = a.left + "px", r.style.top = h + a.top + "px", r.style.width = a.width + "px", r.style.height = A.eventVersionHeight + "px", r.className = A.K(V.event) + " " + A.K("_event_previous") + " " + A.K("_event_version"), r.onmousedown = function (e) { e.preventDefault(), e.stopPropagation(); }, n.toolTip && (r.title = n.toolTip), n.cssClass && f(r, n.cssClass);
                    var o = c();
                    o.setAttribute("unselectable", "on"), o.className = A.K(V.eventInner), o.innerHTML = A.ma(n.text, n.html), n.backColor && (o.style.background = n.backColor), n.fontColor && (o.style.color = n.fontColor), n.borderColor && (o.style.borderColor = n.borderColor), n.backImage && (o.style.backgroundImage = "url(" + n.backImage + ")", n.backRepeat && (o.style.backgroundRepeat = n.backRepeat)), r.appendChild(o), a.continueLeft && !H && f(r, A.K("_event_continueleft")), a.continueRight && !H && f(r, A.K("_event_continueright"));
                    var s = A.durationBarVisible && !n.barHidden, d = a.width;
                    if (s && d > 0) {
                        var u = 100 * a.barLeft / d, v = Math.ceil(100 * a.barWidth / d);
                        "PercentComplete" === A.durationBarMode && (u = 0, v = n.complete || 0);
                        var p = c();
                        p.setAttribute("unselectable", "on"), p.className = A.K(V.eventBar), p.style.position = "absolute", n.barBackColor && (p.style.backgroundColor = n.barBackColor);
                        var m = c();
                        m.setAttribute("unselectable", "on"), m.className = A.K(V.eventBarInner), m.style.left = u + "%", 0 < v && v <= 1 ? m.style.width = "1px" : m.style.width = v + "%", n.barColor && (m.style.backgroundColor = n.barColor), n.barImageUrl && (m.style.backgroundImage = "url(" + n.barImageUrl + ")"), p.appendChild(m), r.appendChild(p);
                    }
                    if (n.htmlLeft) {
                        var g = A.eventHtmlLeftMargin, b = c();
                        b.style.position = "absolute", b.style.right = -(a.left - g) + "px", b.style.top = h + a.top + "px", b.style.height = A.eventVersionHeight + "px", b.style.boxSizing = "border-box", b.innerHTML = n.htmlLeft, b.className = A.K("_event_left"), b.type = "divLeft", b.versionPart = a, t.related.push(b), l.appendChild(b);
                    }
                    if (n.htmlRight) {
                        var g = A.eventHtmlRightMargin, y = c();
                        y.style.position = "absolute", y.style.left = a.left + a.width + g + "px", y.style.top = h + a.top + "px", y.style.height = A.eventVersionHeight + "px", y.style.boxSizing = "border-box", y.innerHTML = n.htmlRight, y.className = A.K("_event_right"), y.type = "divRight", y.versionPart = a, t.related.push(y), l.appendChild(y);
                    }
                    r.versionPart = a, r.type = "version";
                    var w = DayPilot.Areas.resolvePosition(n.areas, A, a.left, a.width);
                    DayPilot.Areas.attach(r, n, { "areas": w }), t.related.push(r), l.appendChild(r);
                }
            } }); }(N), B.htmlLeft) {
                var P = A.eventHtmlLeftMargin, I = c();
                I.style.position = "absolute", I.style.right = -(e.part.left - P) + "px", I.style.top = h + e.part.top + "px", I.style.height = A.eventHeight + "px", I.style.boxSizing = "border-box", I.innerHTML = B.htmlLeft, I.className = A.K("_event_left"), I.type = "divLeft", N.related.push(I), l.appendChild(I);
            } if (B.htmlRight) {
                var P = A.eventHtmlRightMargin, L = c();
                L.style.position = "absolute", L.style.left = e.part.left + e.part.width + P + "px", L.style.top = h + e.part.top + "px", L.style.height = A.eventHeight + "px", L.style.boxSizing = "border-box", L.innerHTML = B.htmlRight, L.className = A.K("_event_right"), L.type = "divRight", N.related.push(L), l.appendChild(L);
            } var y = h + e.part.top; if (A.treeAnimation) {
                var z = "number" == typeof u.forcedHeight ? u.forcedHeight : u.height;
                e.part.top + e.part.height > z && (R = Math.max(0, z - e.part.top));
            } N.style.position = "absolute", N.style.left = e.part.left + A.eventMarginLeft + "px", N.style.top = h + e.part.top + "px", N.style.width = M - A.eventMarginLeft - A.eventMarginRight + "px", N.style.height = R + "px", A.eventTextWrappingEnabled || (N.style.whiteSpace = "nowrap"), N.style.overflow = "hidden", N.className = this.K(V.event), H && f(N, A.K("_task_milestone")), "Group" === e.data.type && (f(N, A.K("_task_parent")), f(N, A.K("_task_group"))), B.cssClass && f(N, B.cssClass); "number" == typeof e.part.line && f(N, this.K(V.eventLine + e.part.line)), N.setAttribute("unselectable", "on"), this.showToolTip && !this.bubble && (N.title = e.client.toolTip() || ""), N.onmousemove = this._d, N.onmouseout = this.ae, N.onmousedown = this.be, N.onmouseup = this.fs, DayPilot.reNonPassive(N, "touchstart", Y.hs), DayPilot.rePassive(N, "touchmove", Y.ks), DayPilot.rePassive(N, "touchend", Y.ls), e.client.clickEnabled() && (N.onclick = this.Fi), e.client.doubleClickEnabled() && (N.ondblclick = this.Eb), N.oncontextmenu = function (e) { A.allowDefaultContextMenu || e.preventDefault(); }, "undefined" != typeof B.ariaLabel ? N.setAttribute("aria-label", B.ariaLabel) : N.setAttribute("aria-label", B.text), N.setAttribute("tabindex", "-1"); var O = c(); O.setAttribute("unselectable", "on"), O.className = A.K(V.eventInner), B.backColor && (O.style.background = B.backColor), B.fontColor && (O.style.color = B.fontColor), "darker" === B.borderColor && B.backColor ? O.style.borderColor = DayPilot.ColorUtil.darker(B.backColor, 2) : O.style.borderColor = B.borderColor, B.backImage && (O.style.backgroundImage = "url(" + B.backImage + ")", B.backRepeat && (O.style.backgroundRepeat = B.backRepeat)), N.appendChild(O); var U = e.start().getTime() === e.part.start.getTime(), j = e.rawend().getTime() === e.part.end.getTime(); if (U || H || f(N, this.K("_event_continueleft")), j || H || f(N, this.K("_event_continueright")), e.client.barVisible() && M > 0 && !H) {
                var W = 100 * e.part.barLeft / M, F = Math.ceil(100 * e.part.barWidth / M);
                "PercentComplete" === this.durationBarMode && (W = 0, F = B.complete || 0), A.durationBarHeight && (O.style.paddingTop = A.durationBarHeight + "px");
                var q = c();
                q.setAttribute("unselectable", "on"), q.className = this.K(V.eventBar), q.style.position = "absolute", A.durationBarHeight && (q.style.height = A.durationBarHeight + "px"), B.barBackColor && (q.style.backgroundColor = B.barBackColor);
                var K = c();
                K.setAttribute("unselectable", "on"), K.className = this.K(V.eventBarInner), K.style.left = W + "%", A.durationBarHeight && (K.style.height = A.durationBarHeight + "px"), 0 < F && F <= 1 ? K.style.width = "1px" : K.style.width = F + "%", B.barColor && (K.style.backgroundColor = B.barColor), B.barImageUrl && (K.style.backgroundImage = "url(" + B.barImageUrl + ")"), q.appendChild(K), N.appendChild(q);
            } if (N.row = r, B.areas) {
                var J = DayPilot.Areas.resolvePosition(B.areas, A, e.part.left, e.part.width);
                J = J.filter(function (e) { return DayPilot.Areas.isVisible(e); }), J.forEach(function (t) { var n = DayPilot.Areas.createArea(N, e, t); N.appendChild(n); });
            } if (N.event = e, _ && (A.multiselect.add(N.event, !0), A.multiselect.bd(N)), function () { if ("function" != typeof A.onBeforeEventDomAdd && "function" != typeof A.onBeforeEventDomRemove)
                return void (H || (O.innerHTML = e.client.innerHTML())); var t = {}; if (t.control = A, t.e = e, t.element = null, N.domArgs = t, "function" == typeof A.onDomAddEvent && A.onDomAddEvent(t), "function" == typeof A.onBeforeEventDomAdd && A.onBeforeEventDomAdd(t), t.element) {
                var n = O;
                if (n) {
                    t.Wd = n;
                    if (b(t.element)) {
                        if (!A.F.reactDOM)
                            throw new DayPilot.Exception("Can't reach ReactDOM");
                        A.F.E(t.element, n);
                    }
                    else
                        n.appendChild(t.element);
                }
            }
            else
                H || (O.innerHTML = e.client.innerHTML()); }(), this.elements.events.push(N), l.appendChild(N), e.rendered = !0, A.nb()) {
                if ("function" == typeof A.onAfterEventRender) {
                    var G = {};
                    G.e = N.event, G.div = N, A.onAfterEventRender(G);
                }
            }
            else
                A.afterEventRender && A.afterEventRender(N.event, N); return !0; }, this.ma = function (e, t) { return A.oa.na() ? DayPilot.Util.escapeTextHtml(e, t) : m(t) ? m(e) ? "" : e : t; }, this.nb = function () { return 2 === A.api; }, this.wm = function () { for (var e = 0; e < this.elements.events.length; e++) {
                var t = this.elements.events[e], n = t.event, i = n.part.dayIndex, a = A.nn(n.part.grid), r = a.rowlist[i], o = r.top, s = o + n.part.top, l = "number" == typeof r.forcedHeight ? r.forcedHeight : r.height, d = n.part.height, c = !1;
                n.part.top + n.part.height > l && (d = Math.max(0, l - n.part.top), c = !0), t.style.top = s + "px", t.style.height = d + "px", x(t.related).filter(function (e) { return !!e.versionPart; }).forEach(function (e) { var t = e.versionPart; e.style.top = o + t.top + "px"; }), x(t.related).filter(function (e) { return !e.versionPart && ("divLeft" === e.type || "divRight" === e.type); }).forEach(function (e) { e.style.top = s + "px"; });
            } }, this.lg = function (e) { if (!e)
                return null; for (var t = 0; t < A.elements.events.length; t++) {
                var n = A.elements.events[t];
                if (A.Zc(n.event, e))
                    return n;
            } return null; }, this.Pn = function (e) { var t = A.events.Hn(e.data); if (!t)
                return null; var n = A.rowlist[t.part.dayIndex]; return A.Qo(n), A.$d(t, { "forced": !0 }), A.lg(t); }, this.ae = function (e) { var t = this; DayPilot.Areas.hideAreas(t, e), t.active || (h(t, A.K("_event_hover")), A.ms(t), _.source || B.Fn(), A.bubble && "Bubble" === A.eventHoverHandling && A.bubble.hideOnMouseOut()); }, this.ns = function (e) { var t = {}; t.div = e, t.e = e.event, "function" == typeof this.onEventMouseOver && this.onEventMouseOver(t), "function" == typeof this.onEventMouseEnter && this.onEventMouseEnter(t); }, this.ms = function (e) { var t = {}; t.div = e, t.e = e.event, "function" == typeof this.onEventMouseOut && this.onEventMouseOut(t), "function" == typeof this.onEventMouseLeave && this.onEventMouseLeave(t); }, this.os = function (e) { var t = e.row, n = {}; n.div = e, n.row = A.Im(t), "function" == typeof this.onRowMouseOver && this.onRowMouseOver(n); }, this.ps = function (e) { var t = e.row, n = {}; n.div = e, n.row = A.Im(t), "function" == typeof this.onRowMouseOut && this.onRowMouseOut(n); }, this._d = function (e) { A.cellBubble && A.cellBubble.delayedHide(); for (var t = this; t && !t.event;)
                t = t.parentNode; var n = t.event; A.qs(t, e); var i = t.event.cache ? t.event.cache.deleteDisabled : t.event.data.deleteDisabled; if (!t.active) {
                var a = [];
                if ("Disabled" !== A.eventDeleteHandling && !i) {
                    var r = A.durationBarVisible ? Z.Uo() : 0;
                    a.push({ "action": "JavaScript", "v": "Hover", "w": 17, "h": 17, "top": r + 2, "right": 2, "css": A.K(V.eventDelete), "js": function (e) { A.Mb(e); } });
                }
                var o = t.event.cache ? t.event.cache.areas : t.event.data.areas;
                o && o.length > 0 && (o = DayPilot.Areas.resolvePosition(o, A, n.part.left, n.part.width), a = a.concat(o)), DayPilot.Areas.showAreas(t, t.event, null, a), f(t, A.K("_event_hover")), A.ns(t);
            } "Disabled" === A.linkCreateHandling || _.source || (B.An(), B.jm(), A.Nr() && B.yn(t)), A.Ll(e), A.coords.insideEvent = t.event; }, this.Il = {}, this.fs = function (e) { var t = A.Il; if (y(e).right)
                return void A.Fb.call(this, e); if (A.ionicEventClickFix) {
                var n = t.hf;
                if (n) {
                    var i = DayPilot.mc(e);
                    n.x === i.x && n.y === i.y && (A.Fi.call(this, e), e.preventDefault(), e.stopPropagation());
                }
            } }, this.be = function (e) { A.Ka(), "undefined" != typeof DayPilot.Bubble && (DayPilot.Bubble.hideActive(), DayPilot.Bubble.cancelShowing()), A.Ll(e); var t = y(e); if (e.preventDefault(), e.stopPropagation(), t.left) {
                var n = e.shiftKey;
                if ("Disabled" !== Z.Ml() && n)
                    return J.start(), !1;
                "w-resize" === this.style.cursor || "e-resize" === this.style.cursor ? (o.Hl = !0, o.oo = this, o.Ho = this.event, o.hf = DayPilot.mc(e), d().style.cursor = this.style.cursor, B.jm()) : ("move" === this.style.cursor || "Full" === A.moveBy && this.event.client.moveEnabled()) && A.Ad(this, e);
            } DayPilot.Menu && DayPilot.Menu.active && (DayPilot.Menu.active.hide(), DayPilot.Menu.active = null); }, this.Ad = function (e, t) { var n = A.Il; A.Ll(t), n.rs = !0, n.Il = e, n.jo = e.event, n.hf = DayPilot.mc(t), n.io = DayPilot.mo3(e, t).x, n.no = A.getDate(A.coords.x, !0), B.jm(); }, this.ce = {};
            var Y = A.ce;
            "undefined" == typeof w.touch && (w.touch = {}), w.touch.active = !1, w.touch.start = !1, Y.Jl = [], Y.relativeCoords = function (e) { return Y.ag(e); }, Y.startResizing = function (e, t) { Y.Ld(e, t); }, Y.startMoving = function (e, t) { Y.Ad(e, t); }, Y.hs = function (e) { if (!w.touch.active && !w.touch.start) {
                DayPilot.Menu && DayPilot.Menu.touchPosition(e), e.stopPropagation(), Y.ts(), w.touch.start = !0, w.touch.active = !1;
                var t = this;
                A.coords = Y.ag(e);
                var i = A.tapAndHoldTimeout;
                Y.Jl.push(window.setTimeout(function () { w.touch.active = !0, w.touch.start = !1, e.preventDefault(); var i = t.event; switch (A.eventTapAndHoldHandling) {
                    case "Move":
                        if (i.client.moveEnabled()) {
                            var a = n(e);
                            Y.Ad(t, a);
                        }
                        break;
                    case "ContextMenu":
                        DayPilot.Menu && DayPilot.Menu.touchPosition(e);
                        var r = i.client.contextMenu();
                        r ? r.show(i) : A.contextMenu && A.contextMenu.show(i);
                } }, i));
            } }, Y.ks = function (e) { Y.ts(), w.touch.start = !1; }, Y.ls = function (e) { if (!DayPilot.Util.isMouseEvent(e)) {
                if (Y.ts(), w.touch.start) {
                    w.touch.start = !1, e.preventDefault(), e.stopPropagation();
                    var t = this;
                    window.setTimeout(function () { A.Bb(t, e); });
                }
                window.setTimeout(function () { w.touch.start = !1, w.touch.active = !1; }, 500);
            } }, Y.ye = function (e) { if (!(w.touch.active || w.touch.start || e.touches.length > 1 || "Disabled" === A.timeRangeSelectedHandling)) {
                Y.ts(), w.touch.start = !0, w.touch.active = !1;
                var t = A.tapAndHoldTimeout;
                Y.Jl.push(window.setTimeout(function () { w.touch.active = !0, w.touch.start = !1, e.preventDefault(), A.coords = Y.ag(e), Y.po = A.vs(); }, t));
                A.coords = Y.ag(e);
            } }, Y.ze = function (e) { if (Y.ts(), w.touch.start = !1, o.oo)
                return e.preventDefault(), void Y.$f(); if (w.touch.active) {
                if (e.preventDefault(), A.coords = Y.ag(e), o.Il)
                    return void Y._f();
                if (Y.po) {
                    var t = Y.po;
                    t.end = { x: Math.floor(A.coords.x / A.cellWidth), "time": A.getDate(A.coords.x, !0) }, A.Em(t);
                }
            } }, Y.debug = function (e) { }, Y.Ae = function (e) { Y.ts(); if (w.touch.active) {
                if (o.Il) {
                    e.preventDefault();
                    var t = o.jo;
                    if (A !== o.lp.calendar)
                        return;
                    var n = o.lp.start, i = o.lp.end, a = "Days" !== A.viewType ? o.lp.row.id : null, r = o.qp && t.part.external, s = o.lp.overlapping, l = !o.lp.allowed;
                    if (h(o.Il, A.K(A.ws.eventMovingSource)), C(o.lp), A.up(), o.lp.calendar = null, d().style.cursor = "", o.Il = null, o.jo = null, o.lp = null, A.jp.clear(), s || l || A.jp.forbidden || A.jp.invalid)
                        return;
                    A.Wb(t, n, i, a, r);
                }
                if (Y.po) {
                    var c = Y.po;
                    Y.po = null;
                    var u = A.elements.range2;
                    u && u.overlapping ? A.clearSelection() : A.Am(c);
                }
            }
            else if (w.touch.start) {
                if (A.coords.x < A.getScrollX())
                    return;
                var c = A.vs();
                A.Em(c);
                var u = A.elements.range2;
                u && u.overlapping ? A.clearSelection() : A.Am(c);
            } window.setTimeout(function () { w.touch.start = !1, w.touch.active = !1; }, 500); }, Y.ts = function () { for (var e = 0; e < Y.Jl.length; e++)
                clearTimeout(Y.Jl[e]); Y.Jl = []; }, Y.ag = function (e) { function t(e, t, n) { var i = DayPilot.abs(n); return { x: e - i.x, y: t - i.y, toString: function () { return "x: " + this.x + ", y:" + this.y; } }; } var n = A.Mk, i = e.touches ? e.touches[0] : e, a = i.pageX, r = i.pageY, o = t(a, r, n); if (o.grid = "main", A.Lk.top.enabled()) {
                var s = A.Lk.top, l = t(a, r, s.divCells);
                l.y > 0 && l.y <= s.height && (o = l, o.grid = "top");
            } if (A.Lk.bottom.enabled()) {
                var d = A.Lk.bottom, c = t(a, r, d.divCells);
                c.y > 0 && c.y <= s.height && (o = c, o.grid = "bottom");
            } return o; }, Y.Ad = function (e, t) { o.Il = e, o.jo = e.event, o.hf = t; var n = DayPilot.abs(e); o.io = t.x - n.x, o.no = A.getDate(A.coords.x, !0), o.lp = A.ob(e), A.Eo(); }, Y.Ld = function (e, t) { o.oo = e, o.Ho = e.event, o.oo.dpBorder = t, o.Go || (o.Go = A.ob(e)), A.mp(); }, Y.$f = function () { if (!o.Go) {
                var e = o.oo;
                o.Go = A.ob(e);
            } A.mp(); var t = { x: A.coords.x, y: A.coords.y, "grid": A.coords.grid }; A.lf(t); }, Y._f = function () { if (o.lp && o.lp.calendar !== A && A.up(), !o.lp) {
                var e = o.Il;
                o.lp = A.ob(e);
            } o.lp.calendar.Eo(); var t = { x: A.coords.x, y: A.coords.y, "grid": A.coords.grid }; A.lf(t); }, this.qs = function (e, t) { var n = this.eventResizeMargin, i = this.eventMoveMargin, a = e; if ("undefined" != typeof o) {
                var r = DayPilot.mo3(e, t);
                if (r && (A.eventOffset = r, !o.oo && !o.Il)) {
                    var s = a.event.part.start.toString() === a.event.start().toString(), l = a.event.part.end.toString() === a.event.rawend().toString();
                    if ("Top" === A.moveBy && r.y <= i && a.event.client.moveEnabled() && "Disabled" !== A.eventMoveHandling ? e.style.cursor = "move" : ("Top" === A.moveBy || "Full" === A.moveBy) && r.x <= n && a.event.client.resizeEnabled() && "Disabled" !== A.eventResizeHandling ? s ? (e.style.cursor = "w-resize", e.dpBorder = "left") : e.style.cursor = "not-allowed" : "Left" === A.moveBy && r.x <= i && a.event.client.moveEnabled() && "Disabled" !== A.eventMoveHandling ? e.style.cursor = "move" : e.offsetWidth - r.x <= n && a.event.client.resizeEnabled() && "Disabled" !== A.eventResizeHandling ? l ? (e.style.cursor = "e-resize", e.dpBorder = "right") : e.style.cursor = "not-allowed" : o.oo || o.Il || (a.event.client.clickEnabled() && "Disabled" !== A.eventClickHandling ? e.style.cursor = "pointer" : e.style.cursor = "default"), "undefined" != typeof DayPilot.Bubble && A.bubble && "Bubble" === A.eventHoverHandling && ("default" === e.style.cursor || "pointer" === e.style.cursor)) {
                        this.bg && r.x === this.bg.x && r.y === this.bg.y;
                        this.bg = r, A.bubble.showEvent(e.event);
                    }
                }
            } }, this.Mo = function () { return "Days" !== this.viewType ? this.itline.length : Math.floor(1440 / this.cellDuration); }, this.Bm = function (e) { var e = e || o.po || A.Dm; if (!e)
                return null; var t = A.rowlist[e.start.y]; if (!t)
                return null; var n = e.xs ? e.xs : e, i = n.end.time > n.start.time, a = t.id, r = i ? n.start.x : n.end.x, s = i ? n.end.x : n.start.x, l = t.start.getTime() - this.wb().getTime(), d = A.snapToGrid && A.snapToGridTimeRangeSelecting; e.forceSnap && (d = !0); var c, u; d ? (c = this.itline[r].start.addTime(l), u = this.itline[s].end.addTime(l)) : i ? (c = n.start.time, u = n.end.time) : (c = n.end.time, u = n.start.time); var h = new DayPilot.Selection(c, u, a, A); return h.allowed = !e.div || !e.div.overlapping, h; }, this.Mc = function (e) { var t = e.parentNode, n = A.eventEditMinWidth, i = (e.event.text() || "").trim(), a = document.createElement("textarea"); return a.style.position = "absolute", a.style.width = (e.offsetWidth < n ? n : e.offsetWidth - 2) + "px", a.style.height = e.offsetHeight - 2 + "px", a.style.fontFamily = DayPilot.gs(e, "fontFamily") || DayPilot.gs(e, "font-family"), a.style.fontSize = DayPilot.gs(e, "fontSize") || DayPilot.gs(e, "font-size"), a.style.left = e.offsetLeft + "px", a.style.top = e.offsetTop + "px", a.style.border = "1px solid black", a.style.padding = "1px", a.style.marginTop = "0px", a.style.backgroundColor = "white", a.value = i, a.event = e.event, t.appendChild(a), a; }, this.ys = function (e) { var t = H.Aj(); t.sort(function (e, t) { var n = e.event, i = t.event; return n.part.dayIndex !== i.part.dayIndex ? n.part.dayIndex - i.part.dayIndex : n.start() !== i.start() ? n.start().getTime() - i.start().getTime() : i.end().getTime() - n.end().getTime(); }); var n = t.indexOf(e); return n === -1 ? null : n + 1 < t.length ? t[n + 1] : t[0]; }, this.Cb = function (e) { if (e) {
                if (o.Qn && o.Qn.blur(), e.event) {
                    var t = e.event;
                    X.Rn();
                    var n = this.Mc(e);
                    if (o.Qn = n, DayPilot.rePassive(n, DayPilot.touch.start, function (e) { e.stopPropagation(); }), n.onblur = function () { if (n.onblur = null, o.Qn === n && (o.Qn = null), n.parentNode && n.parentNode.removeChild(n), e.event) {
                        var t = (e.event.text(), n.value);
                        A.fc(e.event, t, n.canceling);
                    } }, n.onmousedown = function (e) { e.stopPropagation && e.stopPropagation(); }, n.cancel = function () { o.Qn && (o.Qn.canceling = !0, o.Qn.blur()); }, n.onkeydown = function (i) { if ("function" == typeof A.onEventEditKeyDown) {
                        var a = {};
                        if (a.e = e.event, a.element = n, a.preventDefault = function () { a.preventDefault.value = !0; }, a.submit = function () { n.onblur(); }, a.cancel = function () { o.Qn.cancel(); }, a.originalEvent = i, A.onEventEditKeyDown(a), a.preventDefault.value)
                            return;
                    } var r = o.Qn, s = i.keyCode; if (13 === s && (i.stopPropagation(), this.onblur()), 27 === s)
                        r.cancel();
                    else if (9 === s && A.eventEditTabNext) {
                        var l = A.lg(t), d = A.ys(l);
                        return r && r.cancel(), d && setTimeout(function () { A.Cb(d); }, 0), !1;
                    } }, "function" == typeof A.onAfterEventEditRender) {
                        var i = {};
                        i.element = n, i.e = e.event, A.onAfterEventEditRender(i);
                    }
                    n.select(), n.focus();
                }
            } }, this.zs = {}, this.zs.resource = function () { return "undefined" != typeof DayPilot.Bubble ? new DayPilot.Bubble : { "showResource": function () { }, "hideOnMouseOut": function () { } }; }(), this.zs.cell = function () { return "undefined" != typeof DayPilot.Bubble ? new DayPilot.Bubble : { "showResource": function () { }, "hideOnMouseOut": function () { } }; }(), this.Pp = function (e) { var t = this, n = t.row; if ("undefined" != typeof DayPilot.Bubble) {
                A.cellBubble;
                var i = A.Im(n);
                i.div = t, A.resourceBubble ? A.resourceBubble.showResource(i) : n.bubbleHtml && A.zs.resource.showResource(i);
            } }, this.Np = function (e) { var t = this; t.active || (t.active = !0, A.os(t)); }, this.Op = function (e) { var t = this; delete t.active, A.ps(t); }, this.Qp = function (e) { var t = this; "undefined" != typeof DayPilot.Bubble && A.resourceBubble ? A.resourceBubble.hideOnMouseOut() : A.zs.resource.hideOnMouseOut(); var n = t.firstChild; DayPilot.Areas.hideAreas(n, e), n.data = null; }, this.Rp = function (e) { S.row && (j.cancelClick = !0, setTimeout(function () { j.cancelClick = !1; }, 100)); }, this.sk = function () { if ("None" !== A.timeHeaderPosition && this.timeHeader) {
                this.V.timeHeader = {}, A.elements.timeHeader.length > 0 && (A.gn(), A.elements.timeHeader = []);
                var e = c();
                e.style.position = "relative", this.nav.timeHeader = e;
                for (var t = 0; t < this.timeHeader.length; t++)
                    for (var n = this.timeHeader[t], i = 0; i < n.length; i++)
                        this.As(i, t);
                var a = this.divNorth;
                if (1 === a.childNodes.length)
                    a.replaceChild(e, a.childNodes[0]);
                else {
                    if (DayPilot.browser.ie && a && a.firstChild) {
                        for (var r = [], o = 0; o < a.firstChild.childNodes.length; o++)
                            r.push(a.firstChild.childNodes[o]);
                        C(r);
                    }
                    a.innerHTML = "", a.appendChild(e);
                }
                var s = this._k();
                a.style.width = s + 5e3 + "px", s > 0 && (this.divStretch.style.width = s + "px"), A.Bs();
            } }, this.Ea = function () { if (A.divCorner) {
                var e = A.divCorner && A.divCorner.domArgs;
                if (A.divCorner.domArgs = null, e && ("function" == typeof A.onBeforeCornerDomRemove && A.onBeforeCornerDomRemove(e), "function" == typeof A.onBeforeCornerDomAdd && A.F.reactDOM)) {
                    var t = A.divCorner;
                    if (t) {
                        if (b(e.element)) {
                            if (!A.F.reactDOM)
                                throw new DayPilot.Exception("Can't reach ReactDOM");
                            A.F.N(t);
                        }
                    }
                }
            } }, this.Cl = function (e, t) { var n = null, i = this.oa.sc(), t = t || this.cellGroupBy, a = e.start; e.end; switch (t) {
                case "Minute":
                    n = a.toString("m");
                    break;
                case "Hour":
                    n = "Clock12Hours" === A.oa.rc() ? a.toString("h tt", i) : a.toString("H", i);
                    break;
                case "Day":
                    n = a.toString(i.datePattern);
                    break;
                case "Week":
                    n = 1 === Z.ld() ? a.weekNumberISO() : a.weekNumber();
                    break;
                case "Month":
                    n = a.toString("MMMM yyyy", i);
                    break;
                case "Quarter":
                    n = "Q" + Math.floor(a.getMonth() / 3 + 1);
                    break;
                case "Year":
                    n = a.toString("yyyy");
                    break;
                case "None":
                    n = "";
                    break;
                case "Cell":
                    var r = (e.end.ticks - e.start.ticks) / 6e4;
                    n = this.Cs(a, r);
                    break;
                default: throw new DayPilot.Exception("Invalid groupBy value: " + t);
            } return n; }, this.Cs = function (e, t) { var n = this.oa.sc(), t = t || this.cellDuration; return t < 1 ? e.toString("ss") : t < 60 ? e.toString("mm") : t < 1440 ? "Clock12Hours" === A.oa.rc() ? e.toString("h tt", n) : e.toString("H", n) : t < 10080 ? e.toString("d") : 10080 === t ? 1 === Z.ld() ? e.weekNumberISO() : e.weekNumber() : e.toString("MMMM yyyy", n); }, this.zl = function (e) { var t = this.scale; switch (t) {
                case "Cell": throw new DayPilot.Exception("Invalid scale: Cell");
                case "Manual": throw new DayPilot.Exception("Internal error (addScaleSize in Manual mode)");
                case "CellDuration": return e.addMinutes(this.cellDuration);
                default: return this.Bl(e, t, !0);
            } }, this.Bl = function (e, t, n) { var i, a; if (n) {
                var r = "Days" !== this.viewType ? this.days : 1;
                a = this.startDate.addDays(r), "Manual" === A.scale && (a = A.ud());
            }
            else
                a = A.ud(), "Days" === A.viewType && (a = A.startDate.addDays(1)); var t = t || this.cellGroupBy, o = 60; switch (t) {
                case "Minute":
                    e.getMinutes() + e.getSeconds() + e.getMilliseconds() > 0 && (e = e.getDatePart().addHours(e.getHours()).addMinutes(e.getMinutes())), i = e.addMinutes(1);
                    break;
                case "Hour":
                    e.getHours() + e.getMinutes() + e.getSeconds() + e.getMilliseconds() > 0 && (e = e.getDatePart().addHours(e.getHours())), i = e.addHours(1);
                    break;
                case "Day":
                    i = e.getDatePart().addDays(1);
                    break;
                case "Week":
                    for (i = e.getDatePart().addDays(1); i.dayOfWeek() !== Z.ld();)
                        i = i.addDays(1);
                    break;
                case "Month":
                    e = e.getDatePart(), i = e.addMonths(1), i = i.firstDayOfMonth();
                    for (var s = DayPilot.DateUtil.diff(i, e) / 6e4 % o === 0; !s;)
                        i = i.addHours(1), s = DayPilot.DateUtil.diff(i, e) / 6e4 % o === 0;
                    break;
                case "Quarter":
                    for (e = e.getDatePart(), i = e.addMonths(1), i = i.firstDayOfMonth(); i.getMonth() % 3;)
                        i = i.addMonths(1);
                    for (var s = DayPilot.DateUtil.diff(i, e) / 6e4 % o === 0; !s;)
                        i = i.addHours(1), s = DayPilot.DateUtil.diff(i, e) / 6e4 % o === 0;
                    break;
                case "Year":
                    e = e.getDatePart(), i = e.addYears(1), i = i.firstDayOfYear();
                    for (var s = DayPilot.DateUtil.diff(i, e) / 6e4 % o === 0; !s;)
                        i = i.addHours(1), s = DayPilot.DateUtil.diff(i, e) / 6e4 % o === 0;
                    break;
                case "None":
                    i = a;
                    break;
                case "Cell":
                    var l = this.Gl(e);
                    i = l.current ? l.current.end : l.past ? l.previous.end : l.next.start;
                    break;
                default: throw n ? new DayPilot.Exception("Invalid scale value: " + t) : new DayPilot.Exception("Invalid groupBy value: " + t);
            } return i.getTime() > a.getTime() && (i = a), i; }, this.ws = {}, this.ws.timeheadercol = "_timeheadercol", this.ws.timeheadercolInner = "_timeheadercol_inner", this.ws.resourcedivider = "_resourcedivider", this.ws.eventFloat = "_event_float", this.ws.eventFloatInner = "_event_float_inner", this.ws.event = "_event", this.ws.eventInner = "_event_inner", this.ws.eventBar = "_event_bar", this.ws.eventBarInner = "_event_bar_inner", this.ws.eventDelete = "_event_delete", this.ws.eventLine = "_event_line", this.ws.eventMovingSource = "_event_moving_source";
            var V = this.ws;
            this.As = function (e, t) {
                var n = this.nav.timeHeader, i = this.timeHeader[t][e], a = e === this.timeHeader[t].length - 1, r = t < this.timeHeader.length - 1, o = i.left, s = i.width, l = Q.Vo(t), d = l.top, u = l.height, h = c();
                h.style.position = "absolute", h.style.top = d + "px", h.style.left = o + "px", h.style.width = s + "px", h.style.height = u + "px", i.toolTip && (h.title = i.toolTip), h.setAttribute("aria-hidden", "true"), i.cssClass && f(h, i.cssClass), h.setAttribute("unselectable", "on"), h.style.KhtmlUserSelect = "none", h.style.MozUserSelect = "none", h.style.webkitUserSelect = "none", h.oncontextmenu = function () { return !1; }, h.cell = {}, h.cell.start = i.start, h.cell.end = i.end, h.cell.level = t, h.cell.th = i, h.onclick = this.Wp, h.oncontextmenu = this.Xp, DayPilot.rePassive(h, DayPilot.touch.start, function (e) { e.stopPropagation(); }), h.style.overflow = "hidden", A.timeHeaderTextWrappingEnabled || (h.style.whiteSpace = "nowrap");
                var v = c();
                v.setAttribute("unselectable", "on"), v.innerHTML = A.ma(i.text, i.innerHTML), i.backColor && (v.style.background = i.backColor), i.fontColor && (v.style.color = i.fontColor);
                var p = this.K(V.timeheadercol), m = this.K(V.timeheadercolInner);
                r && (p = this.K("_timeheadergroup"), m = this.K("_timeheadergroup_inner")), f(h, p), f(v, m), f(h, A.K("_timeheader_cell")), f(v, A.K("_timeheader_cell_inner")), a && f(h, A.K("_timeheader_cell_last")), function () { if ("function" == typeof A.onBeforeTimeHeaderDomAdd || "function" == typeof A.onBeforeTimeHeaderDomRemove) {
                    var e = {};
                    if (e.control = A, e.header = {}, e.header.start = i.start, e.header.end = i.end, e.header.level = t, e.element = null, h.domArgs = e, "function" == typeof A.onBeforeTimeHeaderDomAdd) {
                        A.onBeforeTimeHeaderDomAdd(e);
                        var n = e.element;
                        if (n) {
                            v.innerHTML = "";
                            var a = c();
                            v.appendChild(a), e.Wd = a;
                            if (b(n)) {
                                if (!A.F.reactDOM)
                                    throw new DayPilot.Exception("Can't reach ReactDOM");
                                A.F.E(n, a);
                            }
                            else
                                a.appendChild(n);
                        }
                    }
                } }(), h.appendChild(v);
                var g = DayPilot.Areas.resolvePosition(i.areas, A, o, s);
                DayPilot.Areas.attach(h, i, { "areas": g }), this.V.timeHeader[e + "_" + t] = h, this.elements.timeHeader.push(h), n.appendChild(h);
            }, this.Ds = function () { var e = A.timeHeader, t = e.length - 1; if (t < 0)
                return null; for (var n = e[t], i = DayPilot.Date.now(), a = 0; a < n.length; a++) {
                var r = n[a];
                if (r.start <= i && i <= r.end)
                    return A.V.timeHeader[a + "_" + t];
            } return null; }, this.Es = null, this.Bs = function () { var e = A.K("_timeheader_cell_now"), t = A.Es, n = A.Ds(); t !== n && (h(t, e), f(n, e), A.Es = n); }, this.Fs = null, this.Gs = function () { clearTimeout(A.Fs), A.Fs = setTimeout(function () { A.Bs(), A.Gs(); }, 5e3); }, this.hn = function () { clearTimeout(A.Fs); }, this.mm = function () { clearTimeout(A.Fs), A.showCurrentTimeHeader && (A.Bs(), A.Gs()); }, this.Sl = function () { return A.ak ? void K.iq() : (A.vl().forEach(function (e) { var t = e.getHeight() + e.marginBottom + e.marginTop; e.height !== t && (A.tm = !0), e.height = t; }), void (A.tm && (A.V.drawArea = null))); }, this.uk = function () { A.vl().forEach(function (e) { if (!e.hidden) {
                var t = A.nn(e.grid), n = t.divHeader;
                if (n) {
                    var i = e.index;
                    if (n.rows[i])
                        for (var a = 0; a < n.rows[i].cells.length; a++) {
                            var r = n.rows[i].cells[a], o = t.rowlist[i].cells[a];
                            A.Ep && r && (r.style.top = e.top + "px");
                            var s = e.height;
                            o.rowspan > 1 && (s = o.totalHeight()), r && r.firstChild && parseInt(r.firstChild.style.height, 10) !== s && (r.firstChild.style.height = s + "px");
                        }
                }
            } }), A.Ep && A.nav.resScrollSpace && (A.nav.resScrollSpace.style.top = A.ek + "px"); }, this.fg = function (e) { var t = this.separators[e]; t.location = t.location || t.Location, t.color = t.color || t.Color, t.layer = t.layer || t.Layer, t.width = t.width || t.Width, t.opacity = t.opacity || t.Opacity; var n = new DayPilot.Date(t.location), i = t.color, a = t.width ? t.width : 1, r = !!t.layer && "AboveEvents" === t.layer, o = t.opacity ? t.opacity : 100; if (!(n.getTime() < A.wb().getTime() || n.getTime() >= A.ud().getTime())) {
                var s = this.getPixels(n);
                if (!s.cut && !(s.left < 0 || s.left > A._k())) {
                    var l = c();
                    l.style.width = a + "px", l.style.height = A.ek + "px", l.style.position = "absolute", l.style.left = s.left - 1 + "px", l.style.top = "0px", l.style.backgroundColor = i, l.style.opacity = o / 100, l.style.filter = "alpha(opacity=" + o + ")", l.className = A.K("_separator"), t.cssClass && (l.className += " " + t.cssClass), r ? this.divSeparatorsAbove.appendChild(l) : this.divSeparators.appendChild(l), this.elements.separators.push(l);
                }
            } }, this.sf = function (e) { }, this.Kr = function (e) { if ("Disabled" === A.timeRangeDoubleClickHandling)
                return !1; o.Hs && (clearTimeout(o.Hs), o.Hs = null); if (A.Ll(e), e.stopPropagation && e.stopPropagation(), e.cancelBubble = !0, A.Is(A.coords)) {
                var t = A.Bm(A.Dm);
                A.ec(t.start, t.end, t.resource);
            }
            else if (o.po = A.vs(), o.po) {
                o.Js = A;
                var t = A.Bm(o.po);
                A.ec(t.start, t.end, t.resource), A.Dm = o.po;
            } o.po = null; }, this.Cr = function (e) { if (!w.touch.start && !w.touch.active) {
                if (o.Hs, 1, A.Ks(), A.Ma(), A.Ll(e), o.Ls)
                    return !1;
                var t = y(e);
                if (A.Ms())
                    return !1;
                if (t.middle || t.right && A.Is(A.coords))
                    return !1;
                if (A.Is(A.coords))
                    return !1;
                var n = t.left ? "left" : t.right ? "right" : t.middle ? "middle" : "unknown";
                A.Ns = n;
                var i = e.ctrlKey, a = e.metaKey, r = e.shiftKey, s = i || a, l = {};
                if (l.action = "None", "Disabled" !== Z.Ml() && r ? l.action = "RectangleSelect" : "Disabled" !== A.timeRangeSelectedHandling && (l.action = "TimeRangeSelect"), l.shift = r, l.ctrl = r, l.meta = a, l.originalEvent = e, l.button = n, l.preventDefault = function () { l.action = "None"; }, "function" == typeof A.onGridMouseDown && A.onGridMouseDown(l), "None" === l.action)
                    return "undefined" != typeof DayPilot.Menu && DayPilot.Menu.hide({ "calendar": A }), e.preventDefault(), e.stopPropagation(), !1;
                if ("RectangleSelect" === l.action) {
                    var d = {};
                    return d.start = A.coords, d.calendar = A, o.Ls = d, !1;
                }
                A.allowMultiRange && !s && G.clear();
                return !A.bn(A.coords.y, A.coords.grid).element.isNewRow && (o.po = A.vs(), o.po && (o.po.ctrl = s, o.Js = A), !1);
            } }, this.vs = function () { var e = {}, t = A.El(A.coords.x).x, n = A.getDate(A.coords.x, !0); return e.start = { y: A.bn(A.coords.y, A.coords.grid).i, x: t, "grid": A.coords.grid, "time": n }, e.end = { x: t, "time": n }, A.qn(A.bn(A.coords.y, A.coords.grid).i, A.coords.grid) ? null : (e.calendar = A, A.Em(e), e); }, this.np = function () { A.gf(); var e = o.Go, t = o.oo; !function () { var n = A.Os, i = { "start": e.start, "end": A.Si(e.end) }; e.original = i; var a = "left" === o.oo.dpBorder ? "start" : "end", r = e.original; if (!r || !n || n.start !== r.start || n.end !== r.end) {
                L.clear(), L.$o(), n && (h(e, n.cssClass), e.firstChild.innerHTML = "");
                var s = t.event.part.dayIndex, l = A.rowlist[s], d = {};
                d.start = i.start, d.end = i.end, d.duration = new DayPilot.Duration(d.start, d.end), d.row = A.Im(l), d.e = t.event, d.allowed = !0, d.resizing = a, d.what = a, d.anchor = "end" === d.what ? i.start : i.end, d.left = {}, d.left.html = d.start.toString(A.eventResizingStartEndFormat, Z.sc()), d.left.enabled = A.eventResizingStartEndEnabled, d.left.space = 5, d.left.width = null, d.left.height = A.eventHeight, d.right = {}, d.right.html = d.end.toString(A.eventResizingStartEndFormat, Z.sc()), d.right.enabled = A.eventResizingStartEndEnabled, d.right.space = 5, d.right.width = null, d.right.height = A.eventHeight, d.cssClass = null, d.html = null, d.overlapping = d.row.events.forRange(d.start, d.end).filter(function (e) { return !A.Zc(e, d.e); }).length > 0, d.shift = A.coords.shift, d.ctrl = A.coords.ctrl, d.meta = A.coords.meta, d.alt = A.coords.alt, d.multiresize = L.Yo();
                var c = {};
                c.event = t.event, c.start = d.start, c.end = d.end, d.multiresize.splice(0, 0, c), A.Os = i, "function" == typeof A.onEventResizing && A.onEventResizing(d), L.list = x(d.multiresize, !0), L.list.splice(0, 1), L.fp(), e.allowed = d.allowed, f(e, d.cssClass), d.html && (e.firstChild.innerHTML = d.html);
                var u = d.start, v = A.vi(d.end);
                if (e.finalStart = u, e.finalEnd = v, "Days" === A.viewType) {
                    var m = l.start.getTime() - A.wb().getTime();
                    u = u.addTime(-m), v = v.addTime(-m);
                }
                var g = DayPilot.DateUtil.diff(u, v);
                g = p(g, 1);
                var b = (Z.hg(g), A.snapToGrid && A.snapToGridEventResizing), y = b ? A.getPixels(u).boxLeft : A.getPixels(u).left, w = b ? A.getPixels(v).boxRight : A.getPixels(v).left;
                e.style.left = y + "px", e.style.width = w - y + "px", e.left = y, e.width = w - y, A.rp(o.Go, d), A.sp(o.Go, d);
            } }(); }, this.Jr = function (e) { if (o.Ls)
                return e.cancelBubble = !0, e.preventDefault(), o.Mf(e), !1; if (A.Il = {}, A.Dm) {
                var t = y(e);
                if (t.left) {
                    var n = A.Dm;
                    if (A.Is(A.coords)) {
                        var i = function (e) { return function () { o.Hs = null; var t = A.Bm(e); if (t) {
                            var n = {};
                            n.start = t.start, n.end = t.end, n.resource = t.resource, n.preventDefault = function () { n.preventDefault.value = !0; }, "function" == typeof A.onTimeRangeClick && A.onTimeRangeClick(n), n.preventDefault.value || "function" == typeof A.onTimeRangeClicked && A.onTimeRangeClicked(n);
                        } }; };
                        "Disabled" != A.timeRangeClickHandling && ("Disabled" === A.timeRangeDoubleClickHandling ? i(n)() : (clearTimeout(o.Hs), o.Hs = setTimeout(i(n), A.doubleClickTimeout)));
                    }
                }
            } var t = y(e); t.right && A.Ps(e); }, this.Ps = function (e) { if ("Disabled" !== A.timeRangeSelectedHandling && "Disabled" !== A.timeRangeRightClickHandling) {
                var t = o.po || A.Dm;
                if (t) {
                    var n = t.args, i = A.bn(A.coords.y);
                    if (A.qn(i.i))
                        return void (o.po = null);
                    var a = null;
                    if (a = A.Is(A.coords) ? A.Bm(A.Dm) : A.Bm(), !a)
                        return void (o.po = null);
                    if (!n.ignoreDisabledCells && A.uc(a.start, a.end, a.resource))
                        return o.po = null, void A.clearSelection();
                    a.end = A.Si(a.end);
                    var n = {};
                    n.start = a.start, n.end = a.end, n.resource = a.resource, n.ctrl = e.ctrlKey, n.shift = e.shiftKey, n.meta = e.metaKey, n.preventDefault = function () { this.preventDefault.value = !0; }, "function" == typeof A.onTimeRangeRightClick && (A.onTimeRangeRightClick(n), n.preventDefault.value) || ("ContextMenu" === A.timeRangeRightClickHandling && A.contextMenuSelection && A.contextMenuSelection.show(a), "function" == typeof A.onTimeRangeRightClicked && A.onTimeRangeRightClicked(n));
                }
            } }, this.Ms = function () { return !!(o.oo || o.Il || o.po || o.qp) || !!A.Il.rs; }, this.dragInProgress = function () { return A.Ms(); }, this.Ll = function (e) { var t = DayPilot.mo3(A.Mk, e); if (t = t || {}, t.grid = "main", A.Lk.top.enabled()) {
                var n = A.Lk.top, i = DayPilot.mo3(n.divCells, e);
                i && i.y > 0 && i.y <= n.height && (t = i, t.grid = "top");
            } if (A.Lk.bottom.enabled()) {
                var a = A.Lk.bottom, r = DayPilot.mo3(a.divCells, e);
                r && r.y > 0 && r.y <= a.height && (t = r, t.grid = "bottom");
            } t.stamp = t.grid + "_" + t.x + "_" + t.y, A.coords && A.coords.stamp === t.stamp || (A.coords = t); }, this.getCoords = function () { if (!A.coords)
                return null; var e = {}; e.x = A.coords.x, e.y = A.coords.y, e.grid = A.coords.grid; var t = A.bn(e.y, e.grid).element; return e.row = t, e.time = A.getDate(e.x, !0), e.cell = A.cells.findByPixels(e.x, e.y, e.grid)[0], e.event = A.coords.insideEvent ? A.coords.insideEvent : null, e.eventOffset = null, e.event && (e.eventOffset = g(A.eventOffset, {}, ["x", "y"])), e; }, this.Ar = !0, this.vp = function (e) { if (!w.touch.active) {
                var t = DayPilot.mc(e);
                if (A.Ll(e), e.insideMainD = !0, A.Ar = !0, window.event && window.event.srcElement && (window.event.srcElement.inside = !0), A.Il.rs) {
                    DayPilot.distance(A.Il.hf, t) > 2 && (g(A.Il, o), d().style.cursor = "move", A.Il = {});
                }
                if (o.oo && o.Ho.calendar === A)
                    o.oo.event || (o.oo.event = o.Ho), A.Qs();
                else if (o.jo) {
                    var n = o.jo.calendar, i = n !== A;
                    i && n && o.jo.calendar.Ka(), o.jo.part.external = i, A.Rs();
                }
                else if (o.po && o.po.calendar === A)
                    o.po.moved = !0, A.Ss();
                else if (_.source) {
                    var a = _.source;
                    B.zi(a.coords, A.coords);
                }
                else
                    o.Ls && (o.Ls.moved = !0, clearTimeout(J.Ts), J.Ts = setTimeout(function () { J.draw(); }, 0));
                "Disabled" !== A.crosshairType && A.Us(), A.Vs();
                var r = A.coords.insideEvent;
                if (A.cellBubble && A.coords && A.rowlist && A.rowlist.length > 0 && !r) {
                    var s = A.El(A.coords.x).x, l = A.bn(A.coords.y).i;
                    if (0 <= l && l < A.rowlist.length && 0 <= s && s < A.itline.length) {
                        var c = {};
                        c.calendar = A, c.start = A.itline[s].start, c.end = A.itline[s].end, c.resource = A.rowlist[l].id, c.toJSON = function () { var e = {}; return e.start = this.start, e.end = this.end, e.resource = this.resource, e; }, A.cellBubble.showCell(c);
                    }
                }
                if (o.qp) {
                    if (A.Ks(), o.Ws && d().removeChild(o.Ws), o.Ws = null, !o.lp && A.coords && A.rowlist.length > 0) {
                        if (!o.jo) {
                            o.Il = o.qp.Xs || {};
                            var u = o.qp.Xs ? o.qp.Xs.event : null, h = u || o.qp.event;
                            if (h)
                                if (A !== h.calendar) {
                                    var n = h.calendar, f = h, v = g(h.data);
                                    h = new DayPilot.Event(v), h.calendar = n, h.part.duration = n.so(f), h.part.external = !0;
                                }
                                else
                                    h.part.external = !1;
                            else {
                                var e = A.Ys();
                                h = new DayPilot.Event(e), h.calendar = A, h.calendar = null, h.part.duration = 1e3 * o.qp.duration, h.part.external = !0;
                            }
                            o.Il.event || (o.Il.event = h), o.jo = h;
                        }
                        o.lp = A.ob(o.jo);
                    }
                    e.cancelBubble = !0;
                }
                var p = { x: A.coords.x, y: A.coords.y, "grid": A.coords.grid };
                A.lf(p);
            } }, this.Ys = function () { var e, t = A.itline[0].start, n = o.qp.kf; if (n)
                e = g(n, {}), e.start = t, e.end = t.addSeconds(o.qp.duration);
            else {
                e = { "id": o.qp.id, "start": t, "end": t.addSeconds(o.qp.duration), "text": o.qp.text };
                var i = o.qp.jf;
                if (i) {
                    var a = ["duration", "element", "remove", "id", "text"];
                    for (var r in i)
                        k(a, r) || (e[r] = i[r]);
                }
            } return e; }, this.lf = function (e) { var t = e.grid, n = o.Il || o.oo || o.po || o.Ls, i = "Always" === A.autoScroll, a = "Drag" === A.autoScroll && n, r = i || a, s = o.oo || o.po || "main" !== t; if (r) {
                var l = A.nav.scroll;
                e.x -= l.scrollLeft, e.x += M.Sk, e.y -= l.scrollTop;
                var d = l.clientWidth, c = l.clientHeight, u = 30, h = e.x < u ? e.x : 0, f = d - e.x < u ? d - e.x : 0, v = A.Lk.top.height, p = e.y - v, m = p < u && p > 0 ? p : 0, g = c - A.Lk.bottom.height - A.Lk.top.height, b = g - p < u ? c - e.y : 0, y = 0, w = 0, x = 50;
                h && (y = -50 * T(h, u)), f && (y = x * T(f, u)), m && (w = -50 * T(m, u) / 2), b && (w = x * T(m, u) / 2), s && (w = 0), y || w ? A.Rf(y, w) : A.Ma();
            } }, this.Ss = function () { var e = o.po, t = A.El(A.coords.x).x, n = A.getDate(A.coords.x, !0); e.end = { x: t, "time": n }, A.Em(e); }, this.Qs = function () { o.Go || (o.Go = A.ob(o.oo)), A.mp(); }, this.Rs = function () { if (o.lp && o.lp.calendar !== A && o.lp.calendar && (o.lp.calendar.Ka(), o.lp.calendar = null, C(o.lp), o.lp = null), !o.lp) {
                f(o.Il, A.K(V.eventMovingSource));
                var e = o.jo;
                o.lp = A.ob(e);
            } A.Co(), A.Eo(); }, this.Zs = {};
            var J = this.Zs;
            J.start = function () { var e = {}; e.start = A.coords, e.calendar = A, o.Ls = e; }, J.draw = function () { var e = o.Ls; if (e) {
                var t = o.Ls.start, n = A.coords;
                J.clear();
                var i, a, r, s, l, d, c, u, h = { "x": e.x, "y": e.y, "width": e.width, "height": e.height };
                if (function () { l = Math.min(t.x, n.x), c = Math.max(t.x, n.x), "Free" === Z.Ml() ? (d = Math.min(t.y, n.y), u = Math.max(t.y, n.y)) : "Row" === Z.Ml() && (d = t.y, u = t.y); }(), "Free" === Z.Ml())
                    i = l, a = d, r = c - l, s = u - d;
                else {
                    if ("Row" !== Z.Ml())
                        throw new DayPilot.Exception("Invalid DayPilot.Scheduler.rectangleSelectMode value: " + A.rectangleSelectMode);
                    var f = A.bn(d).i, p = A.rowlist[f];
                    a = p.top, s = p.height;
                    if (A.snapToGrid && A.snapToGridRectangleSelecting) {
                        i = A.El(l).cell.left;
                        var m = A.El(c).cell;
                        r = m.left + m.width - i;
                    }
                    else
                        i = l, r = c - l;
                }
                var g = v(A.divRectangle, i, a, r, s);
                if (g.style.boxSizing = "border-box", g.className = A.K("_selectionrectangle"), e.x = i, e.y = a, e.width = r, e.height = s, !(e.x === h.x && e.y === h.y && e.width === h.width && e.height === h.height || "function" != typeof A.onRectangleEventSelecting && "function" != typeof A.onRectangleSelecting)) {
                    var b = A.bn(e.y).i, y = A.bn(e.y + e.height).i, w = { "start": { "y": b }, "end": { "y": y } }, x = A.Zm(w), k = {};
                    k.events = H.Wk(e.x, e.y, e.width, e.height).map(function (e) { return e.event; }), k.start = A.getDate(e.x, !0), k.end = A.getDate(e.x + e.width, !0), k.resources = x, k.visible = !0, "function" == typeof A.onRectangleEventSelecting && A.onRectangleEventSelecting(k), "function" == typeof A.onRectangleSelecting && A.onRectangleSelecting(k), k.visible || (g.style.display = "none");
                }
            } }, J.clear = function () { A.divRectangle.innerHTML = "", A.elements.rectangle = []; }, this.$s = function () { if (!A.coords)
                return null; if (!A.Gr())
                return null; if (!A.itline || 0 === A.itline.length)
                return null; var e = A.El(A.coords.x).x, t = A.bn(A.coords.y, A.coords.grid).element; if (!t)
                return null; var n = t.index; return A.cells.findXy(e, n, A.coords.grid)[0]; }, this.Vs = function () { var e = this.$s(); if (this.hover.cell) {
                if (this.hover.cell.x === e.x && this.hover.cell.y === e.y && this.hover.cell.grid === e.grid)
                    return;
                this.Br();
            } this.hover.cell = e; var t = {}; t.cell = e, "function" == typeof this.onCellMouseOver && this.onCellMouseOver(t), "function" == typeof this.onCellMouseEnter && this.onCellMouseEnter(t); }, this.Br = function () { if (this.hover.cell) {
                var e = {};
                e.cell = this.hover.cell, "function" == typeof this.onCellMouseOut && this.onCellMouseOut(e), "function" == typeof this.onCellMouseLeave && this.onCellMouseLeave(e), this.hover.cell = null;
            } }, this.hover = {}, this.Us = function () { var e = A._s(); if (e) {
                var t = A.hover.crosshair;
                t && t.x === e.x && t.y === e.y && t.grid === e.grid && t.thX === e.thX || (A.hover.crosshair = e, this.ef());
            } }, this._s = function () { if (!A.coords)
                return null; if (!A.Gr())
                return null; if (!A.itline || 0 === A.itline.length)
                return null; var e = A.bn(A.coords.y, A.coords.grid).element; if (!e)
                return null; var t = e.index, n = null, i = A.El(A.coords.x); i && (n = i.x); var a = A.at(), r = null, o = A.Oo(a, A.coords.x); return o && (r = o.x), { "x": n, "thX": r, "y": t, "grid": A.coords.grid }; }, this.Ks = function () { this.Lk.top.divCrosshair.innerHTML = "", this.Lk.main.divCrosshair.innerHTML = "", this.Lk.bottom.divCrosshair.innerHTML = "", this.bt = null, this.ct = null; }, this.La = function () { if (this.Ks(), A.hover.crosshair = null, this.dt && this.dt.parentNode && (this.dt.parentNode.removeChild(this.dt), this.dt = null), this.et) {
                for (var e = 0; e < this.et.length; e++) {
                    var t = this.et[e];
                    t.parentNode && t.parentNode.removeChild(t);
                }
                this.et = null;
            } this.dk = -1, this.ck = -1, this.ft = null; }, this.at = function () { var e = this.timeHeader ? this.timeHeader.length - 1 : 1; return "number" == typeof A.crosshairTimeHeaderLevel && A.crosshairTimeHeaderLevel < e && A.crosshairTimeHeaderLevel >= 0 && (e = A.crosshairTimeHeaderLevel), e; }, this.ef = function () { function e(e, t) { var n = A.Lk[e], i = n.height, a = t.left, r = A.bt[e]; if (!r) {
                var r = c();
                r.style.height = i + "px", r.style.position = "absolute", r.style.top = "0px", r.className = A.K("_crosshair_vertical"), A.bt[e] = r, n.divCrosshair.appendChild(r);
            } r.style.left = a + "px", r.style.width = t.width + "px"; } if (A.coords && A.Gr()) {
                var t = A.bn(A.coords.y, A.coords.grid).element;
                if (t) {
                    var n = A.El(A.coords.x).x, i = t.index, a = t.grid, r = A.nn(a), o = ["top", "main", "bottom"], s = this.crosshairType;
                    if (this.bt || (this.bt = {}), "Full" === s) {
                        var l = this.itline[n];
                        o.forEach(function (t) { e(t, l); });
                        var d = t.top, u = t.height, h = A._k(), f = A.ct;
                        if (f && f.parentNode && A.ft !== a && (f.parentNode.removeChild(f), f = null), !f) {
                            var f = c();
                            f.style.width = h + "px", f.style.height = u + "px", f.style.position = "absolute", f.style.top = d + "px", f.style.left = "0px", f.className = A.K("_crosshair_horizontal"), A.ct = f, r.divCrosshair.appendChild(f);
                        }
                        f.style.top = d + "px", f.style.height = u + "px";
                    }
                    var v = A.at(), p = A.Oo(v, A.coords.x);
                    if (p && A.dk !== p.x) {
                        A.dt && this.dt.parentNode && (A.dt.parentNode.removeChild(A.dt), A.dt = null);
                        var u = Q.Vo(v).height, f = c();
                        f.style.width = p.cell.width + "px", f.style.height = u + "px", f.style.left = "0px", f.style.top = "0px", f.style.position = "absolute", f.className = A.K("_crosshair_top"), A.dt = f;
                        var m = this.divNorth, g = v;
                        A.nav.timeHeader ? A.V.timeHeader[p.x + "_" + g].appendChild(f) : m && m.firstChild.rows[g].cells[n] && m.firstChild.rows[g].cells[n].firstChild.appendChild(f);
                    }
                    if (A.ck !== i || A.ft !== a) {
                        if (A.et) {
                            for (var b = 0; b < A.et.length; b++) {
                                var y = A.et[b];
                                y.parentNode && y.parentNode.removeChild(y);
                            }
                            A.et = null;
                        }
                        this.rowHeaderCols ? this.rowHeaderCols.length : 1;
                        if (A.et = [], r.rowlist[i])
                            for (var b = 0; b < r.rowlist[i].cells.length; b++) {
                                var w = r.rowlist[i].cells[b], x = w.refCell, u = t.height, k = i;
                                x ? (u = x.row.split.totalHeight(), k = x.y) : w.rowspan > 1 && (u = w.totalHeight());
                                var C = r.divHeader.rows[k] && r.divHeader.rows[k].cells[b];
                                if (C) {
                                    var h = A.cl(), f = c();
                                    f.style.width = h + "px", f.style.height = u + "px", f.style.left = "0px", f.style.top = "0px", f.style.position = "absolute", f.className = A.K("_crosshair_left"), A.et.push(f), r.divHeader.rows[k].cells[b].firstChild.appendChild(f);
                                }
                            }
                    }
                    p && (A.dk = p.x), A.ck = i, A.ft = a;
                }
            } }, this.Oo = function (e, t) { var n = A.timeHeader[e]; if (!n)
                return null; for (var i = 0; i < n.length; i++) {
                var a = n[i];
                if (t >= a.left && t < a.left + a.width) {
                    var r = {};
                    return r.cell = a, r.x = i, r;
                }
            } return null; }, this.gt = function (e) { return A.Oo(A.timeHeader.length - 1, e); }, this.Dr = function (e) { if (e.cancelBubble = !0, !A.allowDefaultContextMenu)
                return !1; }, this.Is = function (e) { var t = A.Dm; if (!t || !t.start || !t.end)
                return !1; var n = this.Nn(t.start.y), i = t.start.x < t.end.x, a = (i ? t.start.x : t.end.x) * this.cellWidth, r = (i ? t.end.x : t.start.x) * this.cellWidth + this.cellWidth, o = n.top, s = n.bottom; return e.x >= a && e.x <= r && e.y >= o && e.y <= s && e.grid === t.start.grid; }, this.Em = function (e, t) { function n(e, t) { var n, i, a, o, d = e.end.time > e.start.time, u = e.start.y, h = e.start.time && e.end.time; if (r || !h) {
                var f = d ? e.start.x : e.end.x, v = d ? e.end.x : e.start.x, p = A.itline[f], m = A.itline[v];
                n = p.left, i = m.left + m.width;
            }
            else
                d ? (a = e.start.time, o = e.end.time) : (a = e.end.time, o = e.start.time), n = A.getPixels(a).left, i = A.getPixels(o).left; var g = i - n, b = A.elements.range2; if (!b) {
                b = c(), b.style.position = "absolute", b.setAttribute("unselectable", "on");
                var y = c();
                y.className = A.K("_shadow_inner"), b.appendChild(y), s.divShadow.appendChild(b);
            } return b.grid !== e.start.grid && (b.parentNode.removeChild(b), s.divShadow.appendChild(b)), b.className = A.K("_shadow"), b.firstChild.innerHTML = "", b.style.left = n + "px", b.style.top = l[u].top + "px", b.style.width = g + "px", b.style.height = l[u].height - 1 + "px", b.calendar = A, b.grid = e.start.grid, A.elements.range2 = b, function () { b.overlapping = !1; var i = l[u]; A.gp(b, i, n, g, null); var a = d ? e.start.time : e.end.time, r = d ? e.end.time : e.start.time; t.ignoreDisabledCells || A.hp(b, a, r, i.id); }(), b; } var e = e || o.po; if (e && e.calendar === A) {
                o.Qn && o.Qn.blur(), t = t || {};
                var i = t.justDraw, a = e.forceSnap, r = A.snapToGrid && A.snapToGridTimeRangeSelecting;
                a && (r = !0);
                var s = A.nn(e.start.grid), l = s.rowlist;
                !function () { var t = e.end.time >= e.start.time, a = t ? e.start.x : e.end.x, o = t ? e.end.x : e.start.x, s = e.start.y, d = l[s]; if (d && !d.hidden) {
                    var c = A.itline[a], u = A.itline[o], h = A.ht, v = c.start.addTime(d.data.offset), p = u.end.addTime(d.data.offset);
                    if (r || (t ? (v = e.start.time, p = e.end.time) : (v = e.end.time, p = e.start.time)), i || !h || h.start.getTime() !== v.getTime() || h.rawend.getTime() !== p.getTime() || h.resource !== l[s].id) {
                        var m = { "start": v, "end": A.Si(p), "rawend": p, "resource": l[s].id }, g = {};
                        g.anchor = t ? m.start : m.end, g.start = m.start, g.end = m.end, g.duration = new DayPilot.Duration(v, p), g.resource = l[s].id, g.row = A.Im(d), g.allowed = !0, g.control = A, g.ignoreDisabledCells = !1, g.left = {}, g.left.html = g.start.toString(A.timeRangeSelectingStartEndFormat, Z.sc()), g.left.enabled = A.timeRangeSelectingStartEndEnabled, g.left.space = 5, g.left.width = null, g.left.height = A.eventHeight, g.right = {}, g.right.html = g.end.toString(A.timeRangeSelectingStartEndFormat, Z.sc()), g.right.enabled = A.timeRangeSelectingStartEndEnabled, g.right.space = 5, g.right.width = null, g.right.height = A.eventHeight, g.overlapping = g.row.events.forRange(v, p).length > 0, g.html = null, g.cssClass = null, g.button = A.Ns, A.ht = m, "function" != typeof A.onTimeRangeSelecting || i || (A.onTimeRangeSelecting(g), g.resource = m.resource), g.end = A.vi(g.end), e.args = g;
                        var b = A.it(e);
                        A.Cm(b, g.start, g.end);
                        var y = n(b, g);
                        g.html && (y.firstChild.innerHTML = g.html), g.cssClass && f(y, g.cssClass), A.rp(y, g), e.xs = b, e.disabled = !g.allowed, A.sp(y, g);
                    }
                } }();
            } }, this.it = function (e) { return { "start": { "x": e.start.x, "y": e.start.y, "time": e.start.time, "grid": e.start.grid }, "end": { "x": e.end.x, "time": e.end.time }, "disabled": e.disabled, "calendar": e.calendar, "args": e.args, "forceSnap": e.forceSnap }; }, this.range = {}, this.range.all = function () { return A.multirange.get(); }, this.multirange = {}, this.multirange.get = function () { return G.get(!0); }, this.multirange.add = function (e) { if (!e)
                throw new DayPilot.Exception("Range not specified"); if (!e.start || !e.end || !e.resource)
                throw new DayPilot.Exception("Invalid range specified"); if (x(G.list).isEmpty()) {
                var t = A.Bm();
                if (t) {
                    var n = A.jt(t.start, t.end, t.resource);
                    A.kt.add(n);
                }
            } var n = A.jt(e.start, e.end, e.resource); A.Em(n), A.kt.add(n); }, this.multirange.clear = function () { G.clear(), A.clearSelection(), A.ht = null; }, this.kt = {};
            var G = this.kt;
            this.kt.list = [], this.kt.drawLaterTimeout = null, this.kt.drawLater = function () { clearTimeout(A.kt.drawLaterTimeout), A.kt.drawLaterTimeout = setTimeout(function () { G.list.forEach(function (e) { A.elements.range2 = null, A.Em(e); }); }, 0); }, this.kt.clear = function () { C(x(G.list).map(function (e) { return e.div; })), G.list = []; }, this.kt.add = function (e) { e.div = A.elements.range2, A.elements.range2 = null, A.up(), G.list.push(e); }, this.kt.get = function (e) { var t = x(G.list).map(function (e) { return A.Bm(e); }); if (e && t.isEmpty()) {
                var n = A.Bm();
                n && t.push(n);
            } return t; }, this.kt.dispatch = function () { if (A.allowMultiRange && !o.po) {
                var e = x(G.list).last();
                A.Am(e);
            } }, this.lt = function (e) { if ("Disabled" === A.timeRangeSelectedHandling)
                return !1; if (!w.touch.active && !w.touch.start) {
                var t = y(e);
                if (!o.po && !o.Ls && !(A.Dm && A.Is(A.coords) && (t.right || t.middle) || A.qn(A.bn(A.coords.y).i))) {
                    var n = {}, i = A.El(A.coords.x).x;
                    n.start = { y: A.bn(A.coords.y).i, x: i, "grid": A.coords.grid }, n.end = { x: i }, n.calendar = A, A.Dm = n, A.Am(n);
                }
            } }, this.Jl = {}, this.Jl.ib = null, this.Jl.drawCells = null, this.Jl.drawRows = null, this.Jl.click = null, this.Jl.resClick = [], this.Jl.updateFloats = null, this.Ek = function (e, t) { if (!A.Z) {
                t = t || {}, "undefined" == typeof DayPilot.Bubble || t.dontHideBubble || DayPilot.Bubble.hideActive(), A.la();
                var n = A.nav.scroll;
                if (A.No = n.scrollLeft, A.Lo = n.scrollTop, A.Rr = n.clientWidth, A.divTimeScroll && (A.divTimeScroll.scrollLeft = A.No), A.Lk.top.enabled() && (A.Lk.top.div.scrollLeft = A.No), A.Lk.bottom.enabled() && (A.Lk.bottom.div.scrollLeft = A.No), a && o.pr ? s() : A.divResScroll.scrollTop = A.Lo, M.xl() && A.Y && "Auto" != A.cellWidthSpec && !A.Jk)
                    if (M.Jb)
                        s();
                    else {
                        if (A.nav.scroll.scrollLeft < A.infiniteScrollingMargin)
                            return M.Jb = !0, A.nav.scroll.style.overflowX = "hidden", void setTimeout(function () { M.ql(-A.infiniteScrollingStepDays); }, 100);
                        if (A.nav.scroll.scrollWidth - (A.nav.scroll.scrollLeft + A.nav.scroll.clientWidth) < A.infiniteScrollingMargin)
                            return M.Jb = !0, A.nav.scroll.style.overflowX = "hidden", void setTimeout(function () { M.ql(A.infiniteScrollingStepDays); }, 100);
                    }
                if (A.navigatorBackSync && !function () { var e = DayPilot.Util.evalVariable(A.navigatorBackSync), t = A.getViewPort().start; e.select(t, { "dontNotify": !0, "dontFocus": !0 }); }(), A.progressiveRowRendering && (A.Jl.drawRows && (clearTimeout(A.Jl.drawRows), A.Jl.drawRows = null), A.scrollDelayRows > 0 ? A.Jl.drawRows = setTimeout(function () { A._l(); }, A.scrollDelayRows) : A._l()), A.Jl.drawCells && (clearTimeout(A.Jl.drawCells), A.Jl.drawCells = null), A.scrollDelayCells > 0)
                    A.Jl.drawCells = setTimeout(A.mt(), A.scrollDelayCells);
                else {
                    A.mt()();
                }
                if (A.dynamicLoading)
                    return A.ij(), void A.nt();
                A.Jl.ib && (clearTimeout(A.Jl.ib), A.Jl.ib = null), A.scrollDelayEvents > 0 ? A.Jl.ib = setTimeout(A.ot(), A.scrollDelayEvents) : A.ib(), A.Jl.updateFloats && (clearTimeout(A.Jl.updateFloats), A.Jl.updateFloats = null), A.scrollDelayFloats > 0 ? A.Jl.updateFloats = setTimeout(function () { A.Ck(); }, A.scrollDelayFloats) : A.Ck(), A.onScrollCalled = !0;
            } }, this.mt = function () { return function () { A && (A.ij(), A.yk()); }; }, this.ot = function () { return function () { A && (A.bs() ? window.setTimeout(function () { A.$r(), window.setTimeout(function () { A.ib(!0); }, 50); }, 50) : A.Uk()); }; }, this.la = function () { A.V.eventHeight = null, A.V.drawArea = null; }, this.show = function () { A.visible = !0, A.gk = !0, A.nav.top.style.display = "", A.hb(), A.kb(), A.Xn(), A.Ek(); }, this.hide = function () { A.visible = !1, A.gk = !1, A.nav.top.style.display = "none"; }, this.nt = function () { var e = A.nav.scroll; A.No = e.scrollLeft, A.Lo = e.scrollTop, A.Rr = e.clientWidth, A.divTimeScroll.scrollLeft = A.No, A.divResScroll.scrollTop = A.Lo, A.refreshTimeout && window.clearTimeout(A.refreshTimeout); var t = A.scrollDelayDynamic; A.refreshTimeout = window.setTimeout(A.pt(e.scrollLeft, e.scrollTop), t), A.Ck(); }, this.Zn = function (e) { if (!A.events.list)
                return null; for (var t = 0; t < this.events.list.length; t++) {
                var n = this.events.list[t];
                if (A.Zc(n, e)) {
                    var i = {};
                    return i.ex = n, i.index = t, i.modified = !A.qt(e, n), i;
                }
            } return null; }, this.qt = function (e, t) { for (var n in e)
                if (("object" != typeof e[n] || e[n] instanceof DayPilot.Date) && e[n] !== t[n])
                    return !1; for (var n in t)
                if ("object" != typeof t[n] && e[n] !== t[n])
                    return !1; return !0; }, this.Ak = function (e, t, n) { var i = n && n.clearEvents, a = n && n.remove, r = n && n.dontForceCellRendering, o = []; if (A.events.list || (A.events.list = []), i)
                A.Xa(e);
            else {
                var s = [];
                x(a).forEach(function (e) { var t = x(A.events.list).find(function (t) { return t.id === e; }); t && s.push(t); }), s.forEach(function (e) { var t = A.events.Pl(e); o = o.concat(t), DayPilot.rfa(A.events.list, e); });
                for (var l = [], d = 0; d < e.length; d++) {
                    var c = e[d];
                    l[d] = A.Zn(c);
                }
                for (var d = 0; d < e.length; d++) {
                    var c = e[d], u = l[d], h = u && u.modified, f = !u;
                    if (h) {
                        this.events.list[u.index] = c;
                        var v = A.events.Pl(u.ex);
                        o = o.concat(v);
                    }
                    else
                        f && this.events.list.push(c);
                    (h || f) && (o = o.concat(A.events.Ql(c)));
                }
                A.Rl(o), A.Sl();
            } A.tk(), A.db(); if (i || r) {
                A.Aa();
                var p = A.tm || !A.beforeCellRenderCaching;
                p && A.vk(), A.uk(), p ? A.yk() : A.Xn(), A.ib(), t && t();
            }
            else
                A.Tl(o, !1, function () { t && t(), A.$r(), A.ib(); }), A.Xn(); }, this.pt = function (e, t) { return A.M() ? function () { A.scrollX = e, A.scrollY = t, A.ra("Scroll"); } : function () { if ("function" == typeof A.onScroll) {
                var e = function (e) { var t = function () { if (A.nb() && "function" == typeof A.onAfterRender) {
                    var e = {};
                    e.isCallBack = !1, e.isScroll = !0, e.data = null, A.onAfterRender(e);
                } }; A.Ak(e.events, t, e); }, t = {};
                t.viewport = A.getViewPort(), t.async = !0, t.events = [], t.remove = [], t.clearEvents = !0, t.dontForceCellRendering = !1, t.loaded = function () { this.async && e(t); }, A.onScroll(t), t.async || e(t);
            } }; }, this.rt = function () { var e = this.fa(), t = e.xStart, n = e.xEnd - e.xStart, i = e.yStart, a = e.yEnd - e.yStart; this.cellProperties || (this.cellProperties = {}); for (var r = A.Lk.top, o = A.Lk.bottom, s = 0; s <= n; s++) {
                for (var l = t + s, d = 0; d < a; d++) {
                    var c = i + d;
                    this.rowlist[c].hidden || this.ge(l, c);
                }
                if (this.st(l), r.enabled()) {
                    for (var c = 0; c < r.rowlist.length; c++)
                        this.ge(l, c, "top");
                    this.st(l, "top");
                }
                if (o.enabled()) {
                    for (var c = 0; c < o.rowlist.length; c++)
                        this.ge(l, c, "bottom");
                    this.st(l, "bottom");
                }
            } for (var u = this.yp(), c = u.start; c < u.end; c++)
                this.rowlist[c].hidden || this.tt(c); if (r.enabled())
                for (var c = 0; c < r.rowlist.length; c++)
                    r.rowlist[c].hidden || this.tt(c, "top"); if (o.enabled())
                for (var c = 0; c < o.rowlist.length; c++)
                    o.rowlist[c].hidden || this.tt(c, "bottom"); }, this.yk = function () { if (!A.Z) {
                var e = A.vl();
                if (e && e.length > 0) {
                    if (this.cellSweeping) {
                        var t = this.cellSweepingCacheSize;
                        this.as(t);
                    }
                    X.Rn(), this.rt(), this.ut(), X.Tm({ "dontFocus": !0 });
                }
                this.tm = !1;
            } }, this.ut = function () { for (var e = this.fa(), t = A.Lk.top, n = A.Lk.bottom, i = e.xStart; i < e.xEnd; i++) {
                i < this.itline.length - 1 && this.itline[i + 1].breakBefore && (this.vt(i), t.enabled() && this.vt(i, "top"), n.enabled() && this.vt(i, "bottom"));
            } }, this.vt = function (e, t) { t = t || "main"; var n = A.Lk[t], i = n.divBreaks, a = "main" === t, r = a ? A.ek : n.height, o = t + "_x_" + e; if (!this.V.breaks[o]) {
                var s = {};
                if ("function" == typeof A.onBeforeGridLineRender) {
                    var l = A.itline[e], d = A.itline[e + 1];
                    if (s.start = l && l.end, s.end = d && d.start, s.hidden = !1, s.cssClass = null, s.type = "VerticalBreak", s.grid = t, s.color = null, A.onBeforeGridLineRender(s), s.hidden)
                        return;
                }
                var u = A.itline[e + 1].left - 1, h = c();
                h.style.left = u + "px", h.style.top = "0px", h.style.width = "1px", h.style.height = r + "px", h.style.fontSize = "1px", h.style.lineHeight = "1px", h.style.overflow = "hidden", h.style.position = "absolute", h.setAttribute("unselectable", "on"), h.className = this.K("_matrix_vertical_break"), s.cssClass && (h.className += " " + s.cssClass), s.color && (h.style.backgroundColor = s.color), i.appendChild(h), this.elements.breaks.push(h), this.V.breaks[o] = h;
            } }, this.fa = function () { if (A.V.drawArea)
                return A.V.drawArea; if (!this.nav.scroll)
                return null; var e = A.Lo, t = {}, n = null != this.dynamicEventRenderingMarginX ? this.dynamicEventRenderingMarginX : this.dynamicEventRenderingMargin, i = null != this.dynamicEventRenderingMarginY ? this.dynamicEventRenderingMarginY : this.dynamicEventRenderingMargin, a = A.No - n - M.Sk, r = a + A.Rr + 2 * n, o = 0, s = 0; if (A.itline && A.itline.length > 0) {
                o = A.El(a).x, s = A.El(r, !0).x;
                var l = this.Mo();
                s = Math.min(s, l), o = p(o, 0);
            } var d = e - i, c = e + this.nav.scroll.offsetHeight + 2 * i, u = this.bn(d).i, h = this.bn(c).i; h < this.rowlist.length && h++, t.xStart = o, t.xEnd = s, t.yStart = u, t.yEnd = h; var f = A.nav.scroll; return 0 === f.clientWidth && (f = A.divTimeScroll), t.pixels = {}, t.pixels.left = f.scrollLeft - M.Sk, t.pixels.right = f.scrollLeft - M.Sk + f.clientWidth, t.pixels.top = f.scrollTop, t.pixels.bottom = f.scrollTop + f.clientHeight, t.pixels.width = f.scrollWidth, t.sw = DayPilot.sw(A.nav.scroll), A.V.drawArea = t, t; }, this._k = function () { var e = 0, t = this.itline[this.itline.length - 1]; return e = t ? t.left + t.width : 0, (e < 0 || isNaN(e)) && (e = 0), e; }, this.tt = function (e, t) { t = t || "main"; var n = A.Lk[t], i = n.rowlist, a = n.divLines, r = t + "_y_" + e; if (!this.V.ik[r]) {
                var o = i[e], s = {};
                if ("function" != typeof A.onBeforeGridLineRender || (s.row = A.Im(o), s.hidden = !1, s.cssClass = null, s.type = "HorizontalLine", s.color = null, A.onBeforeGridLineRender(s), !s.hidden)) {
                    var l = "number" == typeof o.forcedHeight ? o.forcedHeight : o.height, d = o.top + l - 1, u = this._k(), h = c(), f = h.style;
                    f.left = "0px", f.top = d + "px", f.width = u + "px", f.height = "1px", f.fontSize = "1px", f.lineHeight = "1px", f.overflow = "hidden", f.position = "absolute", h.setAttribute("unselectable", "on"), h.className = this.K("_matrix_horizontal_line"), s.cssClass && (h.className += " " + s.cssClass), s.color && (f.backgroundColor = s.color), a.appendChild(h), this.V.ik[r] = h;
                }
            } }, this.st = function (e, t) { var n = this.itline[e]; if (n) {
                t = t || "main";
                var i = A.Lk[t], a = i.divLines, r = "main" === t, o = r ? A.ek : i.height, s = t + "_x_" + e;
                if (!this.V.hk[s]) {
                    var l = {};
                    if ("function" != typeof A.onBeforeGridLineRender || (l.start = n.start, l.end = n.end, l.hidden = !1, l.cssClass = null, l.type = "VerticalLine", l.color = null, A.onBeforeGridLineRender(l), !l.hidden)) {
                        var d = n.left + n.width - 1, u = c(), h = u.style;
                        h.left = d + "px", h.top = "0px", h.width = "1px", h.height = o + "px", h.fontSize = "1px", h.lineHeight = "1px", h.overflow = "hidden", h.position = "absolute", u.setAttribute("unselectable", "on"), u.className = this.K("_matrix_vertical_line"), l.cssClass && (u.className += " " + l.cssClass), l.color && (h.backgroundColor = l.color), a.appendChild(u), this.elements.linesVertical.push(u), this.V.hk[s] = u;
                    }
                }
            } }, this.Do = function (e, t) { function n() { var t = A.wt(e, i.expanded, !1); if (!a)
                for (var n = 0; n < t.length; n++) {
                    var r = t[n];
                    A.um(r);
                } A._p(), A.db(), A.ij(); var o = A.Im(i, e); a ? A.Sm(o) : A.Rm(o); } A.Ik.bo && (A.Ik.skip = !0); var i = this.rowlist[e], a = !i.expanded; if (i.expanded = a, i.resource && (i.resource.expanded = a), t = t || {}, A.ok({ "includeHidden": !0 }), A.treeAnimation && !t.notAnimated) {
                var r = this.wt(e, i.expanded, !0);
                A.$p(r, a ? "show" : "hide", function () { n(); });
            }
            else
                n(); }, this._p = function () { A.tk(), A.pk(), A.qk(), A.db(), A.la(), A.wm(), B.ym(), A.vk(), A.yk(), A._l(), A.ib(), A.la(); }, this.Vp = function (e) { var t = {}; if (t.index = e, "function" == typeof this.onLoadNode) {
                var n = {}, i = this.rowlist[e].resource;
                n.resource = i, n.async = !1, n.loaded = function () { this.async && (i.dynamicChildren = !1, i.expanded = !0, A.update()); }, this.onLoadNode(n), n.async || (i.dynamicChildren = !1, i.expanded = !0, this.update());
            }
            else
                this.ra("LoadNode", t); }, this.wt = function (e, t, n) {
                var i = this.rowlist[e], a = [];
                if (null === i.children || 0 === i.children.length)
                    return a;
                for (var r = 0; r < i.children.length; r++) {
                    var o = i.children[r], s = this.rowlist[o], l = t && i.expanded && !s.Wq;
                    t && s.hidden && (s.forcedHeight = 0), n && !t || (s.hidden = !l), n || delete s.forcedHeight, t === l && a.push(o);
                    var d = this.wt(o, t && !s.hidden);
                    d.length > 0 && (a = a.concat(d));
                }
                return a;
            }, this.Rf = function (e, t) { this.Ma(), this.Sf(e, t); }, this.Tf = function (e) { if (!e)
                return !1; var t = this.nav.scroll, n = t.scrollWidth, i = t.scrollLeft, a = t.clientWidth, r = i + a; return !(e < 0 && i <= 0) && (!(e > 0 && r >= n) && (t.scrollLeft += e, A.coords.x += e, A.Uf(), !0)); }, this.Vf = function (e) { if (!e)
                return !1; var t = this.nav.scroll, n = t.scrollHeight, i = t.scrollTop, a = t.clientHeight, r = i + a; return !(e < 0 && i <= 0) && (!(e > 0 && r >= n) && (t.scrollTop += e, A.coords.y += e, A.Uf(), !0)); }, this.Uf = function () { o.oo && o.oo.event.calendar === A ? A.Qs() : o.Il && (o.jo.calendar === A || o.jo.calendar && o.jo.calendar.dragOutAllowed) ? (o.Il.event || (o.Il.event = o.jo), A.Rs()) : o.po && o.po.calendar === A && A.Ss(); }, this.Sf = function (e, t) { if (this.Tf(e) || this.Vf(t)) {
                var n = function (e, t) { return function () { A.Sf(e, t); }; };
                this.Wf = window.setTimeout(n(e, t), 100);
            } }, this.Ma = function () { A.Wf && (window.clearTimeout(A.Wf), A.Wf = null); }, this.tk = function () { A.Lk.top.enabled() && (A.Lk.top.height = A.xt(A.Lk.top.rowlist, 0)), A.Lk.bottom.enabled() && (A.Lk.bottom.height = A.xt(A.Lk.bottom.rowlist, 0)), A.ek = A.xt(A.rowlist, A.Lk.top.height); }, this.xt = function (e, t) { for (var n = 0, i = t || 0, t = t || 0, a = 0; a < e.length; a++) {
                var r = e[a];
                r.hidden || (r.top = t, r.displayY = n, t += "number" == typeof r.forcedHeight ? r.forcedHeight : r.height, n += 1), r.absTop = i, i += r.height;
            } return t; }, this.vk = function () { var e = "function" == typeof A.onBeforeRowHeaderDomAdd && A.F.reactDOM; (DayPilot.browser.ie || e) && A.yt(), A.elements.cells = [], A.elements.breaks = [], A.V.cells = [], A.V.breaks = [], A.divBreaks.innerHTML = "", A.Lk.top.divBreaks.innerHTML = "", A.Lk.bottom.divBreaks.innerHTML = "", A.divCells.innerHTML = "", A.Lk.top.divCells.innerHTML = "", A.Lk.bottom.divCells.innerHTML = "", A.Jp(); }, this.Jp = function () { A.divLines.innerHTML = "", A.Lk.top.divLines.innerHTML = "", A.Lk.bottom.divLines.innerHTML = "", A.V.hk = {}, A.V.ik = {}, A.elements.linesVertical = []; }, this.yt = function (e) { var t = x(); for (var n in A.V.cells)
                t.push(A.V.cells[n]); t.forEach(function (e) { A.co(e); }); }, this.xm = function (e, t) { t = t || "main"; var n = x(); for (var i in A.V.cells)
                n.push(A.V.cells[i]); n.filter(function (n) { return n && n.coords && n.coords.y === e && n.coords.grid === t; }).forEach(function (e) { A.co(e); }); }, this.zt = 0, this.At = x(["html", "cssClass", "backColor", "backImage", "backRepeat", "areas", "disabled"]), this.Bt = A.At.add("business"), this.ge = function (e, t, n) { if (this.Y) {
                var i = A.Kl(e);
                if (i) {
                    n = n || "main";
                    var a = this.Lk[n], r = a.rowlist, o = a.divCells, s = "main" === n, l = n + "_" + e + "_" + t;
                    if (!this.V.cells[l]) {
                        var d = this.eo(e, t, n);
                        if (A.To(e, t, n), !this.drawBlankCells) {
                            var u = !1;
                            if (s && this.zo(t) ? u = !1 : this.Ct(d, A.At) || (u = !0), u)
                                return;
                        }
                        var h = c();
                        h.style.left = i.left + "px", h.style.top = r[t].top + "px", h.style.width = i.width + "px", h.style.height = r[t].height + "px", h.style.position = "absolute", d && d.backColor && (h.style.backgroundColor = d.backColor), h.setAttribute("unselectable", "on"), h.className = this.K("_cell"), h.coords = {}, h.coords.x = e, h.coords.y = t, h.coords.grid = n, s && A.zo(t) && f(h, this.K("_cellparent")), U.V[t] && f(h, this.K("_cell_selected"));
                        var v = A.cells.findXy(e, t, n)[0];
                        if (d) {
                            d.cssClass && f(h, d.cssClass), m(d.html) || (h.innerHTML = d.html), d.backImage && (h.style.backgroundImage = 'url("' + d.backImage + '")'), d.backRepeat && (h.style.backgroundRepeat = d.backRepeat), d.business && A.cellsMarkBusiness && f(h, A.K("_cell_business")), d.disabled && f(h, A.K("_cell_disabled"));
                            var p = DayPilot.Areas.resolvePosition(d.areas, A, i.left, i.width);
                            DayPilot.Areas.attach(h, v, { "areas": p });
                        }
                        if (function () { if ("function" == typeof A.onBeforeCellDomAdd || "function" == typeof A.onBeforeCellDomRemove) {
                            var e = {};
                            if (e.control = A, e.cell = v, e.element = null, h.domArgs = e, "function" == typeof A.onBeforeCellDomAdd && A.onBeforeCellDomAdd(e), e.element) {
                                var t = h;
                                if (t) {
                                    e.Wd = t;
                                    if (b(e.element)) {
                                        if (!A.F.reactDOM)
                                            throw new DayPilot.Exception("Can't reach ReactDOM");
                                        A.F.E(e.element, t);
                                    }
                                    else
                                        t.appendChild(e.element);
                                }
                            }
                        } }(), o.appendChild(h), this.elements.cells.push(h), this.V.cells[l] = h, "function" == typeof A.onAfterCellRender) {
                            var y = {};
                            y.cell = g(v, {}, ["x", "y", "displayY", "start", "end", "resource", "grid"]), y.div = h, A.onAfterCellRender(y);
                        }
                    }
                }
            } }, this.yl = {}, this.Xn = function () { A.Dt(), A.Et().forEach(function (e) { A.xm(e.y, e.grid); }), A.yk(); }, this.Dt = function () { function e(e) { A.Lk[e].rowlist.forEach(function (t, n) { t.isNewRow || t.resource.cellsAutoUpdated && A.itline.forEach(function (t, i) { var a = e + "_" + i + "_" + n; delete A.yl[a]; }); }); } e("main"), e("top"), e("bottom"); }, this.Et = function () { function e(e, n, r) { for (var o = 0; o < r; o++)
                for (var s = n + o, l = A.Lk[e].rowlist[s], d = 0; d <= a; d++) {
                    var c = i + d;
                    if (!l.hidden && !A.yl[e + "_" + c + "_" + s]) {
                        t.push({ "grid": e, "y": s });
                        break;
                    }
                } } var t = x(), n = this.fa(), i = n.xStart, a = n.xEnd - n.xStart; return e("main", n.yStart, n.yEnd - n.yStart), e("top", 0, A.Lk.top.rowlist.length), e("bottom", 0, A.Lk.bottom.rowlist.length), t; }, this.To = function (e, t, n) { if ("function" == typeof this.onBeforeCellRender) {
                n = n || "main";
                var i = n + "_" + e + "_" + t;
                if (A.beforeCellRenderCaching && A.yl[i])
                    return;
                A.yl[i] = !0;
                var a = A.Kl(e);
                if (!a)
                    return;
                var r = A.cells.findXy(e, t, n)[0], o = {};
                return o.cell = r, o.control = A, o.getPixels = function (e) { var e = new DayPilot.Date(e); return A.getPixels(e).left - a.left; }, this.onBeforeCellRender(o), g(o.cell, o.cell.properties, A.Bt), o.cell.properties.disabled && (A.yl.tp = !0), o;
            } }, this.Ct = function (e, t) { if (t) {
                for (var n = 0; n < t.length; n++)
                    if (!m(e[t[n]]))
                        return !0;
            }
            else
                for (var i in e)
                    if (!m(e[i]))
                        return !0; return !1; }, this.clearSelection = function () { this.Bk(), G.clear(); }, this.cleanSelection = this.clearSelection, this.jt = function (e, t, n) { e = new DayPilot.Date(e), t = new DayPilot.Date(t); var i = A.Pk(n), a = A.Gl(e), r = a.current || a.next; if (!r)
                throw new DayPilot.Exception("Time range selection 'start' out of timeline"); var o = A.Gl(new DayPilot.Date(t).addMilliseconds(-1)), s = o.current || o.previous; if (!s)
                throw new DayPilot.Exception("Time range selection 'end' out of timeline"); var l = {}; return l.start = { y: i.index, x: D(A.itline, r), "time": e, "grid": i.grid }, l.end = { x: D(A.itline, s), "time": t }, l.calendar = this, l; }, this.selectTimeRange = function (e, t, n, i) { var a = A.jt(e, t, n); A.Em(a), i || setTimeout(function () { A.Am(a); }, 0); }, this.Xb = function () { var e = o.lp && o.lp.source; e && h(e, A.K(A.ws.eventMovingSource)), C(o.lp), o.lp = null, A.up(), A.jp.clear(), w.movingLink && (w.movingLink.clear(), w.movingLink = null); }, this.Bk = function () { A.divShadow && (A.divShadow.innerHTML = ""), A.Lk.top.divShadow && (A.Lk.top.divShadow.innerHTML = ""), A.Lk.bottom.divShadow && (A.Lk.bottom.divShadow.innerHTML = ""), A.elements.range = [], A.elements.range2 = null, A.up(), A.Dm = null, A.ht = null; };
            var X = {};
            X.Nj = null, X.Sn = !1, X.Ft = function (e) { if (!e)
                return null; var t = {}; if ("event" === e.type)
                t.e = e.event;
            else if ("cell" === e.type) {
                var n = X.Gt(e.x, e.y);
                t.cell = {}, t.cell.start = n.thc.start, t.cell.end = n.thc.end, t.cell.resource = n.row.id;
            } return t; }, X.Tm = function (e) { if (!o.Qn && !X.Sn) {
                e = e || {};
                var t = e.dontFocus, n = X.Nj;
                if (n) {
                    var i = n.x, a = n.y;
                    if ("cell" === n.type) {
                        var r = X.Gt(i, a), s = r.row, l = X.Ht(i, a);
                        l && f(l, A.K("_cell_focus")), "top" === n.line && s.marginTop && f(l, A.K("_cell_focus_top")), "bottom" === n.line && s.marginBottom && f(l, A.K("_cell_focus_bottom"));
                    }
                    else {
                        var l = A.lg(n.event);
                        l && f(l, A.K("_event_focus"));
                    }
                    if (!t) {
                        var d = A.cn();
                        if (d.start.x >= i) {
                            var c = A.itline[i].start;
                            A.scrollTo(c);
                        }
                        else if (d.end.x <= i) {
                            var u = A.itline[i].end;
                            A.scrollTo(u, !1, "right");
                        }
                        if (d.start.y >= a)
                            A.nav.scroll.scrollTop = A.rowlist[a].top - A.Lk.top.height;
                        else if (d.end.y <= a) {
                            var s = A.rowlist[a], h = s.top + s.height;
                            A.nav.scroll.scrollTop = h - A.nav.scroll.clientHeight + A.Lk.bottom.height;
                        }
                    }
                }
            } }, X.Rn = function () { var e = X.Nj; if (e)
                if ("cell" === e.type) {
                    var t = X.Ht(X.Nj.x, X.Nj.y);
                    t && (h(t, A.K("_cell_focus")), h(t, A.K("_cell_focus_top")), h(t, A.K("_cell_focus_bottom")));
                }
                else {
                    var t = A.lg(e.event);
                    t && h(t, A.K("_event_focus"));
                } }, X.Gt = function (e, t) { var n = {}, i = A.rowlist[t], a = A.itline[e], r = [], o = i.lines.map(function (e) { var t = e.filter(function (e) { return u(e.part.start, e.part.end, a.start, a.end); }); return r = r.concat(t), t; }); return n.lines = o, n.thc = a, n.row = i, n.events = r, n; }, X.om = function () { var e = X.Nj; e && (X.Rn(), X.Nj = X.It(e.x, e.y, e.pixels, e.line), X.Tm({ "dontFocus": !0 })); }, X.It = function (e, t, n, i) { var a = {}; n = n || A.itline[e].left, i = m(i) ? "top" : i; var r = X.Gt(e, t), o = r.lines, s = r.row, l = r.events, d = s.marginTop || s.marginBottom, c = !1, h = l.length > 0, f = i, v = null, p = null; if (h)
                if (s.marginTop && "top" === i)
                    c = !0, f = "top";
                else if (s.marginBottom && "bottom" === i)
                    c = !0, f = "bottom";
                else {
                    if ("top" === i)
                        if (s.marginBottom) {
                            var g = r.lines.find(function (e) { return e.find(function (e) { return e.part.left <= n && n <= e.part.right; }); });
                            if (g)
                                f = r.lines.indexOf(g);
                            else {
                                var b = r.lines.find(function (e) { return e.find(function (e) { return u(e.part.left, e.part.right, r.thc.left, r.thc.left + r.thc.right); }); });
                                b ? (f = r.lines.indexOf(b), p = b[0]) : f = "bottom";
                            }
                        }
                        else
                            f = s.marginTop ? "top" : 0;
                    else if ("bottom" === i)
                        if (d) {
                            var g = r.lines.slice().reverse().find(function (e) { return e.find(function (e) { return e.part.left <= n && n <= e.part.right; }); });
                            f = r.lines.indexOf(g), f === -1 && (f = X.Jt(i, s));
                        }
                        else
                            f = o.length - 1;
                    else
                        f = i;
                    var y = o[f];
                    p || (p = y && y.find(function (e) { return e.part.left <= n && n <= e.part.right; })), p || (c = !0, f = X.Jt(f, s)), v = p;
                }
            else
                c = !0, f = d ? X.Jt(i, s) : 0; return a.x = e, a.y = t, c ? (a.type = "cell", a.pixels = n, a.line = f, a) : (a.type = "event", a.event = v, a.pixels = v.part.left, a.x = A.El(v.part.left).x, a.line = f, a); }, X.Kt = function (e) { var t = {}, n = X.Nj, i = A.rowlist[n.y], a = i.lines[n.line], r = X.Gt(n.x, n.y), o = i.marginTop || i.marginBottom; if ("right" === e) {
                if ("event" === n.type) {
                    var s = n.event.part.end, l = n.event.part.right, d = A.Gl(s), c = d.i, h = d.current.left + d.current.width, f = a.indexOf(n.event) + 1, v = a[f], p = r.lines[n.line], m = p[p.indexOf(n.event) + 1];
                    if (v && v.part.left === l)
                        return t.x = c + 1, t.y = n.y, t.type = "event", t.line = n.line, t.pixels = v.part.left, t.event = v, t;
                    if (m && o)
                        return t.x = c, t.y = n.y, t.type = "event", t.line = n.line, t.pixels = m.part.left, t.event = m, t;
                    if (h === l) {
                        var g = X.Lt(c);
                        return g === c ? n : (t.x = c + 1, t.y = n.y, t.type = "cell", t.pixels = A.itline[t.x].left, t.line = n.line, i.marginTop ? t.line = "top" : i.marginBottom && (t.line = "bottom"), t);
                    }
                    return t.x = c, t.y = n.y, t.type = "cell", t.line = n.line, t.pixels = n.event.part.right, o && (t.line = X.Jt(n.line, i)), t;
                }
                var r = X.Gt(n.x, n.y), a = r.lines[n.line], v = a && a.find(function (e) { return e.part.left > n.pixels; });
                if (v)
                    return t.x = n.x, t.y = n.y, t.type = "event", t.event = v, t.pixels = v.part.left, t.line = n.line, t;
                var g = X.Lt(n.x);
                return g === n.x ? n : X.It(n.x + 1, n.y, null, n.line);
            } if ("left" === e) {
                var b = n.x;
                if ("event" === n.type) {
                    b = A.El(n.event.part.left).x;
                    var d = A.itline[b];
                    if (n.event.part.left !== d.left) {
                        var f = a.indexOf(n.event) - 1, v = a[f];
                        return v && v.part.right === n.event.part.left ? (d = A.El(v.part.right, !0), t.x = d.x, t.y = n.y, t.type = "event", t.line = n.line, t.pixels = v.part.right, t.event = v, t) : (d = A.El(n.event.part.left), t.x = d.x, t.y = n.y, t.type = "cell", t.line = n.line, t.pixels = n.event.part.left, o && (t.line = X.Jt(n.line, i)), t);
                    }
                    t = X.It(b - 1, n.y, d.right, n.line);
                }
                else {
                    var r = X.Gt(n.x, n.y), a = r.lines[n.line], v = a && a.slice().reverse().find(function (e) { return e.part.right < n.pixels; });
                    if (v)
                        return t.x = n.x, t.y = n.y, t.type = "event", t.event = v, t.pixels = v.part.right, t.line = n.line, t;
                    var g = X.Mt(n.x);
                    if (g === n.x)
                        return n;
                    var d = A.itline[b - 1], h = d.left + d.width;
                    t = X.It(b - 1, n.y, h, n.line);
                }
                return t;
            } if ("down" === e) {
                var r = X.Gt(n.x, n.y), y = r.lines.find(function (e) { return e.find(function (e) { return e.part.left <= n.pixels && n.pixels <= e.part.right; }); });
                if ("top" === n.line && i.marginTop) {
                    if (y) {
                        var w = r.lines.indexOf(y);
                        return t = X.It(n.x, n.y, n.pixels, w), t.pixels = n.pixels, t.x = n.x, t;
                    }
                    var x = r.lines.find(function (e) { return e.find(function (e) { return u(e.part.left, e.part.right, r.thc.left, r.thc.left + r.thc.right); }); });
                    if (x) {
                        var k = x[0];
                        return t = X.It(n.x, n.y, k.part.left, r.lines.indexOf(x)), t.pixels = n.pixels, t.x = n.x, t;
                    }
                    var C = X.Nt(n.y);
                    return C === n.y ? n : (t = X.It(n.x, n.y + 1, n.pixels, "top"), t.pixels = n.pixels, t.x = n.x, t);
                }
                if ("bottom" === n.line && i.marginBottom) {
                    var C = X.Nt(n.y);
                    return C === n.y ? n : (t = X.It(n.x, n.y + 1, n.pixels, "top"), t.pixels = n.pixels, t.x = n.x, t);
                }
                if (n.line < i.lines.length - 1) {
                    var D = n.y, S = n.line + 1;
                    i.marginTop && "top" === n.line && (S = 0);
                    var y = r.lines.slice(S).find(function (e) { return e.find(function (e) { return e.part.left <= n.pixels && n.pixels <= e.part.right; }); });
                    if (y)
                        S = r.lines.indexOf(y);
                    else if (i.marginBottom)
                        S = "bottom";
                    else if (i.marginTop) {
                        var x = r.lines.slice(n.line + 1).find(function (e) { return e.find(function (e) { return u(e.part.left, e.part.right, r.thc.left, r.thc.left + r.thc.right); }); });
                        if (x) {
                            var k = x[0];
                            return t = X.It(n.x, n.y, k.part.left, r.lines.indexOf(x));
                        }
                        S = "top", D += 1;
                    }
                    else
                        n.event ? S = i.lines.length - 1 : (S = 0, D += 1);
                    return t = X.It(n.x, D, n.pixels, S), t.pixels = n.pixels, t.x = n.x, t;
                }
                if (n.line === i.lines.length - 1 && i.marginBottom)
                    return t = X.It(n.x, n.y, n.pixels, "bottom"), t.pixels = n.pixels, t.x = n.x, t;
                var C = X.Nt(n.y);
                return C === n.y ? n : (t = X.It(n.x, n.y + 1, n.pixels, "top"), t.pixels = n.pixels, t.x = n.x, t);
            } if ("up" === e) {
                var r = X.Gt(n.x, n.y), y = r.lines.slice().reverse().find(function (e) { return e.find(function (e) { return e.part.left <= n.pixels && n.pixels <= e.part.right; }); });
                if ("bottom" === n.line && i.marginBottom && y) {
                    var w = r.lines.indexOf(y);
                    t = X.It(n.x, n.y, n.pixels, w);
                }
                else if (0 === n.line && i.marginTop)
                    t = X.It(n.x, n.y, n.pixels, "top");
                else if (n.line > 0) {
                    var S = "bottom", D = n.y, y = r.lines.slice(0, n.line).reverse().find(function (e) { return e.find(function (e) { return e.part.left <= n.pixels && n.pixels <= e.part.right; }); });
                    y ? S = r.lines.indexOf(y) : i.marginTop ? S = "top" : i.marginBottom ? D -= 1 : S = 0;
                    var C = X.Ot(D);
                    if (C === D)
                        return n;
                    t = X.It(n.x, D, n.pixels, S);
                }
                else {
                    var C = X.Ot(n.y);
                    if (C === n.y)
                        return n;
                    t = X.It(n.x, n.y - 1, n.pixels, "bottom");
                }
                return t.x = n.x, t.pixels = n.pixels, t;
            } return null; }, X.Jt = function (e, t) { var n = "top" === e && t.marginTop || "bottom" === e && t.marginBottom; if ("number" == typeof e || !n) {
                if (t.marginTop)
                    return "top";
                if (t.marginBottom)
                    return "bottom";
            } return e; }, X.Ht = function (e, t, n) { n = n || "main"; var i = n + "_" + e + "_" + t; return A.V.cells[i]; }, X.Pt = function () { return X.Nj; }, X.Yg = function () { var e = A.keyboardTarget; switch (e) {
                case "component": return A.nav.top;
                case "document": return document;
            } throw new DayPilot.Exception("Invalid keyboardTarget value: " + e); }, X.po = null, X.Qt = function (e) { if (16 === e.keyCode) {
                var t = X.po;
                if (X.po = null, !t || !t.end)
                    return;
                var n = t.start.x < t.end.x, i = n ? t.start.x : t.end.x, a = n ? t.end.x : t.start.x;
                X.Rt(i, t.start.y, a, { "forceSnap": !0 });
            } }, X.St = function (e) { var t = 37, n = 38, i = 39, a = 40, r = 13, s = {}; s["_37"] = "left", s["_39"] = "right", s["_38"] = "up", s["_40"] = "down"; var l = [t, n, i, a], d = l.indexOf(e.keyCode) !== -1, c = [t, n, i, a, r], u = c.indexOf(e.keyCode) !== -1; if (!o.Qn) {
                if ("function" == typeof A.onKeyDown) {
                    var h = {};
                    if (h.originalEvent = e, h.preventDefault = function () { h.preventDefault.value = !0; }, A.onKeyDown(h), h.preventDefault.value)
                        return;
                }
                if (d && (e.preventDefault(), !X.Nj))
                    return void X.Tt();
                if (u) {
                    var f = e.shiftKey;
                    if (X.Nj) {
                        var v = A.zo(X.Nj.y), p = !(v && A.treePreventParentUsage);
                        f && !X.Nj.event && !X.po && p && (X.po = { "calendar": A, "forceSnap": !0, "start": { x: X.Nj.x, y: X.Nj.y, time: A.itline[X.Nj.x].start } });
                    }
                    if (!X.po || e.keyCode !== n && e.keyCode !== a) {
                        var m = X.Kt(s["_" + e.keyCode]), h = {};
                        if (h.previous = A.keyboard.getFocus(), h.focus = X.Ft(m), h.preventDefault = function () { h.preventDefault.value = !0; }, !d || "function" != typeof A.onKeyboardFocusChange || (A.onKeyboardFocusChange(h), !h.preventDefault.value)) {
                            if (d)
                                X.Rn(), X.Nj = m, X.Tm();
                            else
                                switch (e.keyCode) {
                                    case r: if (e.preventDefault(), X.Nj && X.Nj.event) {
                                        var g = A.lg(X.Nj.event);
                                        X.Ut(g, e);
                                    }
                                    else
                                        p && X.Rt(X.Nj.x, X.Nj.y);
                                }
                            d && "function" == typeof A.onKeyboardFocusChanged && (A.onKeyboardFocusChanged(h), h.preventDefault.value) || (e.keyCode !== t && e.keyCode !== i || X.po && (X.po.end = { x: X.Nj.x, y: X.Nj.y, time: A.itline[X.Nj.x].start }, A.Em(X.po)), X.po);
                        }
                    }
                }
            } }, X.in = function () { var e = X.Yg(); e.removeEventListener("keyup", X.Qt), e.removeEventListener("keydown", X.St); }, X.Vt = function () { var e = X.Yg(); e !== document && A.nav.top.setAttribute("tabindex", "-1"), A.M() || (e.addEventListener("keyup", X.Qt), e.addEventListener("keydown", X.St)); }, X.Ut = function (e, t) { A.Bb(e, t); }, X.Rt = function (e, t, n) { l = l || {}; var i = {}; i.forceSnap = !0, i.start = { y: t, x: e, time: A.itline[e].start }, i.end = { x: "undefined" == typeof n ? e : n }, i.end.time = A.itline[i.end.x].start, i.calendar = A, A.Dm = i, A.Am(i); }, X.Tt = function () { var e = A.cn(); X.Rn(), X.Nj = X.It(e.start.x, e.start.y), X.Tm(); }, X.Wt = function () { var e = "Always" === A.useEventBoxes; e = e && !A.M(), e && (X.Vt(), X.Yg() !== document && A.nav.top.focus()); }, X.Ot = function (e) { if (e <= 0)
                return e; for (var t = e; t > 0;)
                if (t -= 1, !A.rowlist[t].hidden)
                    return t; return e; }, X.Nt = function (e) { var t = A.rowlist.length - 1; if (e >= t)
                return e; for (var n = e; n < t;)
                if (n += 1, !A.rowlist[n].hidden)
                    return n; return e; }, X.Lt = function (e) { return e >= A.itline.length - 1 ? e : e + 1; }, X.Mt = function (e) { return e <= 0 ? e : e + 1; }, X.fm = function () { X.Nj = null; }, this.gm = X, this.keyboard = {}, this.keyboard.focusCell = function (e, t) { var n = A.km(e, t); if (!n)
                throw new DayPilot.Exception("Can't find the specified cell"); if ("main" !== n.grid)
                throw new DayPilot.Exception("Can't focus a cell in a frozen row"); X.Rn(), X.Nj = X.It(n.x, n.y), X.Tm(); }, this.keyboard.focusEvent = function (e) { e instanceof DayPilot.Event && (e = e.id()); var t = A.events.find(e); if (!t)
                throw new DayPilot.Exception("Event not found"); t = A.events.Hn(t.data); var n = (A.rowlist[t.part.dayIndex], {}); n.type = "event", n.event = t, n.pixels = t.part.left, n.x = A.El(t.part.left).x, n.y = t.part.dayIndex, n.line = t.part.line, X.Rn(), X.Nj = n, X.Tm(); }, this.keyboard.resetFocus = function () { X.Tt(); }, this.keyboard.getFocus = function () { return X.Ft(X.Nj); }, this.keyboard.move = function (e, t) { t = t || {}; var n = t.dontFireEvent; X.Rn(); var i = X.Kt(e), a = {}; return a.previous = A.keyboard.getFocus(), a.focus = X.Ft(i), a.preventDefault = function () { a.preventDefault.value = !0; }, "function" == typeof A.onKeyboardFocusChange && !n && (A.onKeyboardFocusChange(a), a.preventDefault.value) ? void X.Tm() : (X.Nj = i, X.Tm(), void ("function" != typeof A.onKeyboardFocusChanged || n || A.onKeyboardFocusChanged(a))); }, this.oa = {};
            var Z = this.oa;
            Z.ng = function () { delete A.V.eventHeight, delete A.V.headerHeight; }, Z.na = function () { return "Disabled" !== A.xssProtection; }, Z.sc = function () { return DayPilot.Locale.find(A.locale); }, Z.rc = function () { return "Auto" !== A.timeFormat ? A.timeFormat : Z.sc().timeFormat; }, Z.ld = function () { if ("Auto" === A.weekStarts) {
                var e = Z.sc();
                return e ? e.weekStarts : 0;
            } return A.weekStarts || 0; }, Z.Kp = function () { var e = navigator.userAgent.toLowerCase(); return e.indexOf("mobile") !== -1 || e.indexOf("android") != -1; }, Z.ar = function () { var e = /MSIE 6/i.test(navigator.userAgent); return "Auto" === A.layout ? e ? "TableBased" : "DivBased" : A.layout; }, Z.Ob = function () { var e; if ("Immediate" === A.notifyCommit)
                e = "Notify";
            else {
                if ("Queue" !== A.notifyCommit)
                    throw new DayPilot.Exception("Invalid notifyCommit value: " + A.notifyCommit);
                e = "Queue";
            } return e; }, Z.bq = function () { return "Days" !== A.viewType; }, Z.hg = function (e) { return "Always" === A.useEventBoxes || "Never" !== A.useEventBoxes && e < 60 * A.mo() * 1e3; }, Z.Uo = function () { return "number" == typeof A.durationBarHeight ? A.durationBarHeight : 4; }, Z.rn = function () { if (A.V.eventHeight)
                return A.V.eventHeight; var e = A.rg("_event_height").height; return e || (e = A.eventHeight), A.V.eventHeight = e, e; }, Z.Vd = function () { if (A.V.headerHeight)
                return A.V.headerHeight; var e = A.rg("_header_height").height; return e || (e = A.headerHeight), A.V.headerHeight = e, e; }, Z.rr = function () { if (A.V.scrollLineHeight)
                return A.V.scrollLineHeight; var e = c(); e.style.fontSize = "initial", e.style.display = "none", d().appendChild(e); var t = parseInt(window.getComputedStyle(e).fontSize) || 16; return d().removeChild(e), A.V.scrollLineHeight = t, t; }, Z.dl = function () { return A.rowHeaderScrolling ? A.rowHeaderSplitterWidth : 1; }, Z.Ml = function () { return "string" == typeof A.multiSelectRectangle ? A.multiSelectRectangle : "Disabled" === A.rectangleSelectHandling ? "Disabled" : A.rectangleSelectMode; }, Z.Xt = function () { return "string" == typeof A.multiSelectRectangle ? "Free" === A.multiSelectRectangle || "Row" === A.multiSelectRectangle ? "EventSelect" : "Disabled" : A.rectangleSelectHandling; }, Z.Ro = function () { return x(A.rowHeaderColumns).filter(function (e) { return !e.hidden; }); }, this.Yt = {};
            var Q = this.Yt;
            Q.Vo = function (e) { var t = {}; t.top = 0, t.height = 0; for (var n = Z.Vd(), i = 0; i <= e; i++) {
                var a = A.timeHeaders[i];
                t.top += t.height, t.height = a.height || n;
            } return t; }, this.eo = function (e, t, n) { n = n || "main"; var i = n + "_" + e + "_" + t, a = A.Lk[n], r = a.rowlist; if (A.cellConfig) {
                i = e + "_" + t;
                for (var o = 0, s = 0; s < A.resources.length; s++)
                    if (!A.resources[s].hidden) {
                        if (o === t) {
                            t = s;
                            break;
                        }
                        o += 1;
                    }
            } if (this.cellProperties || (this.cellProperties = {}), this.cellProperties[i])
                return this.cellProperties[i]; if (this.$j && (this.cellProperties[i] = A.Zt(e, t)), !this.cellProperties[i]) {
                var l = r[t], d = l.id, c = l.start.getTime() - A.wb().getTime(), u = A.Kl(e), h = u.start.addTime(c), f = u.end.addTime(c), v = {};
                v.start = h, v.end = f, v.resource = d;
                var p = {};
                p.business = A.isBusiness(v), l.cellsDisabled && (A.yl.tp = !0, p.disabled = !0), this.cellProperties[i] = p;
            } return this.cellProperties[i]; }, this.$t = function (e, t, n) { var i = t + "_" + n; return this.cellProperties[i] = {}, g(e, this.cellProperties[i], A.Bt), this.cellProperties[i]; }, this.Zt = function (e, t) { if (!this.cellConfig)
                return null; var n = this.cellConfig, i = this.cellProperties[e + "_" + t]; !i && n.vertical && (i = this.cellProperties[e + "_0"]), !i && n.horizontal && (i = this.cellProperties["0_" + t]), !i && n["default"] && (i = n["default"]); var a = {}; return g(i, a, A.Bt), a; }, this.Wa = function () { if (!this.$j && !this._j && (this._j = !0, this.cellConfig)) {
                var e = this.cellConfig;
                if (e.vertical)
                    for (var t = 0; t < e.x; t++) {
                        var n = this.cellProperties[t + "_0"];
                        if (n)
                            for (var i = 1; i < e.y; i++)
                                this.$t(n, t, i);
                    }
                if (e.horizontal)
                    for (var i = 0; i < e.y; i++) {
                        var n = this.cellProperties["0_" + i];
                        if (n)
                            for (var t = 1; t < e.x; t++)
                                this.$t(n, t, i);
                    }
                if (e["default"])
                    for (var n = e["default"], i = 0; i < e.y; i++)
                        for (var t = 0; t < e.x; t++)
                            this.cellProperties[t + "_" + i] || this.$t(n, t, i);
            } }, this.isBusiness = function (e, t) { var n = e.start, i = e.end, a = (i.getTime() - n.getTime()) / 6e4; if (a <= 1440 && !(A.businessWeekends || t || 0 !== e.start.dayOfWeek() && 6 !== e.start.dayOfWeek()))
                return !1; if (a < 720) {
                var r = n.getHours();
                r += n.getMinutes() / 60, r += n.getSeconds() / 3600, r += n.getMilliseconds() / 36e5;
                var o = this.businessBeginsHour, s = this.businessEndsHour;
                if (0 === s && (s = 24), o === s)
                    return !1;
                if (!(o < s))
                    return r < s || r >= o;
                if (r < o)
                    return !1;
                if (s >= 24)
                    return !0;
                if (r >= s)
                    return !1;
            } return !0; }, this.le = function () { switch (A._) {
                case "aspnet":
                    if (!this.xa())
                        throw new DayPilot.Exception("ASP.NET WebForms environment required. https://doc.daypilot.org/common/asp-net-webforms-required/");
                    break;
                case "netmvc":
                    if (!this.backendUrl)
                        throw new DayPilot.Exception("DayPilot.Scheduler.backendUrl required. https://doc.daypilot.org/common/backendurl-required-asp-net-mvc/");
                    break;
                case "javaxx": if (!this.backendUrl)
                    throw new DayPilot.Exception("DayPilot.Scheduler.backendUrl required. https://doc.daypilot.org/common/backendurl-required-java/");
            } }, this.hb = function () { "hidden" === this.nav.top.style.visibility && (this.nav.top.style.visibility = "visible"); }, this.Cf = function () { var e = A.nav.top; return !!e && (e.offsetWidth > 0 && e.offsetHeight > 0); }, this.Df = function () { var e = A.Cf; return e() ? void A.Ef() : void (A.Ff || (A.Ff = setInterval(function () { e() && (clearInterval(A.Ff), A.show(), A.Ap(), A.Ef()); }, 100))); }, this._t = function (e) { "Parent100Pct" !== this.heightSpec && (this.heightSpec = "Fixed"), this.height = e - (this.fl() + 2), this.db(); }, this.setHeight = this._t, this.Pk = function (e) { return A.dq(e).first(); }, this.Fg = function () { if (this.id && this.id.tagName)
                this.nav.top = this.id;
            else {
                if ("string" != typeof this.id)
                    throw new DayPilot.Exception("DayPilot.Scheduler() constructor requires the target element or its ID as a parameter");
                if (this.nav.top = document.getElementById(this.id), !this.nav.top)
                    throw new DayPilot.Exception("DayPilot.Scheduler: The placeholder element not found: '" + t + "'.");
            } }, this.au = function () { this.rowHeaderColumnsMode = "Legacy", this.og(), this.nk(), this.ok(), this.im(), this.kb(), this.Jf(), this.Ia(), o.Hg(this), this.Sa(this.afterRenderData, !1), this.Qr(), this.mb(), this.ra("Init"); }, this.init = function () { if (this.Y)
                throw new DayPilot.Exception("This instance is already initialized. Use update() to change properties."); if (this.Fg(), this.nav.top.dp) {
                if (this.nav.top.dp === A)
                    return A;
                if (this.xa())
                    return A;
                throw new DayPilot.Exception("The target placeholder was already initialized by another DayPilot component instance.");
            } return this.Hr(), this.bu(), this.Df(), this.cu(), this; }, this.cu = function () { A.keyboardEnabled && X.Wt(); }, this.du = function () { A.multiselect.xk(A.selectedEvents); }, this.bu = function () { if (this.dm(), this.Eg())
                return this.au(), this.Y = !0, void this.la(); this.Jf(), this.Ia(), o.Hg(this), this.Qr(), this.du(), A.zoomLevels && A.zoomLevels[A.zoom.active] && A.zoom.setActive(A.zoom.active), !A.Y && M.xl() && (A.Jk || (A.Jk = { "date": A.startDate })), this.bd(); var angular = A.mg.scope || A.Ik.enabled; A.scrollToDate ? A.scrollTo(A.scrollToDate) : A.scrollX || A.scrollY ? A.setScroll(A.scrollX, A.scrollY) : angular || A.Ek(), A.scrollToResourceId && (A.scrollToResource(A.scrollToResourceId), A.scrollToResourceId = null); var e = function () { A.scrollY && A.setScroll(A.scrollX, A.scrollY); }; window.setTimeout(e, 200), this.messageHTML && window.setTimeout(function () { A.message(A.messageHTML); }, 0), this.mb(), this.la(), this.Sa(this.afterRenderData, !1), A.initEventEnabled && setTimeout(function () { A.ra("Init"); }), this.Ig(), this.Y = !0, this.eu = !0; var t = A.Jk; t ? A.scrollTo(t.date, t.animated, t.position) : A.Ek(), A.Jk = null; }, this.Ir = function () { A.M() && delete A.infinite; }, this.Jg = null, this.qg = function (e) { if (e) {
                var t = { "resources": { "preInit": function () { var e = this.data; e && (A.resources = e); } }, "events": { "preInit": function () { var e = this.data; e && (DayPilot.isArray(e.list) ? A.events.list = e.list : A.events.list = e); }, "postInit": function () { } }, "links": { "preInit": function () { var e = this.data; e && (DayPilot.isArray(e.list) ? A.links.list = e.list : A.links.list = e); }, "postInit": function () { } }, "scrollTo": { "preInit": function () { }, "postInit": function () { this.data && A.Hk(this.data, e.scrollToAnimated, e.scrollToPosition); } }, "scrollX": { "postInit": function () { this.data && A.Nk(this.data); } }, "scrollY": { "postInit": function () { this.data && A.al(this.data); } }, "zoom": { "preInit": function () { var e = this.data; if ("string" == typeof e) {
                            var t = e;
                            e = A.zoom.Ul(t);
                        } var n = e !== A.zoom.active, i = A.zoom.rj(); A.zoom.Vl(e, i); n ? this.date = i : this.date = null; }, "postInit": function () { this.date && A.Hk(this.date, !1, A.zoomPosition); } } };
                A.Jg = t, A.Ik.scrollToRequested && (t.scrollTo.data = A.Ik.scrollToRequested, A.Ik.scrollToRequested = null), A.Ik.scrollXRequested && (t.scrollX.data = A.Ik.scrollXRequested, A.Ik.scrollXRequested = null), A.Ik.scrollYRequested && (t.scrollY.data = A.Ik.scrollYRequested, A.Ik.scrollYRequested = null);
                for (var n in e)
                    t[n] || (A[n] = e[n]);
                for (var n in e)
                    if (t[n]) {
                        var i = t[n];
                        i.data = e[n], i.preInit && i.preInit();
                    }
            } }, this.Ig = function () { var e = A.Jg; for (var t in e) {
                var n = e[t];
                n.postInit && n.postInit();
            } A.Jg = {}; }, this.diag = function () { var e = {}; return e.dataEvents = A.events.list && A.events.list.length, e.dataRows = A.rowlist && A.rowlist.length, e.dataTimeline = A.itline && A.itline.length, e.dataCells = e.dataTimeline * e.dataRows, e.renderedEvents = A.elements.events.length, e.renderedCells = A.elements.cells.length, e.renderedRows = A.divResScroll.firstChild.childNodes.length - 1, e.domEvents = A.divEvents.getElementsByTagName("*").length, e.domCells = A.divCells.getElementsByTagName("*").length, e.domRows = A.divResScroll.getElementsByTagName("*").length, e; }, this.temp = {}, this.temp.allowDuplicateEventIds = !1, this.internal = {}, this.internal.initialized = function () { return A.Y; }, this.internal.dragInProgress = this.Ms, this.internal.startMoving = this.Ad, this.internal.invokeEvent = this.Nb, this.internal.eventMenuClick = this.bc, this.internal.timeRangeMenuClick = this.cc, this.internal.resourceHeaderMenuClick = this.Gm, this.internal.linkMenuClick = this.Fm, this.internal.bubbleCallBack = this.$b, this.internal.findEventDiv = this.lg, this.internal.rowStartMoving = this.Pm.Ad, this.internal.getNodeChildren = this.Qa, this.internal.callback = function () { A.ra.apply(A, arguments); }, this.internal.createRowObject = this.Im, this.internal.restools = this.Lq, this.internal.gantt = null, this.internal.adjustEndIn = A.vi, this.internal.adjustEndNormalize = A.Vi, this.internal.xssTextHtml = A.ma, this.internal.touch = A.ce, this.internal.cssNames = A.ws, this.internal.enableCellStacking = function (e) { A.ak = !0, A.bk = e; }, this.internal.deleteDragSource = function () { A.Yb(); }, this.internal.skipUpdate = A.Ik.skipUpdate, this.internal.skipped = A.Ik.skipped, this.internal.loadOptions = A.qg, this.internal.postInit = A.Ig, this.internal.enableAngular2 = function () { A.Ik.enabled = !0; }, this.internal.eventsFromAttr = function () { A.Ik.Wn = !0; }, this.internal.resourcesFromAttr = function () { A.Ik.bo = !0; }, this.internal.evImmediateRefresh = function () { A.events.zm(); }, this.internal.enableReact = function (e, t) { A.F.react = e, A.F.reactDOM = t; }, this.internal.reactRefs = function () { return g(A.F, {}, ["react", "reactDOM"]); }, this.Init = this.init, this.qg(l);
        }, l = "2022.4.5457" === (new DayPilot.Scheduler).v, DayPilot.Row = function (e, t) {
            if (!e)
                throw new DayPilot.Exception("No row object supplied when creating DayPilot.Row");
            if (!t)
                throw new DayPilot.Exception("No parent control supplied when creating DayPilot.Row");
            this.fu = {};
            var n = this.fu;
            n.id = e.id, n.name = e.name, n.data = e.resource, n.tags = e.tags;
            var i = this;
            i.isRow = !0, i.menuType = "resource", i.start = e.start, i.name = e.name, i.value = e.id, i.id = e.id, i.tags = e.tags, i.bubbleHtml = e.bubbleHtml, i.index = e.index, i.displayY = e.displayY, i.level = e.level, i.calendar = t, i.data = e.resource, i.grid = e.grid, i.ep = e, i.$ = {}, i.$.row = e, i.toJSON = function (e) { var t = {}; return t.start = this.start, t.name = this.name, t.value = this.value, t.id = this.id, t.index = this.index, t; }, i.parent = function () { return i.ep.Kq ? t.Im(i.ep.Kq) : null; }, i.children = function () { var e = x(i.$.row.children).map(function (e) { return t.Im(t.rowlist[e]); }); return e.add = function (e) { var t = i.$.row.resource; t.children || (t.children = []), t.children.push(e); }, e; }, i.splitParent = function () { return i.ep.split.parent ? t.Im(i.ep.split.parent) : null; }, i.splitChildren = function () { return (i.ep.split.list || []).map(function (e) { return t.Im(e); }); }, i.loaded = function () { return i.ep.loaded; }, Object.defineProperty(i, "hidden", { get: function () { return i.ep.hidden; } }), Object.defineProperty(i, "hiddenUsingFilter", { get: function () { return i.ep.Wq; }, set: function (e) { i.ep.Wq = e, e || (i.ep.hidden = !i.ep.Xq()); } }), i.cells = {}, i.cells.all = function () { for (var e = [], n = t.itline.length, a = i.index, r = 0; r < n; r++) {
                var o = t.cells.findXy(r, a, i.grid);
                e.push(o[0]);
            } return t.fo(e); }, i.cells.forRange = function (e, n) { var a = i, r = a.start.getTime() - t.wb().getTime(); e = new DayPilot.Date(e), n = new DayPilot.Date(n); var o = t.wb().addTime(r), s = t.ud().addTime(r); e < o && (e = o), n > s && (n = s); var l = t.cells.find(e, i)[0], d = t.cells.find(n.addTime(-1), i)[0]; if (!l)
                return null; if (!d)
                return null; if (l.y !== d.y)
                return null; for (var c = l.y, u = [], h = l.x; h <= d.x; h++)
                u.push(t.cells.Dd(h, c, l.grid)); return t.fo(u); }, i.cells.totalDuration = function () { return new DayPilot.Duration(i.cells.all().map(function (e) { return e.end.getTime() - e.start.getTime(); }).reduce(function (e, t) { return e + t; }, 0)); }, i.events = {}, i.events.all = function () { for (var e = x(), t = 0; t < i.ep.events.length; t++)
                e.push(i.ep.events[t]); return e; }, i.events.isEmpty = function () { return 0 === i.ep.events.length; }, i.events.forRange = function (e, t) { return i.ep.events.forRange(e, t); }, i.events.totalDuration = function () { var e = 0; return i.events.all().forEach(function (t) { e += t.part.end.getTime() - t.part.start.getTime(); }), new DayPilot.Duration(e); }, i.groups = {}, i.groups.collapseAll = function () { for (var e = 0; e < i.ep.blocks.length; e++) {
                new a(i.ep.blocks[e]).gu();
            } t.Sl(), t.Tl([i.ep]), t.db(); }, i.groups.expandAll = function () { for (var e = 0; e < i.ep.blocks.length; e++) {
                new a(i.ep.blocks[e]).hu();
            } t.Sl(), t.Tl([i.ep]), t.db(), t.ib(); }, i.groups.expanded = function () { for (var e = [], n = 0; n < i.ep.blocks.length; n++) {
                var r = i.ep.blocks[n];
                r.expanded && r.lines.length > t.groupConcurrentEventsLimit && e.push(new a(r));
            } return x(e); }, i.groups.collapsed = function () { for (var e = [], t = 0; t < i.ep.blocks.length; t++) {
                var n = i.ep.blocks[t];
                n.expanded || e.push(new a(n));
            } return x(e); }, i.groups.all = function () { for (var e = [], t = 0; t < i.ep.blocks.length; t++) {
                var n = i.ep.blocks[t];
                e.push(new a(n));
            } return x(e); }, i.events.collapseGroups = i.groups.collapseAll, i.events.expandGroups = i.groups.expandAll, i.column = function (e) { return new r(i, e); }, i.toggle = function () { t.Do(i.index); }, i.collapse = function () { i.$.row.expanded && i.toggle(); }, i.expand = function () { i.$.row.expanded || i.toggle(); }, i.remove = function () { t.rows.remove(i); }, i.edit = function () { t.rows.edit(i); }, i.addClass = function (e) { var n = i, a = t.divHeader, n = a.rows[n.index]; if (n) {
                f(x(n.cells).map(function (e) { return e.cellDiv; }), e);
            } i.$.row.cssClass = DayPilot.Util.addClassToString(i.$.row.cssClass, e), i.data.cssClass = e; }, i.removeClass = function (e) { var n = i, a = t.divHeader, n = a.rows[n.index]; if (n) {
                h(x(n.cells).map(function (e) { return e.cellDiv; }), e);
            } i.$.row.cssClass = DayPilot.Util.removeClassFromString(i.$.row.cssClass, e), i.data.cssClass = DayPilot.Util.removeClassFromString(i.data.cssClass, e); };
            var a = function (e) {
                var n = function (e) {
                    for (var n = 0; n < t.elements.events.length; n++) {
                        var i = t.elements.events[n];
                        if (i.event === e)
                            return i;
                    }
                    return null;
                };
                this.hu = function () { e.expanded = !0; var i = t.hq; x(e.events).forEach(function (e) { i.push(e.id()); }); var a = n(e); if (a) {
                    t.Zr(a);
                    var r = D(t.elements.events, a);
                    r !== -1 && t.elements.events.splice(r, 1);
                } }, this.expand = function () { this.hu(), t.Sl(), t.Tl([e.row]), t.db(), t.ib(); }, this.gu = function () { if (e.lines.length > t.groupConcurrentEventsLimit) {
                    e.expanded = !1;
                    var n = x(e.events).map(function (e) { return e.id(); });
                    t.hq = t.hq.filter(function (e) { return !k(n, e); });
                } }, this.collapse = function () { this.gu(), t.Sl(), t.Tl([e.row]), t.db(); };
            }, r = function (e, t) { this.html = function (e) { var n = i.calendar.divHeader, i = n.rows[i.index]; if (!i)
                throw new DayPilot.Exception("Row not rendered"); var a = i.cells[t], r = a.textDiv; return "undefined" == typeof e ? r.innerHTML : void (r.innerHTML = e); }; };
        }, o.Il = null, o.jo = null, o.hf = null, o.oo = null, o.Ho = null, o.Hl = !1, o.Kf = !1, o.Hs = null, o.ba = null, o.iu = function (e, t, n, i) { DayPilot.us(e); var a = o.qp = {}; return a.element = e, a.duration = t, a.text = i, a.id = n, a.data = { "id": n, "text": i, "duration": t, "externalHtml": i }, !1; }, DayPilot.Scheduler.def = {}, DayPilot.Scheduler.startDragging = function (e) { var e = e || {}, t = e.element, n = e.keepElement ? null : t; DayPilot.us(t); var i = o.qp = {}; return i.element = n, i.id = e.id, i.duration = e.duration || 60, i.text = e.text || "", i.data = e, i.jf = e, i.kf = e.data, !1; }, DayPilot.Scheduler.makeDraggable = function (e) { function t() { var t = o.qp = {}; t.element = i, t.id = r, t.duration = l, t.text = s, t.data = e, t.jf = e, t.kf = e.data; } e = e || {}; var n = e.element, i = e.keepElement ? null : e.remove || n, a = e.data || {}, r = "undefined" != typeof e.id ? e.id : a.id, s = "string" == typeof e.text ? e.text : a.text || "", l = e.duration || a.duration; if (l instanceof DayPilot.Duration && (l = l.totalSeconds()), l || (l = a.start && a.end ? new DayPilot.Duration(a.start, a.end).totalSeconds() : 60), !n)
            throw new DayPilot.Exception("makeDraggable(options): options.element must be specified"); DayPilot.us(n), DayPilot.re(n, "mousedown", function (e) { if (y(e).left) {
            t();
            var n = e.target || e.srcElement;
            if (n.tagName) {
                var i = n.tagName.toLowerCase();
                if ("textarea" === i || "select" === i || "input" === i)
                    return !1;
            }
            return e.preventDefault(), !1;
        } }), DayPilot.reNonPassive(n, "touchstart", function (e) { window.setTimeout(function () { t(), o.Nf(e), e.preventDefault(); }, 0), e.preventDefault(); }); }, DayPilot.Scheduler.stopDragging = function () { if (o.qp && o.qp.Xs) {
            var e = o.qp.Xs, t = e.event.calendar;
            t && h(e, t.K(n.ws.eventMovingSource));
        } if (o.ju(), o.oo && (C(o.Go), o.oo = null, o.Ho = null, o.Go = null), o.Il) {
            var n = o.jo.calendar;
            n && (n.Xb(), n.Na = null, h(o.Il, n.K(n.ws.eventMovingSource))), C(o.lp), o.Il = null, o.jo = null, o.lp = null;
        } if (o.po) {
            var n = o.po.calendar;
            n.clearSelection(), o.po = null;
        } d().style.cursor = "", x(o.df).forEach(function (e) { e.Ma(), e.up(), e.Pm.Aq(), e.jp.clear(); }); }, DayPilot.Scheduler.registerDropTarget = function (e) { e = e || {}; var t = e.element, n = e.onDragOver, i = "function" == typeof n, a = e.onDrop, r = "function" == typeof a, s = e.onDragLeave, l = "function" == typeof s; if (!t)
            throw new DayPilot.Exception("registerDropTarget(options): options.element must be specified"); t.addEventListener("mousemove", function (e) { if (o.qp) {
            var t = o.qp.event;
            if (t && i) {
                var a = {};
                a.e = t, n(a);
            }
        } }), t.addEventListener("mouseleave", function (e) { if (o.qp) {
            var t = o.qp.event;
            if (t && l) {
                var n = {};
                n.e = t, s(n);
            }
        } }), t.addEventListener("mouseup", function (e) { if (o.qp) {
            var t = o.qp.event;
            if (t && r) {
                var n = {};
                n.e = t, a(n);
            }
        } }); }, o.ju = function () { o.Ws && (d().removeChild(o.Ws), o.Ws = null), o.qp = null; }, o.ku = function () { var e = o.qp; if (e) {
            var t = e && e.jf, n = t && t.onDrop;
            if ("function" == typeof n) {
                var i = {};
                i.options = t, n(i);
            }
        } }, o.Hg = function (e) { o.df || (o.df = x(), o.df.out = function () { o.df.forEach(function (e) { e.Ka(); }); }); for (var t = 0; t < o.df.length; t++)
            if (o.df[t] === e)
                return; o.df.push(e); }, o.Ha = function (e) { var t = o.df; if (t) {
            var n = D(t, e);
            n !== -1 && t.splice(n, 1), 0 === t.length && (t = null);
        } t || (DayPilot.ue(document, "mousemove", o.Lf), DayPilot.ue(document, "mouseup", o.Mf), DayPilot.ue(document, "mousedown", o.Or), DayPilot.ue(document, "touchmove", o.Nf), DayPilot.ue(document, "touchend", o.Of), DayPilot.ue(window, "keyup", o.Pr), o.Kf = !1); }, o.Nf = function (e) { if (o.oo) {
            var i = o.oo.event.calendar;
            i.coords = i.ce.ag(e), i.ce.$f(), e.preventDefault();
        } if (o.Il && !o.qp) {
            e.preventDefault();
            var i = o.jo.calendar;
            i.coords = i.ce.ag(e), i.ce._f(), function () { if (i.dragOutAllowed) {
                var n = t(e);
                if (!n || n !== i) {
                    var a = o.jo;
                    o.qp = {};
                    var r = o.qp;
                    r.id = a.id(), r.text = a.text(), r.Xs = o.Il, r.element = null, r.duration = (a.rawend().getTime() - a.start().getTime()) / 1e3, r.text = a.text(), r.id = a.id(), r.event = g(a, new DayPilot.Event), i.up(), C(o.lp), o.lp.calendar = null, o.lp = null, o.no = null, o.df.out();
                }
            } }();
        } if (o.qp) {
            e.preventDefault();
            var a = n(e), i = t(e);
            if (i) {
                if (o.Ws && d().removeChild(o.Ws), o.Ws = null, i.coords = i.ce.ag(e), !o.lp && i.rowlist.length > 0) {
                    if (!o.Il) {
                        o.Il = {};
                        var r = o.qp.event;
                        if (!r) {
                            var e = i.Ys();
                            r = new DayPilot.Event(e), r.calendar = i, r.part.duration = 1e3 * o.qp.duration;
                        }
                        r.part.external = !0;
                        var s = o.qp.Xs;
                        s && s.event && s.event.calendar === i && (r.part.external = !1), o.jo = r;
                    }
                    o.lp = i.ob(o.jo);
                }
                o.Il && i.ce._f();
            }
            else {
                C(o.lp);
                var l = o.Il;
                o.Il = null, o.jo = null, o.lp = null, o.Ws || (o.Ws = o.lu(o.qp.jf), o.Ws.source = l);
                var c = o.Ws;
                c.style.left = a.x + "px", c.style.top = a.y + "px", o.df.out();
            }
        } }, o.Of = function (e) { o.pr = !1, o.Mf(e); }, o.Lf = function (e) { if ("undefined" != typeof o && !w.touch.active && !w.touch.start && !(e.insideMainD || e.srcElement && e.srcElement.inside)) {
            var t = DayPilot.mc(e);
            if (o.qp) {
                if (!o.qp.mu) {
                    var n = o.qp.jf || {}, i = n.onDragStart, a = !1;
                    if ("function" == typeof i) {
                        var r = {};
                        r.options = n, r.preventDefault = function () { r.preventDefault.value = !0; }, i(r), a = r.preventDefault.value;
                    }
                    if (o.qp.mu = !0, a)
                        return o.ku(), void (o.qp = null);
                }
                d().style.cursor = "move", o.Ws || (o.Ws = o.lu(o.qp.jf));
                var s = o.Ws;
                if (s.style.left = t.x + "px", s.style.top = t.y + "px", o.Il = null, o.jo = null, o.lp) {
                    var l = o.lp.calendar;
                    l && l.up(), o.lp.calendar = null, C(o.lp), o.lp = null;
                }
            }
            else if (o.Il && o.jo && o.jo.calendar.dragOutAllowed && !o.qp) {
                var l = o.jo.calendar, e = o.jo;
                d().style.cursor = "move", o.Ws || (o.Ws = o.lu(e.data), o.Ws.source = o.Il);
                var s = o.Ws;
                s.style.left = t.x + "px", s.style.top = t.y + "px", o.qp = {};
                var c = o.qp;
                c.Xs = o.Il, c.element = null, c.duration = (e.rawend().getTime() - e.start().getTime()) / 1e3, c.text = e.text(), c.id = e.value(), c.event = g(e, new DayPilot.Event), l.up(), C(o.lp), o.lp.calendar = null, o.lp = null;
            }
            if (o.Ip && 0 === e.buttons) {
                o.Ip.cleanup(), o.Ip = null;
            }
            o.df.out();
        } }, o.Kg = function (e) { if (o.df)
            for (var t = 0; t < o.df.length; t++) {
                var n = o.df[t];
                o.Ha(n);
            } }, o.Or = function (e) { o.Qn && o.Qn.blur(); }, o.Pr = function (e) { 17 === e.keyCode && o.Js && o.Js.kt.dispatch(); }, o.Mf = function (e) { if (x(o.df).forEach(function (e) { e.Ma(), e.Il = {}, e.Ns = null; }), o.oo) {
            var t = function () { var e = o.Ho, t = e.calendar; d().style.cursor = "", o.oo = null, o.Ho = null, C(o.Go), o.Go = null, t && (t.Os = null); };
            if (setTimeout(function () { o.Hl = !1; }), !o.Go)
                return void t();
            var n = o.Ho, i = n.calendar, a = o.Go.finalStart, r = o.Go.finalEnd, l = o.Go.overlapping, c = !o.Go.allowed, u = i.Xo.isInvalid();
            i.up(), i.Xo.clear();
            var f = "left" === o.oo.dpBorder ? "start" : "end";
            if (t(), l || c || u || i.Xo.forbidden)
                return;
            i.Sb(n, a, r, f);
        }
        else if (o.jo) {
            var t = function () { w.movingAreaData = null; var e = o.lp && o.lp.calendar; o.lp && (C(o.lp), o.lp.calendar = null), d().style.cursor = "", o.Il = null, o.jo = null, o.ku(), o.qp = null, e && (e.Na = null); };
            if (setTimeout(function () { o.Hl = !1; }), !o.lp)
                return void t();
            var v = o.qp && o.qp.Xs, n = v ? v.event : o.jo, i = o.lp.calendar;
            if (!i)
                return void t();
            if (n.calendar && n.calendar !== i) {
                var p = n.calendar, m = n, b = g(n.data);
                n = new DayPilot.Event(b, p), n.part = { "external": !0, "duration": p.so(m) };
            }
            if (o.lp.source = o.Il, function () { if (o.qp && o.qp.Xs) {
                var e = o.qp.Xs;
                if (e && e.event) {
                    h(e, e.event.calendar.K(i.ws.eventMovingSource));
                }
            } }(), !o.lp.row)
                return void t();
            clearTimeout(i.Bo.timeout);
            var a = o.lp.start, r = o.lp.end, k = "Days" !== i.viewType ? o.lp.row.id : null, D = n.part.external, E = o.lp.line, l = o.lp.overlapping, c = !o.lp.allowed;
            if (o.qp && (i.Fk || (i.Fk = {}), i.Fk.Gk = o.qp.element, o.ku(), o.qp = null), o.lp.calendar = null, d().style.cursor = "", o.Il = null, o.jo = null, l || c || i.jp.forbidden || i.jp.invalid)
                return void i.Xb();
            i.Wb(n, a, r, k, D, e, E), w.movingAreaData = null;
        }
        else if (o.po) {
            var T = y(e), A = o.po, i = A.calendar, t = function () { };
            i.ht = null;
            var H = e.ctrlKey || e.metaKey;
            if (i.allowMultiRange)
                return i.elements.range2.overlapping ? (C(i.elements.range2), i.elements.range2 = null, i.up()) : i.kt.add(A), o.po = null, H || T.left && i.kt.dispatch(), void t();
            if (o.Hs)
                return clearTimeout(o.Hs), o.Hs = null, void t();
            i.Dm = A, o.po = null;
            var M = function (e) { return function () { o.Hs = null; var t = i.elements.range2; return t && t.overlapping ? void i.clearSelection() : (i.Am(e), void ("Hold" !== i.timeRangeSelectedHandling && "HoldForever" !== i.timeRangeSelectedHandling ? s() : i.Dm = e)); }; }, R = i.it(A);
            if (t(), !T.left)
                return void (o.Hs = null);
            if (A.moved || "Disabled" === i.timeRangeDoubleClickHandling)
                return M(R)(), e.cancelBubble = !0, !1;
            o.Hs = setTimeout(M(R), i.doubleClickTimeout);
        }
        else if (S.row) {
            var i = S.calendar;
            i && i.zq();
        }
        else if (_.source) {
            var i = _.calendar;
            i.tn.Di(), i.tn.jm(), _.source = null, _.calendar = null;
        }
        else if (o.Ip) {
            var B = o.Ip;
            B.cleanup(), o.Ip = null;
        }
        else if (o.Ls) {
            var N = o.Ls, i = N.calendar;
            if (!N.moved)
                return o.Ls = null, void (i.Is(i.coords) || i.lt(e));
            var P = N.x, I = N.y, L = N.width, z = N.height, O = !1, U = i.Vk.Wk(P, I, L, z).map(function (e) { return e.event; }), j = function () { setTimeout(function () { i.Zs.clear(), o.Ls = null; }, 0), i.up(); };
            if ("function" == typeof i.onRectangleEventSelect || "function" == typeof i.onRectangleSelect) {
                var W = i.bn(I).i, F = i.bn(I + z).i, q = { "start": { "y": W }, "end": { "y": F } }, K = i.Zm(q), Y = {};
                if (Y.events = U, Y.append = !1, Y.start = i.getDate(P, !0), Y.end = i.getDate(P + L, !0), Y.resources = K, Y.preventDefault = function () { this.preventDefault.value = !0; }, "function" == typeof i.onRectangleEventSelect && i.onRectangleEventSelect(Y), "function" == typeof i.onRectangleSelect && i.onRectangleSelect(Y), Y.preventDefault.value)
                    return i.Zs.clear(), o.Ls = null, void j();
                O = Y.append;
            }
            if ("EventSelect" === i.oa.Xt() && (O || i.multiselect.clear(!0), U.forEach(function (e) { i.multiselect.add(e, !0); }), i.multiselect.redraw()), j(), "function" == typeof i.onRectangleEventSelected || "function" == typeof i.onRectangleSelected) {
                var Y = {};
                Y.events = U, "function" == typeof i.onRectangleEventSelected && i.onRectangleEventSelected(Y), "function" == typeof i.onRectangleSelected && i.onRectangleSelected(Y);
            }
        } if (o.qp && (o.qp.event && o.qp.event.part && delete o.qp.event.part.external, o.ku(), o.qp = null, d().style.cursor = ""), o.Ws) {
            if (o.Ws.source) {
                var v = o.Ws.source;
                if (v.event) {
                    var i = o.Ws.source.event.calendar;
                    h(o.Ws.source, i.K(i.ws.eventMovingSource));
                }
                else
                    s();
            }
            d().removeChild(o.Ws), o.Ws = null;
        } o.io = null, o.no = null; }, o.lu = function (e) { e = e || {}; var t = document.createElement("div"); return t.setAttribute("unselectable", "on"), t.style.position = "absolute", t.style.width = "100px", t.style.height = "20px", t.style.zIndex = 101, t.style.pointerEvents = "none", t.style.backgroundColor = "#aaaaaa", t.style.opacity = .5, t.style.overflow = "hidden", t.className = e.externalCssClass, e.externalHtml && (t.innerHTML = e.externalHtml), d().appendChild(t), t; };
        var S = {};
        w.rowmoving = S;
        var _ = {};
        w.linking = _, "undefined" != typeof jQuery && !function (e) { e.fn.daypilotScheduler = function (e) { var t = null, n = this.each(function () { if (!this.daypilot) {
            var n = new DayPilot.Scheduler(this.id || this, e);
            n.init(), this.daypilot = n, t || (t = n);
        } }); return 1 === this.length ? t : n; }; }(jQuery), function () { var e = DayPilot.am(); e && e.directive("daypilotScheduler", ["$parse", function (e) { return { "restrict": "E", "template": "<div id='{{id}}'></div>", "compile": function (t, n) { return t[0].removeAttribute("id"), t[0].innerHTML = this["template"].replace("{{id}}", n["id"]), function (t, n, i) { var a = new DayPilot.Scheduler(n[0].firstChild); a.mg.scope = t; var r = i["id"]; r && (t[r] = a); var o = i["publishAs"]; if (o) {
                    (0, e(o).assign)(t, a);
                } for (var s in i)
                    if (0 === s.indexOf("on")) {
                        var l = DayPilot.Util.shouldApply(s);
                        l ? !function (n) { a[n] = function (a) { var r = e(i[n]); DayPilot.Util.safeApply(t, function () { r(t, { "args": a }); }); }; }(s) : !function (n) { a[n] = function (a) { e(i[n])(t, { "args": a }); }; }(s);
                    } var d = t["$watch"], c = i["config"] || i["daypilotConfig"], u = i["events"] || i["daypilotEvents"]; c || a.init(), d.call(t, c, function (e, t) { a.qg(e), a.Y ? (a.update(), a.Ig()) : a.init(); }, !0), u && d.call(t, u, function (e) { a.events.list = e, a.bd({ "eventsOnly": !0 }); }, !0), t.$on("$destroy", function () { a.dispose(); }); }; } }; }]); }(), "undefined" != typeof Sys && Sys.Application && Sys.Application.notifyScriptLoaded && Sys.Application.notifyScriptLoaded();
    }
}(DayPilot), "undefined" == typeof DayPilot)
    var DayPilot = {};
"undefined" == typeof DayPilot.Global && (DayPilot.Global = {}), function (DayPilot) { "undefined" == typeof DayPilot.Year && (DayPilot.Year = function (e, t) { this.v = "2022.4.5457"; this.startDate = new DayPilot.Date, this.cssOnly = !0, this.cssClassPrefix = null, this.columns = 4, this.cellWidth = 20, this.showWeekNumbers = !1, this.nu = [], this.Wi = function () { this.root.dp = this, this.mh = new DayPilot.Date(this.startDate.toString("yyyy-01-01", "en-us")); }, this.K = function (e) { return this.cssClassPrefix ? this.cssClassPrefix + e : ""; }, this.Xi = function () { return this.showWeekNumbers ? this.cellWidth : 0; }, this.fp = function () { this.nu = []; var e = this.columns, t = 12 / e; this.root.className = this.K("_main"), this.root.style.width = e * (7 * this.cellWidth + this.Xi()) + "px"; for (var n = 0; n < t; n++) {
    for (var i = 0; i < e; i++) {
        var a = n * e + i, r = r + "_nav_" + a, o = document.createElement("div");
        o.id = r, o.style.float = "left", this.root.appendChild(o);
        var s = new DayPilot.Navigator(r);
        s.startDate = this.mh.addMonths(a), s.cssOnly = this.cssOnly, s.cssClassPrefix = this.cssClassPrefix, s.cellWidth = this.cellWidth, s.showWeekNumbers = this.showWeekNumbers, s.internal.showLinks = {}, s.selectMode = "none", s.timeRangeSelectedHandling = "JavaScript", s.onTimeRangeSelected = this.ou, s.init(), s.root.className = "", this.nu.push(s);
    }
    var l = document.createElement("div");
    l.style.clear = "left", this.root.appendChild(l);
} }, this.ou = function (e) { alert("clicked: " + e.day); }, this.init = function () { if (this.root = document.getElementById(e), !this.root.dp)
    return this.Wi(), this.fp(), this; }; }); }(DayPilot);

function rand() {
    return ((1 + Math.random()) * 0x10000) | 0;
}
;
function optHash(options) {
    return JSON.stringify(options);
}
;
class EventDiff {
    constructor() {
        this.orig = { "hashes": {} };
    }
    diff(list) {
        const orig = this.orig;
        let result = {};
        // new hashes, new ids
        let hashes = {};
        list = list || [];
        for (let i = 0; i < list.length; i++) {
            let e = list[i];
            let id = e.id;
            if (!id) {
                throw "The 'id' property must be specified for event data object";
            }
            if (hashes.hasOwnProperty("" + id)) {
                throw "Duplicate event IDs are not allowed, id: " + id;
            }
            hashes["" + id] = JSON.stringify(e);
        }
        // array of new objects
        result.add = list.filter(function (item) {
            return !orig.hashes.hasOwnProperty(item.id);
        });
        // array of IDs
        result.remove = Object.getOwnPropertyNames(orig.hashes).filter(function (id) {
            return !hashes.hasOwnProperty(id);
        }).map(function (id) {
            return JSON.parse(orig.hashes[id]).id;
        }); // array of ids
        // array of new objects
        result.modify = list.filter(function (item) {
            return orig.hashes.hasOwnProperty(item.id) && orig.hashes[item.id] !== hashes[item.id];
        });
        result.changeCount = result.add.length + result.modify.length + result.remove.length;
        orig.hashes = hashes;
        return result;
    }
}

class DayPilotCalendarComponent {
    constructor() {
        this.viewChange = new EventEmitter();
        this.events = [];
        this._requestUpdateFull = false;
        this._requestUpdateEvents = false;
        this._requestViewChange = false;
        this._hashOptions = "";
        this._hashEvents = "";
        this._id = "dp_" + new Date().getTime() + rand();
    }
    get id() {
        return this._id;
    }
    ngOnInit() {
    }
    ngOnDestroy() {
        this.dispose();
    }
    ngAfterViewInit() {
        this.dispose();
        let dp = new DayPilot.Calendar(this.id);
        this.control = dp;
        this.updateOptions();
        this.updateEvents();
        this._requestUpdateFull = false; // config just loaded and calling init(), no need to call update again
        this._requestUpdateEvents = false; // config just loaded and calling init(), no need to call update again
        dp.init();
    }
    ngDoCheck() {
        if (!this.control) {
            return;
        }
        this.updateOptions();
        this.updateEvents();
        if (this._requestUpdateFull) {
            this.control.update();
            this._requestUpdateFull = false;
            this._requestUpdateEvents = false;
        }
        else if (this._requestUpdateEvents) {
            this.control.update({ "events": this.events });
            this._requestUpdateEvents = false;
        }
        if (this._requestViewChange) {
            this._requestViewChange = false;
            let args = {};
            this.viewChange.emit(args);
        }
    }
    dispose() {
        if (this.control) {
            this.control.dispose();
            //@ts-ignore
            this.control = null;
        }
    }
    updateOptions() {
        let hash = optHash(this.config);
        if (hash !== this._hashOptions) {
            let dp = this.control;
            dp.internal.loadOptions(this.config);
            this._requestUpdateFull = true;
            this._requestViewChange = true;
        }
        this._hashOptions = hash;
    }
    updateEvents() {
        let hash = optHash(this.events);
        if (hash !== this._hashEvents) {
            let dp = this.control;
            if (dp) {
                dp.events.list = this.events;
            }
            this._requestUpdateEvents = true;
        }
        this._hashEvents = hash;
    }
}
DayPilotCalendarComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "13.1.3", ngImport: i0, type: DayPilotCalendarComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });
DayPilotCalendarComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "12.0.0", version: "13.1.3", type: DayPilotCalendarComponent, selector: "daypilot-calendar", inputs: { events: "events", config: "config" }, outputs: { viewChange: "viewChange" }, ngImport: i0, template: `
    <div id='{{id}}'></div>`, isInline: true, styles: [""] });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "13.1.3", ngImport: i0, type: DayPilotCalendarComponent, decorators: [{
            type: Component,
            args: [{
                    selector: 'daypilot-calendar',
                    template: `
    <div id='{{id}}'></div>`,
                    styles: [``]
                }]
        }], propDecorators: { viewChange: [{
                type: Output
            }], events: [{
                type: Input
            }], config: [{
                type: Input
            }] } });

class DayPilotMonthComponent {
    constructor() {
        this.events = [];
        this._requestUpdate = false;
        this._hashOptions = "";
        this._hashEvents = "";
        this._id = "dp_" + new Date().getTime() + rand();
    }
    get id() {
        return this._id;
    }
    ngOnInit() {
    }
    ngOnDestroy() {
        this.dispose();
    }
    ngAfterViewInit() {
        this.dispose();
        this.control = new DayPilot.Month(this.id);
        this.updateOptions();
        this.updateEvents();
        this._requestUpdate = false; // config just loaded and calling init(), no need to call update again
        this.control.init();
    }
    ngDoCheck() {
        if (!this.control) {
            return;
        }
        this.updateOptions();
        this.updateEvents();
        if (this._requestUpdate) {
            this.control.update();
            this._requestUpdate = false;
        }
    }
    dispose() {
        if (this.control) {
            this.control.dispose();
            //@ts-ignore
            this.control = null;
        }
    }
    updateOptions() {
        let hash = optHash(this.config);
        if (hash !== this._hashOptions) {
            let dp = this.control;
            dp.internal.loadOptions(this.config);
            this._requestUpdate = true;
        }
        this._hashOptions = hash;
    }
    updateEvents() {
        let hash = optHash(this.events);
        if (hash !== this._hashEvents) {
            let dp = this.control;
            dp.events.list = this.events;
            this._requestUpdate = true;
        }
        this._hashEvents = hash;
    }
}
DayPilotMonthComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "13.1.3", ngImport: i0, type: DayPilotMonthComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });
DayPilotMonthComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "12.0.0", version: "13.1.3", type: DayPilotMonthComponent, selector: "daypilot-month", inputs: { events: "events", config: "config" }, ngImport: i0, template: `
    <div id='{{id}}'></div>`, isInline: true, styles: [""] });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "13.1.3", ngImport: i0, type: DayPilotMonthComponent, decorators: [{
            type: Component,
            args: [{
                    selector: 'daypilot-month',
                    template: `
    <div id='{{id}}'></div>`,
                    styles: [``]
                }]
        }], propDecorators: { events: [{
                type: Input
            }], config: [{
                type: Input
            }] } });

class DayPilotNavigatorComponent {
    constructor() {
        this.events = [];
        this.dateChange = new EventEmitter();
        this._requestUpdate = false;
        this._hashOptions = "";
        this._hashEvents = "";
        this._onTrs = null;
        this._dateSet = false;
        this._currentDate = null;
        this._date = DayPilot.Date.today();
        this._id = "dp_" + new Date().getTime() + rand();
    }
    get date() {
        return this._date;
    }
    // @Input() date: DayPilot.Date = DayPilot.Date.today();
    set date(value) {
        this._date = value;
        this._dateSet = true;
    }
    get id() {
        return this._id;
    }
    ngOnInit() {
    }
    ngOnDestroy() {
        this.dispose();
    }
    ngAfterViewInit() {
        this.dispose();
        this.control = new DayPilot.Navigator(this.id);
        let component = this;
        this.updateOptions();
        this.updateEvents();
        let dp = this.control;
        this.control.onTimeRangeSelected = function (args) {
            // emit event
            component.dateChange.emit(args.day);
            // call the original
            if (component._onTrs) {
                component._onTrs.call(dp, args);
            }
        };
        this._requestUpdate = false; // config just loaded and calling init(), no need to call update again
        this.control.init();
        if (this.control.selectionDay !== DayPilot.Date.today()) {
            component.dateChange.emit(this.control.selectionDay);
        }
    }
    ngDoCheck() {
        if (!this.control) {
            return;
        }
        this.updateOptions();
        this.updateEvents();
        if (this._requestUpdate) {
            this.control.update();
            this._requestUpdate = false;
        }
    }
    dispose() {
        if (this.control) {
            this.control.dispose();
            //@ts-ignore
            this.control = null;
        }
    }
    updateOptions() {
        let dp = this.control;
        let hash = optHash(this.config);
        if (hash !== this._hashOptions) {
            for (let name in this.config) {
                if (name === "selectionDay") {
                    continue; // ignore
                }
                if (name === "onTimeRangeSelected") {
                    this._onTrs = this.config.onTimeRangeSelected;
                }
                else {
                    dp[name] = this.config[name];
                }
                this._requestUpdate = true;
            }
        }
        if (this._dateSet && this.date) {
            this._dateSet = false;
            this._currentDate = dp.selectionDay;
            dp.select(this.date);
        }
        this._hashOptions = hash;
    }
    updateEvents() {
        let hash = optHash(this.events);
        if (hash !== this._hashEvents) {
            let dp = this.control;
            dp.events.list = this.events;
            this._requestUpdate = true;
        }
        this._hashEvents = hash;
    }
}
DayPilotNavigatorComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "13.1.3", ngImport: i0, type: DayPilotNavigatorComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });
DayPilotNavigatorComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "12.0.0", version: "13.1.3", type: DayPilotNavigatorComponent, selector: "daypilot-navigator", inputs: { events: "events", config: "config", date: "date" }, outputs: { dateChange: "dateChange" }, ngImport: i0, template: `
    <div id='{{id}}'></div>`, isInline: true, styles: [""] });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "13.1.3", ngImport: i0, type: DayPilotNavigatorComponent, decorators: [{
            type: Component,
            args: [{
                    selector: 'daypilot-navigator',
                    template: `
    <div id='{{id}}'></div>`,
                    styles: [``]
                }]
        }], propDecorators: { events: [{
                type: Input
            }], config: [{
                type: Input
            }], dateChange: [{
                type: Output
            }], date: [{
                type: Input
            }] } });

class DayPilotSchedulerComponent {
    constructor() {
        this.viewChange = new EventEmitter();
        this._requestUpdateFull = false;
        this._requestUpdateEvents = false;
        this._requestViewChange = false;
        this._eventDiff = new EventDiff();
        this._visibleRange = { start: new DayPilot.Date(), end: new DayPilot.Date() };
        this._hashOptions = "";
        this._eventsSet = false;
        this._events = [];
        this._id = "dp_" + new Date().getTime() + rand();
    }
    //@Input() events: DayPilot.EventData[];
    get events() {
        return this._events;
    }
    set events(value) {
        this._eventsSet = true;
        this._events = value;
    }
    get id() {
        return this._id;
    }
    ngOnInit() {
    }
    ngOnDestroy() {
        this.dispose();
    }
    ngAfterViewInit() {
        // not sure why this was called here, it shouldn't be
        // this.dispose();
        this.control = new DayPilot.Scheduler(this.id);
        let control = this.control;
        control.internal.enableAngular2();
        this.updateOptions();
        this.updateEvents();
        this._requestUpdateFull = false; // config just loaded and calling init(), no need to call update again
        this._requestUpdateEvents = false; // config just loaded and calling init(), no need to call update again
        this.control.init();
    }
    ngDoCheck() {
        if (!this.control) {
            return;
        }
        this.updateOptions();
        this.updateEvents();
        let control = this.control;
        if (this._requestUpdateFull) {
            this.control.update();
            control.internal.postInit();
            this._requestUpdateFull = false;
            this._requestUpdateEvents = false;
        }
        else if (this._requestUpdateEvents) {
            this.control.update({ "events": this.events });
            this._requestUpdateEvents = false;
        }
        if (this._requestViewChange) {
            this._requestViewChange = false;
            let args = {};
            args.visibleRangeChanged = this._visibleRange.start !== this.control.visibleStart() || this._visibleRange.end !== this.control.visibleEnd();
            this._visibleRange.start = this.control.visibleStart();
            this._visibleRange.end = this.control.visibleEnd();
            this.viewChange.emit(args);
        }
    }
    dispose() {
        if (this.control) {
            this.control.dispose();
            //@ts-ignore
            this.control = null;
        }
    }
    updateOptions() {
        let hash = optHash(this.config);
        if (hash !== this._hashOptions) {
            let control = this.control;
            if (this.config && this.config.resources) {
                control.internal.resourcesFromAttr();
            }
            if (control.internal.skipUpdate()) {
                control.internal.skipped();
            }
            else {
                control.internal.loadOptions(this.config);
                this._requestUpdateFull = true;
                this._requestViewChange = true;
            }
        }
        this._hashOptions = hash;
    }
    updateEvents() {
        if (!this._eventsSet) {
            return;
        }
        let diff = this._eventDiff.diff(this.events);
        let control = this.control;
        control.internal.eventsFromAttr();
        if (control.internal.skipUpdate()) {
            control.internal.skipped();
            //this._hashEvents = hash;
            return;
        }
        let maxInlineChanges = 10;
        if (diff.changeCount === 0 && this.events === control.events.list) {
            return;
        }
        if (diff.changeCount < maxInlineChanges && this.events === control.events.list) {
            diff.add.forEach(function (data) {
                control.events.add(new DayPilot.Event(data), null, { "renderOnly": true });
            });
            diff.modify.forEach(function (data) {
                control.events.update(new DayPilot.Event(data));
            });
            diff.remove.forEach(function (id) {
                let e = control.events.find(id);
                if (e) {
                    control.events.remove(e);
                }
            });
            control.internal.evImmediateRefresh();
            // make sure it's synced, after inline update
            //control.events.list = this.events;
        }
        else {
            control.events.list = this.events;
            this._requestUpdateEvents = true;
        }
    }
}
DayPilotSchedulerComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "13.1.3", ngImport: i0, type: DayPilotSchedulerComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });
DayPilotSchedulerComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "12.0.0", version: "13.1.3", type: DayPilotSchedulerComponent, selector: "daypilot-scheduler", inputs: { config: "config", events: "events" }, outputs: { viewChange: "viewChange" }, ngImport: i0, template: `
    <div id='{{id}}'></div>`, isInline: true, styles: [""] });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "13.1.3", ngImport: i0, type: DayPilotSchedulerComponent, decorators: [{
            type: Component,
            args: [{
                    selector: 'daypilot-scheduler',
                    template: `
    <div id='{{id}}'></div>`,
                    styles: [``]
                }]
        }], propDecorators: { viewChange: [{
                type: Output
            }], config: [{
                type: Input
            }], events: [{
                type: Input
            }] } });

class DayPilotGanttComponent {
    constructor() {
        this._requestUpdate = false;
        this._hashOptions = "";
        this._id = "dp_" + new Date().getTime() + rand();
    }
    get id() {
        return this._id;
    }
    ngOnInit() {
    }
    ngOnDestroy() {
        this.dispose();
    }
    ngAfterViewInit() {
        this.dispose();
        this.control = new DayPilot.Gantt(this.id);
        this.updateOptions();
        this._requestUpdate = false; // config just loaded and calling init(), no need to call update again
        this.control.init();
    }
    ngDoCheck() {
        if (!this.control) {
            return;
        }
        this.updateOptions();
        if (this._requestUpdate) {
            this.control.update();
            this._requestUpdate = false;
        }
    }
    dispose() {
        if (this.control) {
            this.control.dispose();
            //@ts-ignore
            this.control = null;
        }
    }
    updateOptions() {
        let hash = optHash(this.config);
        if (hash !== this._hashOptions) {
            let dp = this.control;
            dp.internal.loadOptions(this.config);
            this._requestUpdate = true;
        }
        this._hashOptions = hash;
    }
}
DayPilotGanttComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "13.1.3", ngImport: i0, type: DayPilotGanttComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });
DayPilotGanttComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "12.0.0", version: "13.1.3", type: DayPilotGanttComponent, selector: "daypilot-gantt", inputs: { config: "config" }, ngImport: i0, template: `
    <div id='{{id}}'></div>`, isInline: true, styles: [""] });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "13.1.3", ngImport: i0, type: DayPilotGanttComponent, decorators: [{
            type: Component,
            args: [{
                    selector: 'daypilot-gantt',
                    template: `
    <div id='{{id}}'></div>`,
                    styles: [``]
                }]
        }], propDecorators: { config: [{
                type: Input
            }] } });

class DayPilotKanbanComponent {
    constructor() {
        this._requestUpdate = false;
        this._hashOptions = "";
        this._id = "dp_" + new Date().getTime() + rand();
    }
    get id() {
        return this._id;
    }
    ngOnInit() {
    }
    ngOnDestroy() {
        this.dispose();
    }
    ngAfterViewInit() {
        this.dispose();
        this.control = new DayPilot.Kanban(this.id);
        this.updateOptions();
        this._requestUpdate = false; // config just loaded and calling init(), no need to call update again
        this.control.init();
    }
    ngDoCheck() {
        if (!this.control) {
            return;
        }
        this.updateOptions();
        if (this._requestUpdate) {
            this.control.update();
            this._requestUpdate = false;
        }
    }
    dispose() {
        if (this.control) {
            this.control.dispose();
            //@ts-ignore
            this.control = null;
        }
    }
    updateOptions() {
        let hash = optHash(this.config);
        if (hash !== this._hashOptions) {
            let dp = this.control;
            dp.internal.loadOptions(this.config);
            this._requestUpdate = true;
        }
        this._hashOptions = hash;
    }
}
DayPilotKanbanComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "13.1.3", ngImport: i0, type: DayPilotKanbanComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });
DayPilotKanbanComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "12.0.0", version: "13.1.3", type: DayPilotKanbanComponent, selector: "daypilot-kanban", inputs: { config: "config" }, ngImport: i0, template: `
    <div id='{{id}}'></div>`, isInline: true, styles: [""] });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "13.1.3", ngImport: i0, type: DayPilotKanbanComponent, decorators: [{
            type: Component,
            args: [{
                    selector: 'daypilot-kanban',
                    template: `
    <div id='{{id}}'></div>`,
                    styles: [``]
                }]
        }], propDecorators: { config: [{
                type: Input
            }] } });

class DayPilotQueueComponent {
    constructor() {
        this._requestUpdate = false;
        this._hashOptions = "";
        this._id = "dp_" + new Date().getTime() + rand();
    }
    get id() {
        return this._id;
    }
    ngOnInit() {
    }
    ngOnDestroy() {
        this.dispose();
    }
    ngAfterViewInit() {
        this.dispose();
        this.control = new DayPilot.Queue(this.id);
        this.updateOptions();
        this._requestUpdate = false; // config just loaded and calling init(), no need to call update again
        this.control.init();
    }
    ngDoCheck() {
        if (!this.control) {
            return;
        }
        this.updateOptions();
        if (this._requestUpdate) {
            this.control.update();
            this._requestUpdate = false;
        }
    }
    dispose() {
        if (this.control) {
            this.control.dispose();
            //@ts-ignore
            this.control = null;
        }
    }
    updateOptions() {
        let hash = optHash(this.config);
        if (hash !== this._hashOptions) {
            let dp = this.control;
            dp.internal.loadOptions(this.config);
            this._requestUpdate = true;
        }
        this._hashOptions = hash;
    }
}
DayPilotQueueComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "13.1.3", ngImport: i0, type: DayPilotQueueComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });
DayPilotQueueComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "12.0.0", version: "13.1.3", type: DayPilotQueueComponent, selector: "daypilot-queue", inputs: { config: "config" }, ngImport: i0, template: `
    <div id='{{id}}'></div>`, isInline: true, styles: [""] });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "13.1.3", ngImport: i0, type: DayPilotQueueComponent, decorators: [{
            type: Component,
            args: [{
                    selector: 'daypilot-queue',
                    template: `
    <div id='{{id}}'></div>`,
                    styles: [``]
                }]
        }], propDecorators: { config: [{
                type: Input
            }] } });

/**
@deprecated This component will be removed in the future. Use DayPilot.Modal instead.
 */
class DayPilotModalComponent {
    constructor(element) {
        this.element = element;
        this.autoFocus = true;
        this.close = new EventEmitter();
        this._visibility = "hidden";
    }
    get visible() {
        return this._visibility === "visible";
    }
    ngOnInit() {
    }
    show() {
        this._visibility = "visible";
        let element = this.element.nativeElement;
        if (this.autoFocus) {
            setTimeout(() => {
                let first = element.querySelector("input");
                first && first.focus();
            });
        }
    }
    hide(result) {
        this._visibility = "hidden";
        this.close.emit({ "result": result });
    }
}
DayPilotModalComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "13.1.3", ngImport: i0, type: DayPilotModalComponent, deps: [{ token: ElementRef }], target: i0.ɵɵFactoryTarget.Component });
DayPilotModalComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "12.0.0", version: "13.1.3", type: DayPilotModalComponent, selector: "daypilot-modal", inputs: { autoFocus: "autoFocus" }, outputs: { close: "close" }, ngImport: i0, template: `
    <div
      class="overlay"
      (click)="hide()"
      [class.visible]="visible"
    ></div>
    <div
      class="modal"
      [class.visible]="visible"
    >
      <ng-content></ng-content>
    </div>`, isInline: true, styles: [".modal{position:fixed;top:0px;left:0px;right:0px;max-height:80%;overflow-y:auto;padding:20px;background-color:#fff;transform:translateY(-100%)}.modal.visible{transform:translateY(0)}.overlay{position:fixed;top:0px;left:0px;right:0px;bottom:0px;background-color:#000;opacity:0;margin-left:100%}.overlay.visible{margin-left:0;opacity:.3}.modal{transition:transform .3s cubic-bezier(0,0,.3,1)}.overlay{transition:margin-left 0s linear .3s,opacity .3s}.overlay.visible{transition:margin-left 0s,opacity .3s}\n"] });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "13.1.3", ngImport: i0, type: DayPilotModalComponent, decorators: [{
            type: Component,
            args: [{
                    selector: 'daypilot-modal',
                    styles: [`
    .modal {
      position: fixed;
      top: 0px;
      left: 0px;
      right: 0px;
      max-height: 80%;
      overflow-y: auto;
      padding: 20px;
      background-color: white;

      transform: translateY(-100%);
    }

    .modal.visible {
      transform: translateY(0);
    }

    .overlay {
      position: fixed;
      top: 0px;
      left: 0px;
      right: 0px;
      bottom: 0px;
      background-color: #000;

      opacity: 0;
      margin-left: 100%;
    }

    .overlay.visible {
      margin-left: 0;
      opacity: 0.3;
    }

    .modal {
      transition: transform 0.3s cubic-bezier(0, 0, 0.3, 1);
    }

    .overlay {
      transition: margin-left 0s linear 0.3s, opacity 0.3s;
    }

    .overlay.visible {
      transition: margin-left 0s, opacity 0.3s;
    }
  `],
                    template: `
    <div
      class="overlay"
      (click)="hide()"
      [class.visible]="visible"
    ></div>
    <div
      class="modal"
      [class.visible]="visible"
    >
      <ng-content></ng-content>
    </div>`,
                }]
        }], ctorParameters: function () { return [{ type: i0.ElementRef, decorators: [{
                    type: Inject,
                    args: [ElementRef]
                }] }]; }, propDecorators: { autoFocus: [{
                type: Input
            }], close: [{
                type: Output
            }] } });

const COMPONENTS = [
    DayPilotCalendarComponent,
    DayPilotMonthComponent,
    DayPilotNavigatorComponent,
    DayPilotSchedulerComponent,
    DayPilotGanttComponent,
    DayPilotKanbanComponent,
    DayPilotQueueComponent,
    DayPilotModalComponent,
];
class DayPilotModule {
}
DayPilotModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "13.1.3", ngImport: i0, type: DayPilotModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });
DayPilotModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: "12.0.0", version: "13.1.3", ngImport: i0, type: DayPilotModule, declarations: [DayPilotCalendarComponent,
        DayPilotMonthComponent,
        DayPilotNavigatorComponent,
        DayPilotSchedulerComponent,
        DayPilotGanttComponent,
        DayPilotKanbanComponent,
        DayPilotQueueComponent,
        DayPilotModalComponent], exports: [DayPilotCalendarComponent,
        DayPilotMonthComponent,
        DayPilotNavigatorComponent,
        DayPilotSchedulerComponent,
        DayPilotGanttComponent,
        DayPilotKanbanComponent,
        DayPilotQueueComponent,
        DayPilotModalComponent] });
DayPilotModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: "12.0.0", version: "13.1.3", ngImport: i0, type: DayPilotModule, imports: [[]] });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "13.1.3", ngImport: i0, type: DayPilotModule, decorators: [{
            type: NgModule,
            args: [{
                    declarations: [
                        ...COMPONENTS
                    ],
                    imports: [],
                    exports: [
                        ...COMPONENTS
                    ]
                }]
        }] });

/*
 * Public API Surface of daypilot-pro-angular
 */

/**
 * Generated bundle index. Do not edit.
 */

export { DayPilot, DayPilotCalendarComponent, DayPilotGanttComponent, DayPilotKanbanComponent, DayPilotModalComponent, DayPilotModule, DayPilotMonthComponent, DayPilotNavigatorComponent, DayPilotQueueComponent, DayPilotSchedulerComponent };
//# sourceMappingURL=daypilot-pro-angular.mjs.map
